<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title></title>
  </head>
  <body>
    <h2 align="left">本科教学-数据库技术及应用(CENTOS环
      境)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      上机过程如有问题请看 &nbsp; <a href="/hustdbroot/hustbiodbqaa.html">oracle出
        错集锦</a><br>
    </h2>
    <h1 align="center">Oracle上机练习七： 数据库备份与恢复<span style="left:
        456.002px; top: 134.621px; font-size: 26.7px; font-family:
        monospace; transform: scaleX(0.999037);" role="presentation"
        dir="ltr"><span class="markedContent" id="page868R_mcid0"><span
            style="left: 456.002px; top: 134.621px; font-size: 26.7px;
            font-family: monospace; transform: scaleX(0.999037);"
            role="presentation" dir="ltr"></span></span></span></h1>
    备份和恢复都是数据库管理中非常重要的任务，用于保护数据库免受故障和灾难的影响。<br>
    在Oracle数据库中，备份和恢复可以通过多种方式实现,<span> 即采用工具将数据库对象导出到文件中，并在需要时将其导入到数据库中。<br>
    </span><span><span>根据备份数据的大小和备份时间的要求选择合适设备:&nbsp; </span>磁带、硬盘、网络存储
      等设备作为备份设备，。<br>
      <br>
    </span><font color="#ff0000">特注：<br>
      备份和恢复操作有潜在危险,
      需要谨慎处理，避免数据丢失和损坏。必须对备份数据进行定期测试和验证，以确保备份数据的完整性和可用性。同时，需要根据具体情况选择合适的
      备份策略和恢 复方案，以最大程度地保护数据库数据</font>。<br>
    <pre id="line1"><meta http-equiv="content-type" content="text/html; charset=UTF-8"><pre id="line1"><span><span class="attribute-name"></span></span><span>Oracle数据库备份与恢复的三种方法</span><br><span></span><span>当使用一个数据库时,总希望数据库的内容是可靠的、正确的,但由于计算机系统的故障（包括机器故障、介质故障、误操作等）,数据库有时也可能遭到破坏,这时如何尽快恢复数据就成为当务之急。<br>如果平时对数据库做了备份,那么此时恢复数据就显得很容易。由此可见,做好数据库的备份是多么的重要.<br>下面就以ORACLE19.3 为例,来讲述一下数据库的备份和恢复。<br><br>备份类型: 完全备份、增量备份、差异备份、归档日志备份、热备份、冷备份、基于快照的备份等<br>ORACLE 数据库有三种标准的备份方法,它们 分别为:<br>1. 导出/导入（EXPORT/IMPORT）、冷备份、热备份。<br>导出备份是一种逻辑备份,<br>2. 冷备份和热备份是物理备份。<br><br><br>一 使用Oracle Data Pump<br>二 Oracle Export/Import工具进行备份和恢复。</span><br><pre id="line1"><span>三: 常见的备份方式是使用Oracle RMAN（Recovery Manager）工具进行备份。<br>RMAN可以创建全备份、增量备份和归档日志备份等多种备份类型，可以将备份数据存储在磁盘、磁带等多种介质上。 <br>在恢复数据时，可以使用RMAN工具执行恢复操作。如果数据库无法启动，可以使用恢复目录和备份集创建一个临时的控制文件，以便进行数据库恢复。<br>RMAN还支持基于时间点的恢复，可以将数据库恢复到指定的时间点或SCN（System Change Number）。</span></pre><span></span><span></span><span>一、 导出／导入（Export／Import）</span><span></span><span>利用Export可将数据从数据库中提取出来,利用Import则可将提取出来的数据送回到Oracle数据库中去。<br></span><span></span><span>１、 简单导出数据（Export）和导入数据（Import）<br></span><span></span><span>Oracle支持三种方式类型的输出： <br></span><span>&nbsp;１、表方式（T方式）,将指定表的数据导出。 </span><br>&nbsp;2<span>、用户方式（U方式）,将指定用户的所有对象及数据导出。 </span>3<br>&nbsp;3<span>、全库方式（Full方式）,瘵数据库中的所有对象导出。 </span><br>&nbsp; &nbsp; <span></span><span>数据导入（Import）的过程是数据导出（Export）的逆过程,分别将数据文件导入数据库和将数据库数据导出到数据文件。 <br></span><span></span><span>２、 增量导出／导入 </span><span></span><span>增量导出是一种常用的数据备份方法,它只能对整个数据库来实施,并且必须作为SYSTEM来导出。在进行此种导出时,系统不要求回答任何问题。导出文件名缺省为export.dmp,如果不希望自己的输出文件定名为export.dmp,<br>必须在命令行中指出要用的文件名。 </span><span></span><span><br><br>增量导出包括三种类型： </span><span><br>１、“完全”增量导出（Complete）</span><span></span><span><br>  即备份三个数据库,比如： </span><span></span><span>
<span id="line422"></span> </span>exp system/manager inctype=complete&nbsp;file=mybiodb20240410.dmp<br>2.增量型”增量导出<br>备份上一次备份后改变的数据，比如: 
exp system/manager inctype=incremental file=mybiodb20240411.dmp<br>3.“累积型”增量导出<br>累积型导出方式是导出自上次“完全”导出之后数据库中变化了的信息。比如:<br>exp system/manager inctype=cumulative file=mybiodb20240412.dmp</pre></pre>
    <pre id="line1"><pre id="line1"><br><span></span></pre></pre>
    <span class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr">一、上
          机环境</span></span></span><span class="markedContent"
      id="page868R_mcid0"><span class="markedContent"
        id="page868R_mcid0"><span style="left: 150px; top: 473.185px;
          font-size: 20px; font-family: serif; transform:
          scaleX(1.00333);" role="presentation" dir="ltr"><span
            class="markedContent" id="page868R_mcid0"><span
              class="markedContent" id="page868R_mcid0"><span
                style="left: 185px; top: 515.25px; font-size: 17.5px;
                font-family: monospace; transform: scaleX(1);"
                role="presentation" dir="ltr"></span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            class="markedContent" id="page868R_mcid0"><span
              class="markedContent" id="page868R_mcid0"><span
                style="left: 185px; top: 515.25px; font-size: 17.5px;
                font-family: monospace; transform: scaleX(1);"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page868R_mcid0"><span
                    class="markedContent" id="page868R_mcid0"><span
                      style="left: 185px; top: 515.25px; font-size:
                      17.5px; font-family: monospace; transform:
                      scaleX(1);" role="presentation" dir="ltr"></span></span></span></span></span></span></span></span></span><br>
    <br>
    <span class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            class="markedContent" id="page868R_mcid0"><span
              class="markedContent" id="page868R_mcid0"><span
                style="left: 185px; top: 515.25px; font-size: 17.5px;
                font-family: monospace; transform: scaleX(1);"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page868R_mcid0"><span
                    class="markedContent" id="page868R_mcid0"><span
                      style="left: 195px; top: 368.65px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(1.11433);" role="presentation" dir="ltr">1.</span><span
                      style="left: 212.551px; top: 368.65px; font-size:
                      17.5px; font-family: serif;" role="presentation"
                      dir="ltr"> </span><span style="left: 220.001px;
                      top: 368.65px; font-size: 17.5px; font-family:
                      serif; transform: scaleX(0.992647);"
                      role="presentation" dir="ltr">硬件设备：计算机局域网，服务器 1
                      台，终端计算机每人一台</span><br role="presentation">
                    <span style="left: 195px; top: 401.95px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(1.11433);" role="presentation" dir="ltr">2.</span><span
                      style="left: 212.551px; top: 401.95px; font-size:
                      17.5px; font-family: serif;" role="presentation"
                      dir="ltr"> </span><span style="left: 220.001px;
                      top: 401.95px; font-size: 17.5px; font-family:
                      serif; transform: scaleX(0.972791);"
                      role="presentation" dir="ltr">软件系统：</span></span></span></span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            class="markedContent" id="page868R_mcid0"><span
              class="markedContent" id="page868R_mcid0"><span
                style="left: 185px; top: 515.25px; font-size: 17.5px;
                font-family: monospace; transform: scaleX(1);"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page868R_mcid0"><span
                    class="markedContent" id="page868R_mcid0"><span
                      style="left: 220.001px; top: 401.95px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(0.972791);" role="presentation" dir="ltr"><span
                        class="markedContent" id="page868R_mcid0"><span
                          class="markedContent" id="page868R_mcid0"><span
                            style="left: 150px; top: 473.185px;
                            font-size: 20px; font-family: serif;
                            transform: scaleX(1.00333);"
                            role="presentation" dir="ltr"><span
                              class="markedContent" id="page868R_mcid0"><span
                                class="markedContent"
                                id="page868R_mcid0"><span style="left:
                                  185px; top: 515.25px; font-size:
                                  17.5px; font-family: monospace;
                                  transform: scaleX(1);"
                                  role="presentation" dir="ltr">CENTOS
                                  7.9</span></span></span></span></span></span>/8.7



                      操作系统； Oracle 19.3/21c 服务端数据库系统<br>
                      3. 客</span><span style="left: 220.001px; top:
                      435.251px; font-size: 17.5px; font-family: serif;
                      transform: scaleX(1);" role="presentation"
                      dir="ltr">户端工具: </span></span></span></span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            class="markedContent" id="page868R_mcid0"><span
              class="markedContent" id="page868R_mcid0"><span
                style="left: 185px; top: 515.25px; font-size: 17.5px;
                font-family: monospace; transform: scaleX(1);"
                role="presentation" dir="ltr">图形界面管理Oracle: SQL
                Developer 23.1.0.097,&nbsp; MyEclipse和Eclipse管理Oracle数据库</span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          185px; top: 515.25px; font-size: 17.5px; font-family:
          monospace; transform: scaleX(1);" role="presentation"
          dir="ltr"></span></span></span><span class="markedContent"
      id="page868R_mcid0"><span class="markedContent"
        id="page868R_mcid0"><span style="left: 150px; top: 473.185px;
          font-size: 20px; font-family: serif; transform:
          scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><br>
                <br>
              </span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0">
      <meta http-equiv="content-type" content="text/html; charset=UTF-8">
      <span class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 208.985px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr">二、</span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 208.985px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            class="markedContent" id="page868R_mcid0"><span
              class="markedContent" id="page868R_mcid0"><span
                style="left: 150px; top: 473.185px; font-size: 20px;
                font-family: serif; transform: scaleX(1.00333);"
                role="presentation" dir="ltr">上机</span></span></span>目的</span><br
          role="presentation">
        <span style="left: 193.768px; top: 236.85px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.996235);"
          role="presentation" dir="ltr">1.掌握 imp、exp
          的使用，掌握备份和恢复表、用户模式、数据库。</span><br role="presentation">
        <span style="left: 193.768px; top: 262.849px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.0075);"
          role="presentation" dir="ltr">2.掌握联机备份和恢复方法。<br>
        </span></span></span><span class="markedContent"
      id="page868R_mcid0"><span class="markedContent"
        id="page868R_mcid0"><span style="left: 193.768px; top:
          262.849px; font-size: 17.5px; font-family: serif; transform:
          scaleX(1.0075);" role="presentation" dir="ltr"><span
            class="markedContent" id="page868R_mcid0"><span
              class="markedContent" id="page868R_mcid0"><span
                style="left: 193.733px; top: 288.849px; font-size:
                17.5px; font-family: serif; transform:
                scaleX(0.935371);" role="presentation" dir="ltr">3.了解 </span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          193.768px; top: 262.849px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1.0075);" role="presentation"
          dir="ltr"><span class="markedContent" id="page868R_mcid0"><span
              class="markedContent" id="page868R_mcid0"><span
                style="left: 193.733px; top: 288.849px; font-size:
                17.5px; font-family: serif; transform:
                scaleX(0.935371);" role="presentation" dir="ltr"><span
                  class="markedContent" id="page868R_mcid0"><span
                    class="markedContent" id="page868R_mcid0"><span
                      style="left: 150px; top: 473.185px; font-size:
                      20px; font-family: serif; transform:
                      scaleX(1.00333);" role="presentation" dir="ltr"><span
                        class="markedContent" id="page868R_mcid0"><span
                          class="markedContent" id="page868R_mcid0"><span
                            style="left: 185px; top: 515.25px;
                            font-size: 17.5px; font-family: monospace;
                            transform: scaleX(1);" role="presentation"
                            dir="ltr">SQL Developer备份表的方法</span></span></span></span></span></span>。<br>
              </span></span></span></span>4<span style="left: 193.733px;
          top: 288.849px; font-size: 17.5px; font-family: serif;
          transform: scaleX(0.935371);" role="presentation" dir="ltr">.了
          解RMAN 的使用。</span><span style="left: 150px; top: 333.285px;
          font-size: 20px; font-family: serif; transform:
          scaleX(1.00333);" role="presentation" dir="ltr"></span><br
          role="presentation">
        <span style="left: 220.001px; top: 435.251px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr"></span><br role="presentation">
        <span style="left: 150px; top: 473.185px; font-size: 20px;
          font-family: serif; transform: scaleX(1.00333);"
          role="presentation" dir="ltr">三、</span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            class="markedContent" id="page868R_mcid0"><span
              class="markedContent" id="page868R_mcid0"><span
                style="left: 150px; top: 473.185px; font-size: 20px;
                font-family: serif; transform: scaleX(1.00333);"
                role="presentation" dir="ltr">上机步骤</span></span></span></span><br
          role="presentation">
        <span style="left: 185px; top: 515.25px; font-size: 17.5px;
          font-family: monospace; transform: scaleX(1);"
          role="presentation" dir="ltr">（一）实验环境设置</span><br
          role="presentation">
        <span style="left: 185px; top: 541.949px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">在实验之前，请同学们按照如下步骤查看上机环境是否正常。</span><br
          role="presentation">
        <span style="left: 185px; top: 571.25px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.00857);"
          role="presentation" dir="ltr">1.所使用的计算机名称:<br>
          $ hostname<br>
          localhost.localdomain<br>
          <br>
        </span><span style="left: 833.4px; top: 571.25px; font-size:
          17.5px; font-family: serif;" role="presentation" dir="ltr"></span><span
          style="left: 150px; top: 601.25px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.04212);"
          role="presentation" dir="ltr">确保与 oracle 安装路径下的配置文件
          tnsnames.ora 和 listener.ora 文件中 host 值保持</span><span
          style="left: 150px; top: 631.25px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">一致，如下所示(对于</span></span></span>windows系统请自行查找机器名<span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 631.25px; font-size: 17.5px; font-family: serif;
          transform: scaleX(1);" role="presentation" dir="ltr">):<br>
          <pre># tnsnames.ora Network Configuration File: /opt/app/oracle/product/19.3.000/db_home/network/admin/tnsnames.ora
# Generated by Oracle configuration tools.

DRUGDB =
(DESCRIPTION =
(ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521))
(CONNECT_DATA =
(SERVER = DEDICATED)
(SERVICE_NAME = drugdb)
)
)

LISTENER_DRUGDB =
(ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521))
</pre>
        </span></span></span>
    <div align="center">
      <h3> tnsnames.ora 配置文件 </h3>
    </div>
    <span class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 631.25px; font-size: 17.5px; font-family: serif;
          transform: scaleX(1);" role="presentation" dir="ltr">
          <pre><span style="left: 402.4px; top: 963.214px; font-size: 15px; font-family: monospace; transform: scaleX(0.997079);" role="presentation" dir="ltr"><meta http-equiv="content-type" content="text/html; charset=UTF-8"><span class="markedContent" id="page868R_mcid0"><span style="left: 402.4px; top: 963.214px; font-size: 15px; font-family: monospace; transform: scaleX(0.997079);" role="presentation" dir="ltr"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span></span><br><br># listener.ora Network Configuration File: /opt/app/oracle/product/19.3.000/db_home/network/admin/listener.ora
# Generated by Oracle configuration tools.

LISTENER =
(DESCRIPTION_LIST =
(DESCRIPTION =
(ADDRESS = (PROTOCOL = TCP)(HOST = localhost)(PORT = 1521))
(ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))
)
)<br><span style="left: 402.4px; top: 1233.21px; font-size: 15px; font-family: monospace; transform: scaleX(1.09123);" role="presentation" dir="ltr"><meta http-equiv="content-type" content="text/html; charset=UTF-8"><span class="markedContent" id="page868R_mcid0"><span style="left: 402.4px; top: 1233.21px; font-size: 15px; font-family: monospace; transform: scaleX(1.09123);" role="presentation" dir="ltr"></span></span></span> <br></pre>
        </span></span></span>
    <div align="center">
      <h3><span class="markedContent" id="page868R_mcid0"> </span>
        listener.ora 配置文件 </h3>
    </div>
    <span class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 631.25px; font-size: 17.5px; font-family: serif;
          transform: scaleX(1);" role="presentation" dir="ltr">
          <pre>对于21版的文件，类似于上面的样子。<br></pre>
        </span></span></span><br>
    <span class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 631.25px; font-size: 17.5px; font-family: serif;
          transform: scaleX(1);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 130.25px; font-size: 17.5px;
            font-family: serif; transform: scaleX(1.00767);"
            role="presentation" dir="ltr">
            <meta http-equiv="content-type" content="text/html;
              charset=UTF-8">
            <span class="markedContent" id="page871R_mcid0"><span
                style="left: 150px; top: 130.25px; font-size: 17.5px;
                font-family: serif; transform: scaleX(1.00767);"
                role="presentation" dir="ltr"></span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 631.25px; font-size: 17.5px; font-family: serif;
          transform: scaleX(1);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 130.25px; font-size: 17.5px;
            font-family: serif; transform: scaleX(1.00767);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                130.25px; font-size: 17.5px; font-family: serif;
                transform: scaleX(1.00767);" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page868R_mcid0"><span class="markedContent"
                    id="page868R_mcid0"><span style="left: 150px; top:
                      631.25px; font-size: 17.5px; font-family: serif;
                      transform: scaleX(1);" role="presentation"
                      dir="ltr"><span style="left: 150px; top: 130.25px;
                        font-size: 17.5px; font-family: serif;
                        transform: scaleX(1.00767);" role="presentation"
                        dir="ltr"><span class="markedContent"
                          id="page871R_mcid0"><span style="left: 150px;
                            top: 130.25px; font-size: 17.5px;
                            font-family: serif; transform:
                            scaleX(1.00767);" role="presentation"
                            dir="ltr">2. 启动</span></span></span></span></span></span>查
                看 oracle 相关实例服务和监听器服务: <br>
                #lsnrctl start<br>
                $ ./sqlplus /nolog<br>
                SQL&gt; conn as sysdba<br>
                请输入用户名:&nbsp; sys<br>
                输入口令: xxxxxx<br>
                已连接到空闲例程。<br>
                <br>
                SQL&gt; startup<br>
                ORACLE 例程已经启动。<br>
                <br>
                Total System Global Area 1.1341E+10 bytes<br>
                Fixed Size&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp; 12686600 bytes<br>
                Variable Size&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
                &nbsp;1744830464 bytes<br>
                Database Buffers&nbsp;&nbsp;&nbsp; &nbsp;9563013120
                bytes<br>
                Redo Buffers&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp; 20865024 bytes<br>
                数据库装载完毕。<br>
                数据库已经打开。<br>
                <br>
              </span></span></span></span></span></span><br>
    <h3 id="line1">
      <pre id="line1"><span> (二)冷备份、热备份<br>   冷备份<br>   冷备份其实就是在脱机情况下将数据库进行备份，需要在数据库处于关闭状态下，将关键性的文件复制到安全的存储位置，<br>即将关键性文件进行复制拷贝。冷备份是一种快速、安全的备份方法。<br>   冷备份具有以下优点：<br>   1.快速，安全，操作简单;<br>   2.可进行快速执行时间点恢复；<br>   3. 能和归档方法相结合，将数据库以“最佳状态”进行恢复；<br>   4. 对备份文件的维护也相对简单和安全；<br>   <br>  冷备份缺点：<br>  1.单独使用，只能将数据库恢复到备份时的状态；<br>  2.备份过程中数据库要必须脱机，如果有业务需求时不能正常使用数据库；<br>  3. 只能进行物理备份，对存储介质造成一定空间浪费；<br>  4. 恢复时只能对整个数据库进行恢复，不能对更小粒度进行恢复；<br><br>  冷备份时需要对以下文件进行处理：<br>   1. 所有数据文件；<br>   2. 所有控制文件；<br>   3. init.ora文件等参数文件；<br><br>冷备份过程:<br>  #sqlplus / as sysdba<br>   SQL&gt;show user;<br>   SQL&gt;show pdbs;    //检查数据当前状态<br>   正常关闭数据库（使用下面的三个关闭命令中的一个即可）<br>   SQL&gt;shutdown immediate; / shutdown transactional; shutdown normal;<br>  等数据库关闭后，即可通过Linux的OS系统命令，或图形界面进行复复制备份工作，视数据库大小情况，可能需要较大的介质存储空间。<br>   <br> 热备份：也称为联机备份，即在数据库处于归档模式下进行备份。<br><br>查看数据库中日起的状态：<br>SQL&gt; archive log list;<br>数据库日志模式             非存档模式<br>自动存档                   禁用<br>存档终点                   /opt/oracle/product/23c/dbhomeFree/dbs/arch<br>最早的联机日志序列          26<br>当前日志序列                24<br><br>看起来目前数据库处于非归档模式，并且自动模式也处于禁用状态，需要设置日志模式为归档模式：<br>//在数据库打开状态下：但不能在open模式下，只能在mounted模式下进行<br>//如果有报:<br>第 1 行出现错误:<br>ORA-01126: 数据库必须已装载到此实例并且不在任何实例中打开（需要将数据库改为mounted模式）<br>&nbsp;<br><br>SQL&gt; show pdbs<br><br>    CON_ID CON_NAME			  OPEN MODE  RESTRICTED<br>---------- ------------------------------ ---------- ----------<br>	 2 PDB$SEED			  MOUNTED<br>	 3 FREEPDB1			  MOUNTED<br>	 4 PDBDRUGDB			  MOUNTED<br>SQL&gt; alter database archivelog;  //修改数据库系统日志方式为归档模式<br>数据库已更改。        //alter database archivelog;</span> <span>改为非归档模式</span></pre>
    </h3>
    <h3 id="line1"> </h3>
    <h3 id="line1">
      <pre id="line1"><span>SQL&gt; archive log list; <br>数据库日志模式            存档模式<br>自动存档                  启用<br>存档终点                  /opt/oracle/product/23c/dbhomeFree/dbs/arch<br>最早的联机日志序列         26<br>下一个存档日志序列         26<br>当前日志序列               24<br><br>现在看看数据库是不是处于： 归档模式，并且为自动存储模式。<br><br>将数据库设灶归档模式后，就可以进行数据库的热备份与恢复操作了：<br>SQL&gt; alter database open;  //打开数据库<br>数据库已更改。<br>SQL&gt; SQL&gt; show pdbs<br>    CON_ID CON_NAME			  OPEN MODE  RESTRICTED<br>---------- ------------------------------ ---------- ----------<br>	 2 PDB$SEED			  READ ONLY  NO<br>	 3 FREEPDB1			  READ WRITE NO<br>	 4 PDBDRUGDB			  MOUNTED<br>备份表空间：<br>先查有哪些表空间：<br>SQL&gt; set linesize 500;<br>SQL&gt; SELECT tablespace_name, file_id, bytes, blocks, maxbytes FROM dba_data_files;<br><br>TABLESPACE_NAME 			      FILE_ID	   BYTES     BLOCKS   MAXBYTES<br>-------------------------------------- ---------- ---------- ---------- ----------<br>USERS						    7	 5242880	640 3.4360E+10<br>UNDOTBS1					   11	62914560       7680 3.4360E+10<br>SYSTEM						    1 1132462080     138240 3.4360E+10<br>SYSAUX						    3 1352663040     165120 3.4360E+10<br><br>SQL&gt; alter tablespace USERS begin backup;<br>表空间已更改。<br>SQL&gt; alter tablespace USERS end backup;<br>表空间已更改<br><br>PDB好象不能进行热备份操作：<br>SQL&gt; alter session set container=PDBDRUGDB;<br>会话已更改。<br>SQL&gt; SHOW PDBS<br>    CON_ID CON_NAME			  OPEN MODE  RESTRICTED<br>---------- ------------------------------ ---------- ----------<br>	 4 PDBDRUGDB			  MOUNTED<br><br>SQL&gt; alter database archivelog;<br>alter database archivelog<br>*<br>第 1 行出现错误:<br>ORA-65040: 不允许从可插入数据库内部执行此操作。<br>帮助：https://docs.oracle.com/error-help/db/ora-65040/<br><br>SQL&gt; alter database open;   //alter database close;<br>数据库已更改。<br>SQL&gt; show pdbs<br>    CON_ID CON_NAME			  OPEN MODE  RESTRICTED<br>---------- ------------------------------ ---------- ----------<br>	 2 PDB$SEED			  READ ONLY  NO<br>	 3 FREEPDB1			  READ WRITE NO<br>	 4 PDBDRUGDB			  MOUNTED<br>SQL&gt; alter tablespace USERS begin backup;   //注意：需要成这个样子才可以成功！不能全为MOUNTED!<br>表空间已更改。</span><br></pre>
    </h3>
    <h3 id="line1">
      <pre id="line1"><span>现在可以拷数据到安全地方！</span></pre>
    </h3>
    <h3 id="line1">
      <pre id="line1"><span>SQL&gt; alter tablespace USERS end backup;<br><br></span></pre>
    </h3>
    <h3 id="line1">
      <pre id="line1"><span><br><br></span></pre>
    </h3>
    <h3 id="line1"> </h3>
    <span class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 631.25px; font-size: 17.5px; font-family: serif;
          transform: scaleX(1);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 130.25px; font-size: 17.5px;
            font-family: serif; transform: scaleX(1.00767);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                130.25px; font-size: 17.5px; font-family: serif;
                transform: scaleX(1.00767);" role="presentation"
                dir="ltr"> </span></span></span></span></span></span>
    <h3><span class="markedContent" id="page868R_mcid0"><span
          class="markedContent" id="page868R_mcid0"><span style="left:
            150px; top: 631.25px; font-size: 17.5px; font-family: serif;
            transform: scaleX(1);" role="presentation" dir="ltr"><span
              style="left: 150px; top: 130.25px; font-size: 17.5px;
              font-family: serif; transform: scaleX(1.00767);"
              role="presentation" dir="ltr"><span class="markedContent"
                id="page871R_mcid0"><span style="left: 150px; top:
                  130.25px; font-size: 17.5px; font-family: serif;
                  transform: scaleX(1.00767);" role="presentation"
                  dir="ltr"> </span></span></span></span></span></span><span
        class="markedContent" id="page868R_mcid0"><span
          class="markedContent" id="page868R_mcid0"><span style="left:
            185px; top: 515.25px; font-size: 17.5px; font-family:
            monospace; transform: scaleX(1);" role="presentation"
            dir="ltr">（</span></span></span><span class="markedContent"
        id="page868R_mcid0"><span class="markedContent"
          id="page868R_mcid0"><span style="left: 150px; top: 473.185px;
            font-size: 20px; font-family: serif; transform:
            scaleX(1.00333);" role="presentation" dir="ltr"><span
              style="left: 150px; top: 347.35px; font-size: 17.5px;
              font-family: monospace; transform: scaleX(1.0038);"
              role="presentation" dir="ltr"><span class="markedContent"
                id="page871R_mcid0"><span style="left: 150px; top:
                  347.35px; font-size: 17.5px; font-family: monospace;
                  transform: scaleX(1.0038);" role="presentation"
                  dir="ltr">三）</span></span></span></span></span></span><span
        class="markedContent" id="page868R_mcid0">逻辑备份: 采用<span
          class="markedContent" id="page868R_mcid0"><span style="left:
            150px; top: 473.185px; font-size: 20px; font-family: serif;
            transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
              style="left: 150px; top: 347.35px; font-size: 17.5px;
              font-family: monospace; transform: scaleX(1.0038);"
              role="presentation" dir="ltr"><span class="markedContent"
                id="page871R_mcid0"><span style="left: 150px; top:
                  347.35px; font-size: 17.5px; font-family: monospace;
                  transform: scaleX(1.0038);" role="presentation"
                  dir="ltr">exp基本用法</span></span></span></span></span></span></h3>
    <h3><span class="markedContent" id="page868R_mcid0"><span
          class="markedContent" id="page868R_mcid0"><span style="left:
            150px; top: 473.185px; font-size: 20px; font-family: serif;
            transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
              style="left: 150px; top: 347.35px; font-size: 17.5px;
              font-family: monospace; transform: scaleX(1.0038);"
              role="presentation" dir="ltr"><span class="markedContent"
                id="page871R_mcid0"><span style="left: 150px; top:
                  347.35px; font-size: 17.5px; font-family: monospace;
                  transform: scaleX(1.0038);" role="presentation"
                  dir="ltr"></span></span></span></span></span></span></h3>
    <span class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"> 通过输入 EXP 命令和您的用户名/口令, 导出<br>
                操作将提示您输入参数如: EXP SCOTT/TIGER<br>
                <br>
                或者, 您也可以通过输入跟有各种参数的 EXP 命令来控制导出<br>
                的运行方式。要指定参数, 您可以使用关键字:<br>
                <br>
                &nbsp;&nbsp;&nbsp;&nbsp; 格式:&nbsp; EXP KEYWORD=value 或
                KEYWORD=(value1,value2,...,valueN)</span></span></span></span></span></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



    exp&nbsp;&lt;username&gt;/&lt; password
    &gt;@servicename&nbsp;file=&lt;filename.dmp&gt;&nbsp;&nbsp;
    owner=ownername&nbsp;rows=y&nbsp;tables=&lt;table1,table2&gt;&nbsp;
    <wbr><wbr><wbr><wbr><wbr><span class="markedContent"
      id="page868R_mcid0"><span class="markedContent"
        id="page868R_mcid0"><span style="left: 150px; top: 473.185px;
          font-size: 20px; font-family: serif; transform:
          scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><br>
                &nbsp;&nbsp;&nbsp;&nbsp; 例如: EXP SCOTT/TIGER GRANTS=Y
                TABLES=(EMP,DEPT,MGR) 或 TABLES=(T1:P1,T1:P2), 如果 T1 是分区表<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



              </span></span></span></span></span></span>exp <span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr">SCOTT/TIGER</span></span></span></span></span></span>
    tables=scott.emp,scott.dept file=scott.dmp<span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"> </span></span></span></span></span></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



    exp owner=scott file=scott.dmp<span class="markedContent"
      id="page868R_mcid0"><span class="markedContent"
        id="page868R_mcid0"><span style="left: 150px; top: 473.185px;
          font-size: 20px; font-family: serif; transform:
          scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr">//</span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><span style="font-family: 宋体"><span
                    style="color: rgba(0, 0, 255, 1)"><span
                      style="font-family: 宋体">导出指定的用户</span></span></span></span></span></span></span></span></span><br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



    exp tablespaces=users file=user_ts.dmp<span class="markedContent"
      id="page868R_mcid0"><span class="markedContent"
        id="page868R_mcid0"><span style="left: 150px; top: 473.185px;
          font-size: 20px; font-family: serif; transform:
          scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr">&nbsp; //</span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><span style="font-family: 宋体"><span
                    style="color: rgba(0, 0, 255, 1)"><span
                      style="font-family: 宋体">导出指定的表空间</span></span></span></span></span></span></span></span></span><br>
    <p class="pre"><span class="markedContent" id="page868R_mcid0"><span
          class="markedContent" id="page868R_mcid0"><span style="left:
            150px; top: 473.185px; font-size: 20px; font-family: serif;
            transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
              style="left: 150px; top: 347.35px; font-size: 17.5px;
              font-family: monospace; transform: scaleX(1.0038);"
              role="presentation" dir="ltr"><span class="markedContent"
                id="page871R_mcid0"><span style="left: 150px; top:
                  347.35px; font-size: 17.5px; font-family: monospace;
                  transform: scaleX(1.0038);" role="presentation"
                  dir="ltr"></span></span></span></span></span></span></p>
    <span class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><br>
                USERID 必须是命令行中的第一个参数。</span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><br>
                关键字&nbsp;&nbsp; 说明
                (默认值)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                关键字&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 说明 (默认值)<br>
--------------------------------------------------------------------------<br>
                USERID&nbsp;&nbsp; 用户名/口
                令&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                FULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 导出整个文件
                (N)<br>
                BUFFER&nbsp;&nbsp;
                数据缓冲区大小&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                OWNER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 所有者用户名列表<br>
                FILE&nbsp;&nbsp;&nbsp;&nbsp; 输出文件 (EXPDAT.DMP)&nbsp;
                TABLES&nbsp;&nbsp;&nbsp;&nbsp; 表名列表<br>
                COMPRESS&nbsp; 导入到一个区 (Y)&nbsp;&nbsp;
                RECORDLENGTH&nbsp;&nbsp; IO 记录的长度<br>
                GRANTS&nbsp;&nbsp;&nbsp; 导出权限
                (Y)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                INCTYPE&nbsp;&nbsp;&nbsp;&nbsp; 增量导出类型<br>
                INDEXES&nbsp;&nbsp; 导出索引
                (Y)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                RECORD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 跟踪增量导出 (Y)<br>
                DIRECT&nbsp;&nbsp;&nbsp; 直接路径
                (N)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                TRIGGERS&nbsp;&nbsp;&nbsp;&nbsp; 导出触发器 (Y)<br>
                LOG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                屏幕输出的日志文件&nbsp;&nbsp;&nbsp; STATISTICS&nbsp;&nbsp;&nbsp;
                分析对象 (ESTIMATE)<br>
                ROWS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 导出数据行
                (Y)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                PARFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 参数文件名<br>
                CONSISTENT 交叉表的一致性 (N)&nbsp;&nbsp; CONSTRAINTS&nbsp;
                导出的约束条件 (Y)<br>
                <br>
                OBJECT_CONSISTENT&nbsp;&nbsp;&nbsp; 只在对象导出期间设置为只读的事务处理
                (N)<br>
                FEEDBACK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                每 x 行显示进度 (0)<br>
                FILESIZE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                每个转储文件的最大大小<br>
                FLASHBACK_SCN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                用于将会话快照设置回以前状态的 SCN<br>
                FLASHBACK_TIME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                用于获取最接近指定时间的 SCN 的时间<br>
                QUERY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                用于导出表的子集的 select 子句<br>
                RESUMABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                遇到与空格相关的错误时挂起 (N)<br>
                RESUMABLE_NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                用于标识可恢复语句的文本字符串<br>
                RESUMABLE_TIMEOUT&nbsp;&nbsp;&nbsp; RESUMABLE 的等待时间<br>
                TTS_FULL_CHECK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 对 TTS
                执行完整或部分相关性检查<br>
                TABLESPACES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                要导出的表空间列表<br>
                TRANSPORT_TABLESPACE 导出可传输的表空间元数据 (N)<br>
                TEMPLATE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                调用 iAS 模式导出的模板名<br>
                <br>
                <br>
              </span></span></span></span></span></span><span
      style="color:rgb(255,0,0)">创建测试分区表：</span><br>
    <span class="content-right_2s-H4">
      <meta http-equiv="content-type" content="text/html; charset=UTF-8">
      <span class="content-right_2s-H4"><em>分区表就是将表在物理存储层面分成多个小的片段,这些片段即
          称为分区</em>,每个分区保存表的一部分数据,表的分区对上层应用是完全透明的,从应用的角度来看,表在逻辑上依然是一个整体。</span></span><br>
    SQL&gt;&nbsp;create&nbsp;table&nbsp;cupid_test_exp(id&nbsp;number(10))&nbsp;



    partition&nbsp;by&nbsp;range(id) (
    partition&nbsp;p1&nbsp;values&nbsp;less&nbsp;than(10),&nbsp;
    partition&nbsp;p2&nbsp;values&nbsp;less&nbsp;than(20),&nbsp;
    partition&nbsp;p3&nbsp;values&nbsp;less&nbsp;than(maxvalue) )<br>
    <div>&nbsp; / </div>
    <span style="color:rgb(255,0,0)"></span><span class="markedContent"
      id="page868R_mcid0"><span class="markedContent"
        id="page868R_mcid0"><span style="left: 150px; top: 473.185px;
          font-size: 20px; font-family: serif; transform:
          scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page868R_mcid0"><span class="markedContent"
                    id="page868R_mcid0"><span style="left: 150px; top:
                      473.185px; font-size: 20px; font-family: serif;
                      transform: scaleX(1.00333);" role="presentation"
                      dir="ltr"><span style="left: 150px; top: 347.35px;
                        font-size: 17.5px; font-family: monospace;
                        transform: scaleX(1.0038);" role="presentation"
                        dir="ltr"><span class="markedContent"
                          id="page871R_mcid0"><span style="left: 150px;
                            top: 347.35px; font-size: 17.5px;
                            font-family: monospace; transform:
                            scaleX(1.0038);" role="presentation"
                            dir="ltr"></span></span></span></span></span></span>
              </span></span></span></span></span></span><br>
    准备数据：
    <div>
      SQL&gt;&nbsp;insert&nbsp;into&nbsp;cupid_test_exp&nbsp;values(1);
    </div>
    <div>
      SQL&gt;&nbsp;insert&nbsp;into&nbsp;cupid_test_exp&nbsp;values(11);
    </div>
    <div>
      SQL&gt;&nbsp;insert&nbsp;into&nbsp;cupid_test_exp&nbsp;values(21);
    </div>
    <div> SQL&gt;&nbsp;commit; </div>
    <div> 测试数据是否存在： </div>
    <div>
      <div>
        SQL&gt;&nbsp;select&nbsp;*&nbsp;from&nbsp;cupid_test_exp&nbsp;partition(p1);



      </div>
      <div> ID </div>
      <div> ---------- </div>
      <div> &nbsp;1 </div>
      <div>
        SQL&gt;&nbsp;select&nbsp;*&nbsp;from&nbsp;cupid_test_exp&nbsp;partition(p2);



      </div>
      <div> ID </div>
      <div> ---------- </div>
      <div> 11 </div>
      <div>
        SQL&gt;&nbsp;select&nbsp;*&nbsp;from&nbsp;cupid_test_exp&nbsp;partition(p3);



      </div>
      <div> ID </div>
      <div> ---------- </div>
      <div> 21 </div>
    </div>
    <br>
    <span style="color:rgb(255,0,0)">导出表分区</span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><br>
              </span></span></span></span></span></span><br>
    exp&nbsp;oacms/oacms&nbsp;buffer=5000&nbsp;file='d:/cupid_test_exp.dmp'&nbsp;tables=cupid_test_exp:p1,cupid_test_exp:p2;



    <span class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><br>
                <br>
              </span></span></span></span></span></span><span
      style="color:rgb(255,0,0)">导入表分区</span><br>
    imp oacms/oacms buffer=5000 file='d:/cupid_test_exp.dmp'
    tables=cupid_test_exp:p2 ignore=y;<span class="markedContent"
      id="page868R_mcid0"><span class="markedContent"
        id="page868R_mcid0"><span style="left: 150px; top: 473.185px;
          font-size: 20px; font-family: serif; transform:
          scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><br>
                <br>
                <br>
                1.导出一个完整数据库<br>
                #exp system/password file=biodb_db log=biodb_db full=y<br>
                <br>
                2.导出数据库定义而不导出数据<br>
                #exp system/password file=biodb_db log=biodb_db full=y
                rows=n<br>
                <br>
                3. </span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page868R_mcid0"><span class="markedContent"
                    id="page868R_mcid0"><span style="left: 150px; top:
                      473.185px; font-size: 20px; font-family: serif;
                      transform: scaleX(1.00333);" role="presentation"
                      dir="ltr"><span style="left: 150px; top: 347.35px;
                        font-size: 17.5px; font-family: monospace;
                        transform: scaleX(1.0038);" role="presentation"
                        dir="ltr"><span class="markedContent"
                          id="page871R_mcid0"><span style="left: 150px;
                            top: 347.35px; font-size: 17.5px;
                            font-family: monospace; transform:
                            scaleX(1.0038);" role="presentation"
                            dir="ltr">指定</span></span></span></span></span></span>导
                出某个用户或某组用户的全部表、索引和其他对象<br>
              </span></span></span></span></span></span><br>
    <span class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page868R_mcid0"><span class="markedContent"
                    id="page868R_mcid0"><span style="left: 150px; top:
                      473.185px; font-size: 20px; font-family: serif;
                      transform: scaleX(1.00333);" role="presentation"
                      dir="ltr"><span style="left: 150px; top: 347.35px;
                        font-size: 17.5px; font-family: monospace;
                        transform: scaleX(1.0038);" role="presentation"
                        dir="ltr"><span class="markedContent"
                          id="page871R_mcid0"><span style="left: 150px;
                            top: 347.35px; font-size: 17.5px;
                            font-family: monospace; transform:
                            scaleX(1.0038);" role="presentation"
                            dir="ltr"><span class="markedContent"
                              id="page868R_mcid0"><span
                                class="markedContent"
                                id="page868R_mcid0"><span style="left:
                                  150px; top: 473.185px; font-size:
                                  20px; font-family: serif; transform:
                                  scaleX(1.00333);" role="presentation"
                                  dir="ltr"><span style="left: 150px;
                                    top: 347.35px; font-size: 17.5px;
                                    font-family: monospace; transform:
                                    scaleX(1.0038);" role="presentation"
                                    dir="ltr"><span
                                      class="markedContent"
                                      id="page871R_mcid0"><span
                                        style="left: 150px; top:
                                        347.35px; font-size: 17.5px;
                                        font-family: monospace;
                                        transform: scaleX(1.0038);"
                                        role="presentation" dir="ltr">导
                                        出某个用户</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page868R_mcid0"><span class="markedContent"
                    id="page868R_mcid0"><span style="left: 150px; top:
                      473.185px; font-size: 20px; font-family: serif;
                      transform: scaleX(1.00333);" role="presentation"
                      dir="ltr"><span style="left: 150px; top: 347.35px;
                        font-size: 17.5px; font-family: monospace;
                        transform: scaleX(1.0038);" role="presentation"
                        dir="ltr"><span class="markedContent"
                          id="page871R_mcid0"><span style="left: 150px;
                            top: 347.35px; font-size: 17.5px;
                            font-family: monospace; transform:
                            scaleX(1.0038);" role="presentation"
                            dir="ltr"><span class="markedContent"
                              id="page868R_mcid0"><span
                                class="markedContent"
                                id="page868R_mcid0"><span style="left:
                                  150px; top: 473.185px; font-size:
                                  20px; font-family: serif; transform:
                                  scaleX(1.00333);" role="presentation"
                                  dir="ltr"><span style="left: 150px;
                                    top: 347.35px; font-size: 17.5px;
                                    font-family: monospace; transform:
                                    scaleX(1.0038);" role="presentation"
                                    dir="ltr"><span
                                      class="markedContent"
                                      id="page871R_mcid0"><span
                                        style="left: 150px; top:
                                        347.35px; font-size: 17.5px;
                                        font-family: monospace;
                                        transform: scaleX(1.0038);"
                                        role="presentation" dir="ltr"><span
                                          class="markedContent"
                                          id="page868R_mcid0"><span
                                            class="markedContent"
                                            id="page868R_mcid0"><span
                                              style="left: 150px; top:
                                              473.185px; font-size:
                                              20px; font-family: serif;
                                              transform:
                                              scaleX(1.00333);"
                                              role="presentation"
                                              dir="ltr"><span
                                                style="left: 150px; top:
                                                347.35px; font-size:
                                                17.5px; font-family:
                                                monospace; transform:
                                                scaleX(1.0038);"
                                                role="presentation"
                                                dir="ltr"><span
                                                  class="markedContent"
                                                  id="page871R_mcid0"><span
                                                    style="left: 150px;
                                                    top: 347.35px;
                                                    font-size: 17.5px;
                                                    font-family:
                                                    monospace;
                                                    transform:
                                                    scaleX(1.0038);"
                                                    role="presentation"
                                                    dir="ltr">全部表、索引和其他对
                                                    象<br>
                                                  </span></span></span></span></span></span></span></span></span></span></span></span>[catalyst@localhost












bin]$



                            exp system/wtsgyh1972 file=c##biodbuser
                            log=c##biodbuser owner=c##biodbuser<br>
                            <br>
                            Export: Release 19.0.0.0.0 - Production on
                            星期五 10月 27 02:57:18 2023<br>
                            Version 19.3.0.0.0<br>
                            <br>
                            Copyright (c) 1982, 2019, Oracle and/or its
                            affiliates.&nbsp; All rights reserved.<br>
                            <br>
                            <br>
                            连接到: Oracle Database 19c Enterprise Edition
                            Release 19.0.0.0.0 - Production<br>
                            Version 19.3.0.0.0<br>
                            已导出 UTF8 字符集和 AL16UTF16 NCHAR 字符集<br>
                            服务器使用 AL32UTF8 字符集 (可能的字符集转换)<br>
                            <br>
                            即将导出指定的用户...<br>
                            . 正在导出 pre-schema 过程对象和操作<br>
                            . 正在导出用户 C##BIODBUSER 的外部函数库名<br>
                            . 导出 PUBLIC 类型同义词<br>
                            . 正在导出专用类型同义词<br>
                            . 正在导出用户 C##BIODBUSER 的对象类型定义<br>
                            即将导出 C##BIODBUSER 的对象...<br>
                            . 正在导出数据库链接<br>
                            . 正在导出序号<br>
                            . 正在导出簇定义<br>
                            . 即将导出 C##BIODBUSER 的表通过常规路径...<br>
                            . . 正在导出
                            表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                            DEP导出
                            了&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            1
                            行&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;












&lt;&lt;&lt;



                          </span></span></span></span></span></span></span></span></span></span></span></span>这
    里表示输出了！！！<br>
    <span class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page868R_mcid0"><span class="markedContent"
                    id="page868R_mcid0"><span style="left: 150px; top:
                      473.185px; font-size: 20px; font-family: serif;
                      transform: scaleX(1.00333);" role="presentation"
                      dir="ltr"><span style="left: 150px; top: 347.35px;
                        font-size: 17.5px; font-family: monospace;
                        transform: scaleX(1.0038);" role="presentation"
                        dir="ltr"><span class="markedContent"
                          id="page871R_mcid0"><span style="left: 150px;
                            top: 347.35px; font-size: 17.5px;
                            font-family: monospace; transform:
                            scaleX(1.0038);" role="presentation"
                            dir="ltr">EXP-00091: 正在导出有问题的统计信息。<br>
                            . . 正在导出
                            表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                            EMP导出
                            了&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            1 行<br>
                            EXP-00091: 正在导出有问题的统计信息。<br>
                            . . 正在导出
                            表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                            EMP_DEP导出
                            了&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            0 行<br>
                            EXP-00091: 正在导出有问题的统计信息。<br>
                            . . 正在导出
                            表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                            MYEMP导出
                            了&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            0 行<br>
                            EXP-00091: 正在导出有问题的统计信息。<br>
                            EXP-00091: 正在导出有问题的统计信息。<br>
                            . . 正在导出
                            表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                            MYTABL导出
                            了&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            0 行<br>
                            EXP-00091: 正在导出有问题的统计信息。<br>
                            EXP-00091: 正在导出有问题的统计信息。<br>
                            . . 正在导出
                            表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                            READER导出
                            了&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            0 行<br>
                            EXP-00091: 正在导出有问题的统计信息。<br>
                            . 正在导出同义词<br>
                            . 正在导出视图<br>
                            . 正在导出存储过程<br>
                            . 正在导出运算符<br>
                            . 正在导出引用完整性约束条件<br>
                            . 正在导出触发器<br>
                            . 正在导出索引类型<br>
                            . 正在导出位图, 功能性索引和可扩展索引<br>
                            . 正在导出后期表活动<br>
                            . 正在导出实体化视图<br>
                            . 正在导出快照日志<br>
                            . 正在导出作业队列<br>
                            . 正在导出刷新组和子组<br>
                            . 正在导出维<br>
                            . 正在导出 post-schema 过程对象和操作<br>
                            . 正在导出统计信息<br>
                            导出成功终止, 但出现警告。<br>
                            <br>
                            <br>
                            <br>
                          </span></span></span></span></span></span></span></span></span></span></span></span><br>
    <span class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page868R_mcid0"><span class="markedContent"
                    id="page868R_mcid0"><span style="left: 150px; top:
                      473.185px; font-size: 20px; font-family: serif;
                      transform: scaleX(1.00333);" role="presentation"
                      dir="ltr"><span style="left: 150px; top: 347.35px;
                        font-size: 17.5px; font-family: monospace;
                        transform: scaleX(1.0038);" role="presentation"
                        dir="ltr"><span class="markedContent"
                          id="page871R_mcid0"><span style="left: 150px;
                            top: 347.35px; font-size: 17.5px;
                            font-family: monospace; transform:
                            scaleX(1.0038);" role="presentation"
                            dir="ltr"><span class="markedContent"
                              id="page868R_mcid0"><span
                                class="markedContent"
                                id="page868R_mcid0"><span style="left:
                                  150px; top: 473.185px; font-size:
                                  20px; font-family: serif; transform:
                                  scaleX(1.00333);" role="presentation"
                                  dir="ltr"><span style="left: 150px;
                                    top: 347.35px; font-size: 17.5px;
                                    font-family: monospace; transform:
                                    scaleX(1.0038);" role="presentation"
                                    dir="ltr"><span
                                      class="markedContent"
                                      id="page871R_mcid0"><span
                                        style="left: 150px; top:
                                        347.35px; font-size: 17.5px;
                                        font-family: monospace;
                                        transform: scaleX(1.0038);"
                                        role="presentation" dir="ltr">导
                                        出某个用户或某组用户的全部表、索引和其他对象</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page868R_mcid0"><span class="markedContent"
                    id="page868R_mcid0"><span style="left: 150px; top:
                      473.185px; font-size: 20px; font-family: serif;
                      transform: scaleX(1.00333);" role="presentation"
                      dir="ltr"><span style="left: 150px; top: 347.35px;
                        font-size: 17.5px; font-family: monospace;
                        transform: scaleX(1.0038);" role="presentation"
                        dir="ltr"><span class="markedContent"
                          id="page871R_mcid0"><span style="left: 150px;
                            top: 347.35px; font-size: 17.5px;
                            font-family: monospace; transform:
                            scaleX(1.0038);" role="presentation"
                            dir="ltr"><span class="markedContent"
                              id="page868R_mcid0"><span
                                class="markedContent"
                                id="page868R_mcid0"><span style="left:
                                  150px; top: 473.185px; font-size:
                                  20px; font-family: serif; transform:
                                  scaleX(1.00333);" role="presentation"
                                  dir="ltr"><span style="left: 150px;
                                    top: 347.35px; font-size: 17.5px;
                                    font-family: monospace; transform:
                                    scaleX(1.0038);" role="presentation"
                                    dir="ltr"><span
                                      class="markedContent"
                                      id="page871R_mcid0"><span
                                        style="left: 150px; top:
                                        347.35px; font-size: 17.5px;
                                        font-family: monospace;
                                        transform: scaleX(1.0038);"
                                        role="presentation" dir="ltr"></span></span></span></span></span></span></span></span></span></span></span></span><br>
                $ exp system/wtsgyh1972 file=alluserdb log=alluseroutlog
                owner=c##biodbuser,c##drugdbuser&nbsp; //不能用：</span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page868R_mcid0"><span class="markedContent"
                    id="page868R_mcid0"><span style="left: 150px; top:
                      473.185px; font-size: 20px; font-family: serif;
                      transform: scaleX(1.00333);" role="presentation"
                      dir="ltr"><span style="left: 150px; top: 347.35px;
                        font-size: 17.5px; font-family: monospace;
                        transform: scaleX(1.0038);" role="presentation"
                        dir="ltr"><span class="markedContent"
                          id="page871R_mcid0"><span style="left: 150px;
                            top: 347.35px; font-size: 17.5px;
                            font-family: monospace; transform:
                            scaleX(1.0038);" role="presentation"
                            dir="ltr">owner=(</span></span></span></span></span></span><span
                  class="markedContent" id="page868R_mcid0"><span
                    class="markedContent" id="page868R_mcid0"><span
                      style="left: 150px; top: 473.185px; font-size:
                      20px; font-family: serif; transform:
                      scaleX(1.00333);" role="presentation" dir="ltr"><span
                        style="left: 150px; top: 347.35px; font-size:
                        17.5px; font-family: monospace; transform:
                        scaleX(1.0038);" role="presentation" dir="ltr"><span
                          class="markedContent" id="page871R_mcid0"><span
                            style="left: 150px; top: 347.35px;
                            font-size: 17.5px; font-family: monospace;
                            transform: scaleX(1.0038);"
                            role="presentation" dir="ltr"><span
                              class="markedContent" id="page868R_mcid0"><span
                                class="markedContent"
                                id="page868R_mcid0"><span style="left:
                                  150px; top: 473.185px; font-size:
                                  20px; font-family: serif; transform:
                                  scaleX(1.00333);" role="presentation"
                                  dir="ltr"><span style="left: 150px;
                                    top: 347.35px; font-size: 17.5px;
                                    font-family: monospace; transform:
                                    scaleX(1.0038);" role="presentation"
                                    dir="ltr"><span
                                      class="markedContent"
                                      id="page871R_mcid0"><span
                                        style="left: 150px; top:
                                        347.35px; font-size: 17.5px;
                                        font-family: monospace;
                                        transform: scaleX(1.0038);"
                                        role="presentation" dir="ltr"><span
                                          class="markedContent"
                                          id="page868R_mcid0"><span
                                            class="markedContent"
                                            id="page868R_mcid0"><span
                                              style="left: 150px; top:
                                              473.185px; font-size:
                                              20px; font-family: serif;
                                              transform:
                                              scaleX(1.00333);"
                                              role="presentation"
                                              dir="ltr"><span
                                                style="left: 150px; top:
                                                347.35px; font-size:
                                                17.5px; font-family:
                                                monospace; transform:
                                                scaleX(1.0038);"
                                                role="presentation"
                                                dir="ltr"><span
                                                  class="markedContent"
                                                  id="page871R_mcid0"><span
                                                    style="left: 150px;
                                                    top: 347.35px;
                                                    font-size: 17.5px;
                                                    font-family:
                                                    monospace;
                                                    transform:
                                                    scaleX(1.0038);"
                                                    role="presentation"
                                                    dir="ltr">c##biodbuser</span></span></span></span></span></span></span></span></span></span></span></span>,c##drugdbuser)<br>
                            <br>
                          </span></span></span></span></span></span>Export:












Release



                19.0.0.0.0 - Production on 星期五 10月 27 03:02:07 2023<br>
                Version 19.3.0.0.0<br>
                <br>
                Copyright (c) 1982, 2019, Oracle and/or its
                affiliates.&nbsp; All rights reserved.<br>
                <br>
                <br>
                连接到: Oracle Database 19c Enterprise Edition Release
                19.0.0.0.0 - Production<br>
                Version 19.3.0.0.0<br>
                已导出 UTF8 字符集和 AL16UTF16 NCHAR 字符集<br>
                服务器使用 AL32UTF8 字符集 (可能的字符集转换)<br>
                <br>
                即将导出指定的用户...<br>
                . 正在导出 pre-schema 过程对象和操作<br>
                . 正在导出用户 C##BIODBUSER 的外部函数库名<br>
                . 正在导出用户 C##DRUGDBUSER 的外部函数库名<br>
                . 导出 PUBLIC 类型同义词<br>
                . 正在导出专用类型同义词<br>
                . 导出 PUBLIC 类型同义词<br>
                . 正在导出专用类型同义词<br>
                . 正在导出用户 C##BIODBUSER 的对象类型定义<br>
                . 正在导出用户 C##DRUGDBUSER 的对象类型定义<br>
                即将导出 C##BIODBUSER 的对象...<br>
                . 正在导出数据库链接<br>
                . 正在导出序号<br>
                . 正在导出簇定义<br>
                . 即将导出 C##BIODBUSER 的表通过常规路径...<br>
                . . 正在导出
                表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                DEP导出
                了&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                1 行&nbsp;&nbsp;&nbsp; &lt;&lt;第一个用户<br>
                EXP-00091: 正在导出有问题的统计信息。<br>
                . . 正在导出
                表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                EMP导出
                了&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                1 行<br>
                EXP-00091: 正在导出有问题的统计信息。<br>
                . . 正在导出
                表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                EMP_DEP导出
                了&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                0 行<br>
                EXP-00091: 正在导出有问题的统计信息。<br>
                . . 正在导出
                表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                MYEMP导出
                了&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                0 行<br>
                EXP-00091: 正在导出有问题的统计信息。<br>
                EXP-00091: 正在导出有问题的统计信息。<br>
                . . 正在导出
                表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                MYTABL导出
                了&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                0 行<br>
                EXP-00091: 正在导出有问题的统计信息。<br>
                EXP-00091: 正在导出有问题的统计信息。<br>
                . . 正在导出
                表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                READER导出
                了&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                0 行<br>
                EXP-00091: 正在导出有问题的统计信息。<br>
                . 正在导出同义词<br>
                . 正在导出视图<br>
                . 正在导出存储过程<br>
                . 正在导出运算符<br>
                即将导出 C##DRUGDBUSER 的对
                象...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



              </span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page868R_mcid0"><span class="markedContent"
                    id="page868R_mcid0"><span style="left: 150px; top:
                      473.185px; font-size: 20px; font-family: serif;
                      transform: scaleX(1.00333);" role="presentation"
                      dir="ltr"><span style="left: 150px; top: 347.35px;
                        font-size: 17.5px; font-family: monospace;
                        transform: scaleX(1.0038);" role="presentation"
                        dir="ltr"><span class="markedContent"
                          id="page871R_mcid0"><span style="left: 150px;
                            top: 347.35px; font-size: 17.5px;
                            font-family: monospace; transform:
                            scaleX(1.0038);" role="presentation"
                            dir="ltr">&lt;&lt;第二个用户</span></span></span></span></span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                <br>
                . 正在导出数据库链接<br>
                . 正在导出序号<br>
                . 正在导出簇定义<br>
                . 即将导出 C##DRUGDBUSER 的表通过常规路径...<br>
                . . 正在导出
                表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                BIODBSTD导出
                了&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                1 行<br>
                EXP-00091: 正在导出有问题的统计信息。<br>
                . . 正在导出
                表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                DRUGCOURSEUSER导出
                了&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                77 行<br>
                EXP-00091: 正在导出有问题的统计信息。<br>
                . . 正在导出
                表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                TEST_JSON导出
                了&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                1 行<br>
                EXP-00091: 正在导出有问题的统计信息。<br>
                . 正在导出同义词<br>
                . 正在导出视图<br>
                . 正在导出存储过程<br>
                . 正在导出运算符<br>
                . 正在导出引用完整性约束条件<br>
                . 正在导出触发器<br>
                . 正在导出索引类型<br>
                . 正在导出位图, 功能性索引和可扩展索引<br>
                . 正在导出后期表活动<br>
                . 正在导出实体化视图<br>
                . 正在导出快照日志<br>
                . 正在导出作业队列<br>
                . 正在导出刷新组和子组<br>
                . 正在导出维<br>
                . 正在导出引用完整性约束条件<br>
                . 正在导出触发器<br>
                . 正在导出索引类型<br>
                . 正在导出位图, 功能性索引和可扩展索引<br>
                . 正在导出后期表活动<br>
                . 正在导出实体化视图<br>
                . 正在导出快照日志<br>
                . 正在导出作业队列<br>
                . 正在导出刷新组和子组<br>
                . 正在导出维<br>
                . 正在导出 post-schema 过程对象和操作<br>
                . 正在导出统计信息<br>
                导出成功终止, 但出现警告。<br>
                <br>
                <br>
                注意：在导出用户时，尽管已经得到了这个用户的所有对象，但是还是不能得到这些对象引用的任何同义词。<br>
                解决方法：<br>
                用以下SQL*Plus命令创建一个脚本文件，运行这个脚本文件可以获得一个重建</span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page868R_mcid0"><span class="markedContent"
                    id="page868R_mcid0"><span style="left: 150px; top:
                      473.185px; font-size: 20px; font-family: serif;
                      transform: scaleX(1.00333);" role="presentation"
                      dir="ltr"><span style="left: 150px; top: 347.35px;
                        font-size: 17.5px; font-family: monospace;
                        transform: scaleX(1.0038);" role="presentation"
                        dir="ltr"><span class="markedContent"
                          id="page871R_mcid0"><span style="left: 150px;
                            top: 347.35px; font-size: 17.5px;
                            font-family: monospace; transform:
                            scaleX(1.0038);" role="presentation"
                            dir="ltr">C##BIODBUSER</span></span></span></span></span></span>所
                属对象的 全部公共同义词的可执行脚本，然后在目标数据库上运行该脚本就可重建同义词了。<br>
                <pre>SET LINESIZE 132<br>SET PAGESIZE 0
SET TRIMSPOOL ON
SPOOL biodbuser<span class="markedContent" id="page868R_mcid0"><span class="markedContent" id="page868R_mcid0"><span style="left:
150px; top: 473.185px; font-size: 20px; font-family: serif;
transform: scaleX(1.00333);" role="presentation" dir="ltr"><span style="left: 150px; top: 347.35px; font-size: 17.5px;
font-family: monospace; transform: scaleX(1.0038);" role="presentation" dir="ltr"><span class="markedContent" id="page871R_mcid0"><span style="left: 150px; top:
347.35px; font-size: 17.5px; font-family: monospace;
transform: scaleX(1.0038);" role="presentation" dir="ltr"><span class="markedContent" id="page868R_mcid0"><span class="markedContent" id="page868R_mcid0"><span style="left:
150px; top: 473.185px; font-size: 20px; font-family: serif;
transform: scaleX(1.00333);" role="presentation" dir="ltr"><span style="left: 150px; top: 347.35px; font-size: 17.5px;
font-family: monospace; transform: scaleX(1.0038);" role="presentation" dir="ltr"><span class="markedContent" id="page871R_mcid0"><span style="left: 150px; top:
347.35px; font-size: 17.5px; font-family: monospace;
transform: scaleX(1.0038);" role="presentation" dir="ltr"></span></span></span></span></span></span></span></span></span></span></span></span>.syn<br>SELECT 'CREATE public SYNONYM ' || synonym_name || 'FOR' ||table_owner||'.'||table_name||';' FROM dba_synonyms WHERE TABLE_owner='SYS' AND owner='PUBLIC'; //THIS IS OK!!!!!<br>SPOOL OFF<br><br>///note use above the results like:&nbsp; <br>SQL&gt; SELECT 'CREATE public SYNONYM ' || synonym_name || 'FOR' ||table_owner||'.'||table_name||';' FROM dba_synonyms WHERE TABLE_owner='SYS' AND owner='PUBLIC';<br>CREATE public SYNONYM DUALFORSYS.DUAL; &nbsp; ////THE: DUALFORSYS.DUAL IS FROM ====&gt;&gt;&gt; synonym_name || 'FOR' ||table_owner||'.'||table_name||<br>CREATE public SYNONYM MAP_OBJECTFORSYS.MAP_OBJECT;<br><br><span class="markedContent" id="page868R_mcid0"><span class="markedContent" id="page868R_mcid0"><span style="left:
150px; top: 473.185px; font-size: 20px; font-family: serif;
transform: scaleX(1.00333);" role="presentation" dir="ltr"><span style="left: 150px; top: 347.35px; font-size: 17.5px;
font-family: monospace; transform: scaleX(1.0038);" role="presentation" dir="ltr"><span class="markedContent" id="page871R_mcid0"><span style="left: 150px; top:
347.35px; font-size: 17.5px; font-family: monospace;
transform: scaleX(1.0038);" role="presentation" dir="ltr"></span></span></span></span></span></span><br>$ ./sqlplus /nolog<br>CREATE SYNONYM personnel FOR c##biodbuser.emp;<br>CREATE public SYNONYM personnel FOR C##BIODBUSER.EMP;<br><br>SELECT * FROM dba_synonyms WHERE TABLE_owner='SYS' AND owner='PUBLIC'; &nbsp;//MUST BE: &nbsp; &nbsp;CAN USE: select * from DBA_SYNONYMS &nbsp; IN SQLDEveloper to see the col names!!!!<br>&nbsp;</pre>
              </span></span></span></span></span></span>
    <h3><span class="markedContent" id="page868R_mcid0"><span
          class="markedContent" id="page868R_mcid0"><span style="left:
            150px; top: 473.185px; font-size: 20px; font-family: serif;
            transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
              style="left: 150px; top: 347.35px; font-size: 17.5px;
              font-family: monospace; transform: scaleX(1.0038);"
              role="presentation" dir="ltr"><span class="markedContent"
                id="page871R_mcid0"><span style="left: 150px; top:
                  347.35px; font-size: 17.5px; font-family: monospace;
                  transform: scaleX(1.0038);" role="presentation"
                  dir="ltr"> 4. 导出一个或多个指定表</span></span></span></span></span></span></h3>
    <h3><span class="markedContent" id="page868R_mcid0"><span
          class="markedContent" id="page868R_mcid0"><span style="left:
            150px; top: 473.185px; font-size: 20px; font-family: serif;
            transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
              style="left: 150px; top: 347.35px; font-size: 17.5px;
              font-family: monospace; transform: scaleX(1.0038);"
              role="presentation" dir="ltr"><span class="markedContent"
                id="page871R_mcid0"><span style="left: 150px; top:
                  347.35px; font-size: 17.5px; font-family: monospace;
                  transform: scaleX(1.0038);" role="presentation"
                  dir="ltr"></span></span></span></span></span></span></h3>
    <span class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"> $ exp c##biodbuser/biodb123 file=biodbemp
                log=biodbemp tables=EMP<br>
                <br>
                Export: Release 19.0.0.0.0 - Production on 星期五 10月 27
                05:13:09 2023<br>
                Version 19.3.0.0.0<br>
                <br>
                Copyright (c) 1982, 2019, Oracle and/or its
                affiliates.&nbsp; All rights reserved.<br>
                <br>
                <br>
                连接到: Oracle Database 19c Enterprise Edition Release
                19.0.0.0.0 - Production<br>
                Version 19.3.0.0.0<br>
                已导出 UTF8 字符集和 AL16UTF16 NCHAR 字符集<br>
                服务器使用 AL32UTF8 字符集 (可能的字符集转换)<br>
                <br>
                即将导出指定的表通过常规路径...<br>
                . . 正在导出
                表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                EMP导出
                了&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                1 行<br>
                EXP-00091: 正在导出有问题的统计信息。<br>
                EXP-00091: 正在导出有问题的统计信息。<br>
                导出成功终止, 但出现警告。<br>
                　</span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page868R_mcid0"><span class="markedContent"
                    id="page868R_mcid0"><span style="left: 150px; top:
                      473.185px; font-size: 20px; font-family: serif;
                      transform: scaleX(1.00333);" role="presentation"
                      dir="ltr"><span style="left: 150px; top: 347.35px;
                        font-size: 17.5px; font-family: monospace;
                        transform: scaleX(1.0038);" role="presentation"
                        dir="ltr"><span class="markedContent"
                          id="page871R_mcid0"><span style="left: 150px;
                            top: 347.35px; font-size: 17.5px;
                            font-family: monospace; transform:
                            scaleX(1.0038);" role="presentation"
                            dir="ltr"></span></span></span></span></span></span><br>
                $ exp system/wtsgyh1972 file=EMP log=EMP
                tables=c##biodbuser.EMP<br>
                <br>
                Export: Release 19.0.0.0.0 - Production on 星期五 10月 27
                05:12:41 2023<br>
                Version 19.3.0.0.0<br>
                <br>
                Copyright (c) 1982, 2019, Oracle and/or its
                affiliates.&nbsp; All rights reserved.<br>
                <br>
                <br>
                连接到: Oracle Database 19c Enterprise Edition Release
                19.0.0.0.0 - Production<br>
                Version 19.3.0.0.0<br>
                已导出 UTF8 字符集和 AL16UTF16 NCHAR 字符集<br>
                服务器使用 AL32UTF8 字符集 (可能的字符集转换)<br>
                <br>
                即将导出指定的表通过常规路径...<br>
                当前的用户已更改为 C##BIODBUSER<br>
                . . 正在导出
                表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                EMP导出
                了&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                1 行<br>
                EXP-00091: 正在导出有问题的统计信息。<br>
                EXP-00091: 正在导出有问题的统计信息。<br>
                导出成功终止, 但出现警告。<br>
                　<br>
                　　　</span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page868R_mcid0"><span class="markedContent"
                    id="page868R_mcid0"><span style="left: 150px; top:
                      473.185px; font-size: 20px; font-family: serif;
                      transform: scaleX(1.00333);" role="presentation"
                      dir="ltr"><span style="left: 150px; top: 347.35px;
                        font-size: 17.5px; font-family: monospace;
                        transform: scaleX(1.0038);" role="presentation"
                        dir="ltr"><span class="markedContent"
                          id="page871R_mcid0"><span style="left: 150px;
                            top: 347.35px; font-size: 17.5px;
                            font-family: monospace; transform:
                            scaleX(1.0038);" role="presentation"
                            dir="ltr"><span class="markedContent"
                              id="page868R_mcid0"><span
                                class="markedContent"
                                id="page868R_mcid0"><span style="left:
                                  150px; top: 473.185px; font-size:
                                  20px; font-family: serif; transform:
                                  scaleX(1.00333);" role="presentation"
                                  dir="ltr"><span style="left: 150px;
                                    top: 347.35px; font-size: 17.5px;
                                    font-family: monospace; transform:
                                    scaleX(1.0038);" role="presentation"
                                    dir="ltr"><span
                                      class="markedContent"
                                      id="page871R_mcid0"><span
                                        style="left: 150px; top:
                                        347.35px; font-size: 17.5px;
                                        font-family: monospace;
                                        transform: scaleX(1.0038);"
                                        role="presentation" dir="ltr"></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page868R_mcid0"><span class="markedContent"
                    id="page868R_mcid0"><span style="left: 150px; top:
                      473.185px; font-size: 20px; font-family: serif;
                      transform: scaleX(1.00333);" role="presentation"
                      dir="ltr"><span style="left: 150px; top: 347.35px;
                        font-size: 17.5px; font-family: monospace;
                        transform: scaleX(1.0038);" role="presentation"
                        dir="ltr"><span class="markedContent"
                          id="page871R_mcid0"><span style="left: 150px;
                            top: 347.35px; font-size: 17.5px;
                            font-family: monospace; transform:
                            scaleX(1.0038);" role="presentation"
                            dir="ltr"><span class="markedContent"
                              id="page868R_mcid0"><span
                                class="markedContent"
                                id="page868R_mcid0"><span style="left:
                                  150px; top: 473.185px; font-size:
                                  20px; font-family: serif; transform:
                                  scaleX(1.00333);" role="presentation"
                                  dir="ltr"><span style="left: 150px;
                                    top: 347.35px; font-size: 17.5px;
                                    font-family: monospace; transform:
                                    scaleX(1.0038);" role="presentation"
                                    dir="ltr"><span
                                      class="markedContent"
                                      id="page871R_mcid0"><span
                                        style="left: 150px; top:
                                        347.35px; font-size: 17.5px;
                                        font-family: monospace;
                                        transform: scaleX(1.0038);"
                                        role="presentation" dir="ltr"></span></span></span></span></span></span></span></span></span></span></span></span><br>
                $ exp system/wtsgyh1972 file=empdep log=dmpdep
                tables=c##biodbuser.EMP,c##biodbuser.dep<br>
                <br>
                Export: Release 19.0.0.0.0 - Production on 星期五 10月 27
                05:12:06 2023<br>
                Version 19.3.0.0.0<br>
                <br>
                Copyright (c) 1982, 2019, Oracle and/or its
                affiliates.&nbsp; All rights reserved.<br>
                <br>
                <br>
                连接到: Oracle Database 19c Enterprise Edition Release
                19.0.0.0.0 - Production<br>
                Version 19.3.0.0.0<br>
                已导出 UTF8 字符集和 AL16UTF16 NCHAR 字符集<br>
                服务器使用 AL32UTF8 字符集 (可能的字符集转换)<br>
                <br>
                即将导出指定的表通过常规路径...<br>
                当前的用户已更改为 C##BIODBUSER<br>
                . . 正在导出
                表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                EMP导出
                了&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                1 行<br>
                EXP-00091: 正在导出有问题的统计信息。<br>
                . . 正在导出
                表&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                DEP导出
                了&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                1 行<br>
                EXP-00091: 正在导出有问题的统计信息。<br>
                EXP-00091: 正在导出有问题的统计信息。<br>
                EXP-00091: 正在导出有问题的统计信息。<br>
                导出成功终止, 但出现警告。<br>
                <br>
                　　<br>
                5. 导出表数据的子集(oracle8i以上)<br>
                　　NT系统：<br>
                　　<br>
                　　exp system/manager query='Where salad_type='FRUIT''
                tables=amy.salad_type<br>
                　　　　file=fruit log=fruit<br>
                　　UNIX系统：<br>
                　　<br>
                　　exp system/manager query=\"Where
                salad_type=\'FRUIT\'\" tables=amy.salad_type<br>
                　　　　file=fruit log=fruit　　<br>
                6. 用多个文件分割一个导出文件<br>
                　　　　exp system/manager<br>
                　　　　file=(paycheck_1,paycheck_2,paycheck_3,paycheck_4)<br>
                　　　　log=paycheck, filesize=1G tables=hr.paycheck<br>
                7. 使用参数文件<br>
                　　exp system/manager parfile=bible_tables.par<br>
                　　bible_tables.par参数文件：<br>
                　　<br>
                　　　　#Export the sample tables used for the Oracle8i
                Database Administrator's Bible.<br>
                　　　　file=bible_tables<br>
                　　　　log=bible_tables<br>
                　　　　tables=(<br>
                　　　　amy.artist<br>
                　　　　amy.books<br>
                　　　　seapark.checkup<br>
                　　　　seapark.items<br>
                　　　　)<br>
                <br>
                8. 增量导出<br>
                　　“完全”增量导出(complete)，即备份整个数据库<br>
                　　exp system/wtsgyh1972 inctype=complete file=</span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page868R_mcid0"><span class="markedContent"
                    id="page868R_mcid0"><span style="left: 150px; top:
                      473.185px; font-size: 20px; font-family: serif;
                      transform: scaleX(1.00333);" role="presentation"
                      dir="ltr"><span style="left: 150px; top: 347.35px;
                        font-size: 17.5px; font-family: monospace;
                        transform: scaleX(1.0038);" role="presentation"
                        dir="ltr"><span class="markedContent"
                          id="page871R_mcid0"><span style="left: 150px;
                            top: 347.35px; font-size: 17.5px;
                            font-family: monospace; transform:
                            scaleX(1.0038);" role="presentation"
                            dir="ltr">empdep&nbsp;&nbsp; //OK<br>
                            <br>
                          </span></span></span></span></span></span>
                　　“增量型”增量导出(incremental)，即备份上一次备份后改变的数据<br>
                　　exp system/wtsgyh1972 inctype=incremental file=</span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page868R_mcid0"><span class="markedContent"
                    id="page868R_mcid0"><span style="left: 150px; top:
                      473.185px; font-size: 20px; font-family: serif;
                      transform: scaleX(1.00333);" role="presentation"
                      dir="ltr"><span style="left: 150px; top: 347.35px;
                        font-size: 17.5px; font-family: monospace;
                        transform: scaleX(1.0038);" role="presentation"
                        dir="ltr"><span class="markedContent"
                          id="page871R_mcid0"><span style="left: 150px;
                            top: 347.35px; font-size: 17.5px;
                            font-family: monospace; transform:
                            scaleX(1.0038);" role="presentation"
                            dir="ltr"></span></span></span></span></span></span><span
                  class="markedContent" id="page868R_mcid0"><span
                    class="markedContent" id="page868R_mcid0"><span
                      style="left: 150px; top: 473.185px; font-size:
                      20px; font-family: serif; transform:
                      scaleX(1.00333);" role="presentation" dir="ltr"><span
                        style="left: 150px; top: 347.35px; font-size:
                        17.5px; font-family: monospace; transform:
                        scaleX(1.0038);" role="presentation" dir="ltr"><span
                          class="markedContent" id="page871R_mcid0"><span
                            style="left: 150px; top: 347.35px;
                            font-size: 17.5px; font-family: monospace;
                            transform: scaleX(1.0038);"
                            role="presentation" dir="ltr"><span
                              class="markedContent" id="page868R_mcid0"><span
                                class="markedContent"
                                id="page868R_mcid0"><span style="left:
                                  150px; top: 473.185px; font-size:
                                  20px; font-family: serif; transform:
                                  scaleX(1.00333);" role="presentation"
                                  dir="ltr"><span style="left: 150px;
                                    top: 347.35px; font-size: 17.5px;
                                    font-family: monospace; transform:
                                    scaleX(1.0038);" role="presentation"
                                    dir="ltr"><span
                                      class="markedContent"
                                      id="page871R_mcid0"><span
                                        style="left: 150px; top:
                                        347.35px; font-size: 17.5px;
                                        font-family: monospace;
                                        transform: scaleX(1.0038);"
                                        role="presentation" dir="ltr">empdep</span></span></span></span></span></span></span></span></span></span></span></span><br>
                <br>
                　　“累计型”增量导出(cumulative)，即备份上一次“完全”导出之后改变的数据<br>
                　　exp system/wtsgyh1972 inctype=cumulative file=</span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page868R_mcid0"><span class="markedContent"
                    id="page868R_mcid0"><span style="left: 150px; top:
                      473.185px; font-size: 20px; font-family: serif;
                      transform: scaleX(1.00333);" role="presentation"
                      dir="ltr"><span style="left: 150px; top: 347.35px;
                        font-size: 17.5px; font-family: monospace;
                        transform: scaleX(1.0038);" role="presentation"
                        dir="ltr"><span class="markedContent"
                          id="page871R_mcid0"><span style="left: 150px;
                            top: 347.35px; font-size: 17.5px;
                            font-family: monospace; transform:
                            scaleX(1.0038);" role="presentation"
                            dir="ltr"></span></span></span></span></span></span><span
                  class="markedContent" id="page868R_mcid0"><span
                    class="markedContent" id="page868R_mcid0"><span
                      style="left: 150px; top: 473.185px; font-size:
                      20px; font-family: serif; transform:
                      scaleX(1.00333);" role="presentation" dir="ltr"><span
                        style="left: 150px; top: 347.35px; font-size:
                        17.5px; font-family: monospace; transform:
                        scaleX(1.0038);" role="presentation" dir="ltr"><span
                          class="markedContent" id="page871R_mcid0"><span
                            style="left: 150px; top: 347.35px;
                            font-size: 17.5px; font-family: monospace;
                            transform: scaleX(1.0038);"
                            role="presentation" dir="ltr"><span
                              class="markedContent" id="page868R_mcid0"><span
                                class="markedContent"
                                id="page868R_mcid0"><span style="left:
                                  150px; top: 473.185px; font-size:
                                  20px; font-family: serif; transform:
                                  scaleX(1.00333);" role="presentation"
                                  dir="ltr"><span style="left: 150px;
                                    top: 347.35px; font-size: 17.5px;
                                    font-family: monospace; transform:
                                    scaleX(1.0038);" role="presentation"
                                    dir="ltr"><span
                                      class="markedContent"
                                      id="page871R_mcid0"><span
                                        style="left: 150px; top:
                                        347.35px; font-size: 17.5px;
                                        font-family: monospace;
                                        transform: scaleX(1.0038);"
                                        role="presentation" dir="ltr">empdep</span></span></span></span></span></span></span></span></span></span></span></span><br>
                <br>
              </span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page868R_mcid0"><span class="markedContent"
                    id="page868R_mcid0"><span style="left: 185px; top:
                      515.25px; font-size: 17.5px; font-family:
                      monospace; transform: scaleX(1);"
                      role="presentation" dir="ltr">（三）</span></span></span>向
                导方式备份<br>
                <br>
              </span></span></span></span></span></span><span
      style="left: 150px; top: 386.95px; font-size: 17.5px; font-family:
      serif; transform: scaleX(0.979462);" role="presentation" dir="ltr">
      <meta http-equiv="content-type" content="text/html; charset=UTF-8">
      <span class="markedContent" id="page871R_mcid0"><span style="left:
          150px; top: 386.95px; font-size: 17.5px; font-family: serif;
          transform: scaleX(0.979462);" role="presentation" dir="ltr">采用
          向导方式使用 exp 和 imp<br>
          <br>
          [catalyst@localhost hustdbroot]$ exp<br>
          <br>
          Export: Release 19.0.0.0.0 - Production on 星期四 10月 26 05:19:14
          2023<br>
          Version 19.3.0.0.0<br>
          <br>
          Copyright (c) 1982, 2019, Oracle and/or its affiliates.&nbsp;
          All rights reserved.<br>
          <br>
          <br>
          用户名: sys as sysdba&nbsp; (或者: c##biodbuser as sysdba )&nbsp;
          //注意用法!!!!<br>
          口令: <br>
          <br>
          连接到: Oracle Database 19c Enterprise Edition Release 19.0.0.0.0
          - Production<br>
          Version 19.3.0.0.0<br>
          输入数组提取缓冲区大小: 4096 &gt; <br>
          <br>
          &nbsp;导出文件: expdat.dmp &gt; mytest.dmp<br>
          <br>
          (1)E(完整的数据库), (2)U(用户) 或 (3)T(表): (2)U &gt; <br>
          <br>
          导出权限 (yes/no): yes &gt; <br>
          <br>
          导出表数据 (yes/no): yes &gt; <br>
          <br>
          压缩区 (yes/no): yes &gt; <br>
          <br>
          已导出 UTF8 字符集和 AL16UTF16 NCHAR 字符集<br>
          服务器使用 AL32UTF8 字符集 (可能的字符集转换)<br>
          <br>
          即将导出指定的用户...<br>
          要导出的用户: (按 RETURN 退出) &gt; <br>
          <br>
          成功终止导出, 没有出现警告。<br>
          <br>
          <br>
        </span></span></span>接下来用imp导入上面的结果：<br>
    <span style="left: 150px; top: 386.95px; font-size: 17.5px;
      font-family: serif; transform: scaleX(0.979462);"
      role="presentation" dir="ltr"><span class="markedContent"
        id="page871R_mcid0"><span style="left: 150px; top: 386.95px;
          font-size: 17.5px; font-family: serif; transform:
          scaleX(0.979462);" role="presentation" dir="ltr"><span
            class="markedContent" id="page871R_mcid0">
            <meta http-equiv="content-type" content="text/html;
              charset=UTF-8">
            <span class="markedContent" id="page871R_mcid0"><span
                style="left: 150px; top: 942.35px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.986291);"
                role="presentation" dir="ltr">（1）读懂上述导出过程描述，使用 imp 进行导入
                c:\mytest.dmp。</span><br role="presentation">
              <span style="left: 150px; top: 981.951px; font-size:
                17.5px; font-family: serif; transform:
                scaleX(0.977614);" role="presentation" dir="ltr">（2）使用
                exp 导出 scott 模式下的 emp 和 dept 表。</span><br
                role="presentation">
              <span style="left: 185px; top: 1021.65px; font-size:
                17.5px; font-family: serif; transform: scaleX(1.00315);"
                role="presentation" dir="ltr">2.命令行方式：带有命令参数，联系按照三种方式进行数
                据备份和恢复。</span><br role="presentation">
              <span style="left: 185px; top: 1061.25px; font-size:
                17.5px; font-family: serif; transform: scaleX(1.00365);"
                role="presentation" dir="ltr">（1）用户模式： 导出用户所有对象以及对象中的数据；</span><br
                role="presentation">
              <span style="left: 185px; top: 1087.17px; font-size:
                18.4952px; font-family: serif; transform:
                scaleX(1.06616);" role="presentation" dir="ltr">exp
                c##biodbuser/orcl file=d:\wy.dmp owner=(scott);</span><br
                role="presentation">
              <span style="left: 185px; top: 1114.65px; font-size:
                17.5px; font-family: serif; transform: scaleX(1.00433);"
                role="presentation" dir="ltr">（2）表模式： 导出用户所有表或者指定的表；</span><br
                role="presentation">
              <span style="left: 185px; top: 1140.47px; font-size:
                18.4952px; font-family: serif; transform:
                scaleX(1.07136);" role="presentation" dir="ltr">exp
                scott/orcl file=d:\wytables.dmp tables=(dept);</span><br
                role="presentation">
              <span style="left: 185px; top: 1167.95px; font-size:
                17.5px; font-family: serif; transform: scaleX(1.00454);"
                role="presentation" dir="ltr">（3）整个数据库： 导出数据库中所有对象。</span><br
                role="presentation">
              <span style="left: 185px; top: 1193.87px; font-size:
                18.4952px; font-family: serif; transform:
                scaleX(1.07061);" role="presentation" dir="ltr">exp
                cott/orcl file=d:\wydatabase.dmp full=y;</span><br
                role="presentation">
              <span style="left: 185px; top: 1221.25px; font-size:
                17.5px; font-family: serif; transform: scaleX(1.07929);"
                role="presentation" dir="ltr">（4）exp scott/orcl
                tables=(emp，dept) file=d:\mydata.dmp grants=y;<br>
                <br>
                <br>
                <br>
              </span></span></span></span></span></span><span
      class="markedContent" id="page876R_mcid0">
      <meta http-equiv="content-type" content="text/html; charset=UTF-8">
      <span class="markedContent" id="page876R_mcid0"><span style="left:
          158.738px; top: 125.55px; font-size: 17.5px; font-family:
          monospace; transform: scaleX(1.00213);" role="presentation"
          dir="ltr">（三）联机备份</span><br role="presentation">
        <span style="left: 150px; top: 151.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">按以下操作过程操作备份和恢复。</span><br role="presentation">
        <span style="left: 150px; top: 177.749px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.946646);"
          role="presentation" dir="ltr">SQL&gt; conn sys/orcl as sysdba;</span><br
          role="presentation">
        <span style="left: 150px; top: 203.748px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.0077);"
          role="presentation" dir="ltr">SQL&gt; archive log list</span><br
          role="presentation">
        <span style="left: 150px; top: 229.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">数据库日志模式</span><span style="left: 272.5px; top:
          229.549px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          386.301px; top: 229.549px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.99886);" role="presentation"
          dir="ltr">非存档模式</span><br role="presentation">
        <span style="left: 150.002px; top: 255.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">自动存档</span><span style="left: 220.002px; top:
          255.548px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          333.701px; top: 255.548px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr">禁用</span><br
          role="presentation">
        <span style="left: 150.002px; top: 281.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">存档终点</span><span style="left: 220.002px; top:
          281.548px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          325.002px; top: 281.548px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1.0879);" role="presentation"
          dir="ltr">USE_DB_RECOVERY_FILE_DEST</span><br
          role="presentation">
        <span style="left: 150.002px; top: 307.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">最早的联机日志序列</span><span style="left: 307.502px; top:
          307.548px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          351.201px; top: 307.548px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.814333);" role="presentation"
          dir="ltr">119</span><br role="presentation">
        <span style="left: 150.002px; top: 333.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">当前日志序列</span><span style="left: 255.002px; top:
          333.548px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          351.201px; top: 333.548px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.833333);" role="presentation"
          dir="ltr">121</span><br role="presentation">
        <span style="left: 150.002px; top: 359.747px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.0008);"
          role="presentation" dir="ltr">SQL&gt; shutdown immediate;</span><br
          role="presentation">
        <span style="left: 150.002px; top: 385.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">数据库已经关闭。</span><br role="presentation">
        <span style="left: 150.002px; top: 411.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">已经卸载数据库。</span><br role="presentation">
        <span style="left: 150.002px; top: 437.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.13743);"
          role="presentation" dir="ltr">ORACLE</span><span style="left:
          220.011px; top: 437.547px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 228.803px; top: 437.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.999186);"
          role="presentation" dir="ltr">例程已经关闭。</span><br
          role="presentation">
        <span style="left: 150.004px; top: 463.746px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.01807);"
          role="presentation" dir="ltr">SQL&gt; startup mount;</span><br
          role="presentation">
        <span style="left: 150.004px; top: 489.546px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.13743);"
          role="presentation" dir="ltr">ORACLE</span><span style="left:
          220.012px; top: 489.546px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 228.804px; top: 489.546px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.999186);"
          role="presentation" dir="ltr">例程已经启动。</span><br
          role="presentation">
        <span style="left: 150.005px; top: 541.546px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.901408);"
          role="presentation" dir="ltr">Total System Global Area
          1071333376 bytes</span><br role="presentation">
        <span style="left: 150.005px; top: 567.545px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.97951);"
          role="presentation" dir="ltr">Fixed Size</span><span
          style="left: 224.611px; top: 567.545px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 381.943px; top: 567.545px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.857054);"
          role="presentation" dir="ltr">1375792 bytes</span><br
          role="presentation">
        <span style="left: 150.005px; top: 593.545px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.942283);"
          role="presentation" dir="ltr">Variable Size</span><span
          style="left: 242.852px; top: 593.545px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 356.526px; top: 593.545px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.853985);"
          role="presentation" dir="ltr">645923280 bytes</span><br
          role="presentation">
        <span style="left: 150.005px; top: 619.545px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.903726);"
          role="presentation" dir="ltr">Database Buffers</span><span
          style="left: 270.668px; top: 619.545px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 358.24px; top: 619.545px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.853724);"
          role="presentation" dir="ltr">419430400 bytes</span><br
          role="presentation">
        <span style="left: 150.005px; top: 645.545px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.942796);"
          role="presentation" dir="ltr">Redo Buffers</span><span
          style="left: 243.594px; top: 645.545px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 383.527px; top: 645.545px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.856952);"
          role="presentation" dir="ltr">4603904 bytes</span><br
          role="presentation">
        <span style="left: 150.005px; top: 671.544px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">数据库装载完毕。</span><br role="presentation">
        <span style="left: 150.005px; top: 723.743px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.990514);"
          role="presentation" dir="ltr">SQL&gt; alter database
          archivelog;</span><br role="presentation">
        <span style="left: 150.005px; top: 749.544px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">数据库已更改。</span><br role="presentation">
        <span style="left: 150.005px; top: 801.743px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.974219);"
          role="presentation" dir="ltr">SQL&gt; alter database open;</span><br
          role="presentation">
        <span style="left: 150.005px; top: 827.543px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">数据库已更改。</span><br role="presentation">
        <span style="left: 150.005px; top: 879.542px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.970751);"
          role="presentation" dir="ltr">SQL&gt; alter tablespace users
          begin backup;</span><span style="left: 470.289px; top:
          879.542px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          496.687px; top: 879.542px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.534423);" role="presentation"
          dir="ltr">//</span><span style="left: 506.405px; top:
          879.542px; font-size: 17.5px; font-family: serif; transform:
          scaleX(1.00285);" role="presentation" dir="ltr">备份开始</span><br
          role="presentation">
        <span style="left: 150.005px; top: 905.542px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">表空间已更改。</span><br role="presentation">
        <span style="left: 150.005px; top: 957.542px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.967595);"
          role="presentation" dir="ltr">SQL&gt; alter tablespace users
          end backup;</span><span style="left: 456.733px; top:
          957.542px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          491.934px; top: 957.542px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.534519);" role="presentation"
          dir="ltr">//</span><span style="left: 501.605px; top:
          957.542px; font-size: 17.5px; font-family: serif; transform:
          scaleX(1.00285);" role="presentation" dir="ltr">备份结束</span><br
          role="presentation">
        <span style="left: 150.004px; top: 983.541px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">表空间已更改。</span><br role="presentation">
        <span style="left: 150.004px; top: 1035.54px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.00326);"
          role="presentation" dir="ltr">恢复过程如下：</span><br
          role="presentation">
        <span style="left: 150.004px; top: 1087.64px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.03061);"
          role="presentation" dir="ltr">SQL&gt;</span><span style="left:
          192.894px; top: 1087.64px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 197.303px; top: 1087.64px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.986785);"
          role="presentation" dir="ltr">alter system archive log
          current;</span><br role="presentation">
        <span style="left: 150.004px; top: 1113.54px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">系统已更改。</span><br role="presentation">
        <span style="left: 150.004px; top: 1139.64px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.03061);"
          role="presentation" dir="ltr">SQL&gt;</span><span style="left:
          192.894px; top: 1139.64px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 197.303px; top: 1139.64px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.969753);"
          role="presentation" dir="ltr">alter system switch logfile;</span><br
          role="presentation">
        <span style="left: 150.004px; top: 1165.54px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">系统已更改。</span><br role="presentation">
        <span style="left: 150.004px; top: 1191.64px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.03087);"
          role="presentation" dir="ltr">SQL&gt;</span><span style="left:
          192.905px; top: 1191.64px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 197.304px; top: 1191.64px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.986248);"
          role="presentation" dir="ltr">shutdown immediate;</span><br
          role="presentation">
        <span style="left: 150.004px; top: 1217.54px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">数据库已经关闭。</span><br role="presentation">
        <span style="left: 150.004px; top: 1243.54px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">已经卸载数据库<br>
          <br>
        </span></span></span><span class="markedContent"
      id="page879R_mcid0">
      <meta http-equiv="content-type" content="text/html; charset=UTF-8">
      <span class="markedContent" id="page879R_mcid0"><span style="left:
          150px; top: 125.55px; font-size: 17.5px; font-family: serif;
          transform: scaleX(1.13743);" role="presentation" dir="ltr">ORACLE</span><span
          style="left: 220.009px; top: 125.55px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 228.801px; top: 125.55px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.999186);"
          role="presentation" dir="ltr">例程已经关闭。</span><br
          role="presentation">
        <span style="left: 150.002px; top: 151.649px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.03061);"
          role="presentation" dir="ltr">SQL&gt;</span><span style="left:
          192.893px; top: 151.649px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 197.301px; top: 151.649px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.01382);"
          role="presentation" dir="ltr">startup;</span><br
          role="presentation">
        <span style="left: 150px; top: 177.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.13743);"
          role="presentation" dir="ltr">ORACLE</span><span style="left:
          220.009px; top: 177.549px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 228.801px; top: 177.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.999186);"
          role="presentation" dir="ltr">例程已经启动。</span><br
          role="presentation">
        <span style="left: 150.002px; top: 229.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.901408);"
          role="presentation" dir="ltr">Total System Global Area
          1071333376 bytes</span><br role="presentation">
        <span style="left: 150.002px; top: 255.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.97951);"
          role="presentation" dir="ltr">Fixed Size</span><span
          style="left: 224.608px; top: 255.548px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 381.94px; top: 255.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.857054);"
          role="presentation" dir="ltr">1375792 bytes</span><br
          role="presentation">
        <span style="left: 150.002px; top: 281.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.942283);"
          role="presentation" dir="ltr">Variable Size</span><span
          style="left: 242.848px; top: 281.548px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 356.523px; top: 281.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.853985);"
          role="presentation" dir="ltr">645923280 bytes</span><br
          role="presentation">
        <span style="left: 150.002px; top: 307.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.903726);"
          role="presentation" dir="ltr">Database Buffers</span><span
          style="left: 270.664px; top: 307.548px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 358.236px; top: 307.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.853724);"
          role="presentation" dir="ltr">419430400 bytes</span><br
          role="presentation">
        <span style="left: 150.002px; top: 333.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.942796);"
          role="presentation" dir="ltr">Redo Buffers</span><span
          style="left: 243.59px; top: 333.548px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 383.524px; top: 333.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.856952);"
          role="presentation" dir="ltr">4603904 bytes</span><br
          role="presentation">
        <span style="left: 150.002px; top: 359.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">数据库装载完毕。</span><br role="presentation">
        <span style="left: 150.002px; top: 385.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">数据库已经打开。</span><br role="presentation">
        <span style="left: 150.002px; top: 437.646px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.03087);"
          role="presentation" dir="ltr">SQL&gt;</span><span style="left:
          192.903px; top: 437.646px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 197.303px; top: 437.646px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.986248);"
          role="presentation" dir="ltr">shutdown immediate;</span><br
          role="presentation">
        <span style="left: 150.002px; top: 463.546px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">数据库已经关闭。</span><br role="presentation">
        <span style="left: 150.002px; top: 489.546px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">已经卸载数据库。</span><br role="presentation">
        <span style="left: 150.002px; top: 515.546px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.13743);"
          role="presentation" dir="ltr">ORACLE</span><span style="left:
          220.011px; top: 515.546px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 228.803px; top: 515.546px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.999186);"
          role="presentation" dir="ltr">例程已经关闭。</span><br
          role="presentation">
        <span style="left: 150.004px; top: 567.645px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.03061);"
          role="presentation" dir="ltr">SQL&gt;</span><span style="left:
          192.894px; top: 567.645px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 197.303px; top: 567.645px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.0056);"
          role="presentation" dir="ltr">startup</span><br
          role="presentation">
        <span style="left: 150.004px; top: 593.545px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.13743);"
          role="presentation" dir="ltr">ORACLE</span><span style="left:
          220.012px; top: 593.545px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 228.804px; top: 593.545px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.999186);"
          role="presentation" dir="ltr">例程已经启动。</span><br
          role="presentation">
        <span style="left: 150.005px; top: 645.545px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.901408);"
          role="presentation" dir="ltr">Total System Global Area
          1071333376 bytes</span><br role="presentation">
        <span style="left: 150.005px; top: 671.544px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.97951);"
          role="presentation" dir="ltr">Fixed Size</span><span
          style="left: 224.611px; top: 671.544px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 381.943px; top: 671.544px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.857054);"
          role="presentation" dir="ltr">1375792 bytes</span><br
          role="presentation">
        <span style="left: 150.005px; top: 697.544px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.942283);"
          role="presentation" dir="ltr">Variable Size</span><span
          style="left: 242.852px; top: 697.544px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 356.526px; top: 697.544px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.853985);"
          role="presentation" dir="ltr">645923280 bytes</span><br
          role="presentation">
        <span style="left: 150.005px; top: 723.544px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.903726);"
          role="presentation" dir="ltr">Database Buffers</span><span
          style="left: 270.668px; top: 723.544px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 358.24px; top: 723.544px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.853724);"
          role="presentation" dir="ltr">419430400 bytes</span><br
          role="presentation">
        <span style="left: 150.005px; top: 749.544px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.942796);"
          role="presentation" dir="ltr">Redo Buffers</span><span
          style="left: 243.594px; top: 749.544px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 383.527px; top: 749.544px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.856952);"
          role="presentation" dir="ltr">4603904 bytes</span><br
          role="presentation">
        <span style="left: 150.005px; top: 775.543px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">数据库装载完毕。</span><br role="presentation">
        <span style="left: 150.005px; top: 801.543px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.954011);"
          role="presentation" dir="ltr">ORA-01157:</span><span
          style="left: 240.795px; top: 801.543px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 249.505px; top: 801.543px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">无法标识</span><span style="left: 319.505px; top:
          801.543px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr">/</span><span style="left:
          324.405px; top: 801.543px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr">锁定
          数据文件</span><span style="left: 429.405px; top: 801.543px;
          font-size: 17.5px; font-family: serif;" role="presentation"
          dir="ltr"> </span><span style="left: 438.104px; top:
          801.543px; font-size: 17.5px; font-family: serif; transform:
          scaleX(0.906083);" role="presentation" dir="ltr">4 -</span><span
          style="left: 457.132px; top: 801.543px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 465.905px; top: 801.543px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">请参阅</span><span style="left: 518.405px; top:
          801.543px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          527.106px; top: 801.543px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1.10449);" role="presentation"
          dir="ltr">DBWR</span><span style="left: 579.606px; top:
          801.543px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          588.405px; top: 801.543px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.998575);" role="presentation"
          dir="ltr">跟踪文件</span><br role="presentation">
        <span style="left: 150.005px; top: 827.543px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.947391);"
          role="presentation" dir="ltr">ORA-01110:</span><span
          style="left: 240.165px; top: 827.543px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 248.805px; top: 827.543px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">数据文件</span><span style="left: 318.805px; top:
          827.543px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          327.606px; top: 827.543px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1.00971);" role="presentation"
          dir="ltr">4: 'D:\APP\ADMINISTRATOR\ORADATA\ORCL\USERS01.DBF'</span><br
          role="presentation">
        <span style="left: 150.005px; top: 879.642px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.03061);"
          role="presentation" dir="ltr">SQL&gt;</span><span style="left:
          192.896px; top: 879.642px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 197.304px; top: 879.642px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.8996);"
          role="presentation" dir="ltr">set linesize 200;</span><br
          role="presentation">
        <span style="left: 150.005px; top: 905.642px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.03087);"
          role="presentation" dir="ltr">SQL&gt;</span><span style="left:
          192.907px; top: 905.642px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 197.306px; top: 905.642px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.968413);"
          role="presentation" dir="ltr">select * from v$recover_file;</span><br
          role="presentation">
        <span style="left: 150.005px; top: 957.542px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.08718);"
          role="presentation" dir="ltr">FILE#</span><span style="left:
          195.649px; top: 957.542px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 213.301px; top: 957.542px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.12749);"
          role="presentation" dir="ltr">ONLINE</span><span style="left:
          278.357px; top: 957.542px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 304.747px; top: 957.542px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.11052);"
          role="presentation" dir="ltr">ONLINE_</span><span style="left:
          378.541px; top: 957.542px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 396.194px; top: 957.542px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.08056);"
          role="presentation" dir="ltr">ERROR</span><span style="left:
          454.364px; top: 957.542px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 620.652px; top: 957.542px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.08741);"
          role="presentation" dir="ltr">CHANGE# TIME</span><br
          role="presentation">
        <span style="left: 150.005px; top: 983.541px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.09437);"
          role="presentation" dir="ltr">---------- -------</span><span
          style="left: 253.423px; top: 983.541px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 305.997px; top: 983.541px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.1071);"
          role="presentation" dir="ltr">----------</span><span
          style="left: 364.12px; top: 983.541px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 390.494px; top: 983.541px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.10943);"
          role="presentation" dir="ltr">-------------------------------------</span><span
          style="left: 606.001px; top: 983.541px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 623.575px; top: 983.541px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.09743);"
          role="presentation" dir="ltr">---------- ------------</span><br
          role="presentation">
        <span style="left: 158.806px; top: 1009.54px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr">4</span><span
          style="left: 167.556px; top: 1009.54px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 211.408px; top: 1009.54px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.12673);"
          role="presentation" dir="ltr">ONLINE</span><span style="left:
          276.42px; top: 1009.54px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 302.801px; top: 1009.54px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.12673);"
          role="presentation" dir="ltr">ONLINE</span><span style="left:
          367.814px; top: 1009.54px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 385.394px; top: 1009.54px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.10605);"
          role="presentation" dir="ltr">FILE NOT FOUND</span><span
          style="left: 526.95px; top: 1009.54px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 631.929px; top: 1009.54px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr">0</span><br
          role="presentation">
        <span style="left: 150.005px; top: 1061.64px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.03087);"
          role="presentation" dir="ltr">SQL&gt;</span><span style="left:
          192.907px; top: 1061.64px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 197.306px; top: 1061.64px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.970004);"
          role="presentation" dir="ltr">alter database datafile 4
          offline drop;</span><br role="presentation">
        <span style="left: 150.007px; top: 1087.54px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">数据库已更改。</span><br role="presentation">
        <span style="left: 150.007px; top: 1139.54px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.03087);"
          role="presentation" dir="ltr">SQL&gt;</span><span style="left:
          192.908px; top: 1139.54px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 197.308px; top: 1139.54px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.946878);"
          role="presentation" dir="ltr">alter database open</span><span
          style="left: 342.808px; top: 1139.54px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr">；</span><br
          role="presentation">
        <span style="left: 150.007px; top: 1165.54px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">数据库已更改。</span><br role="presentation">
        <span style="left: 150.007px; top: 1217.54px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">将数据文件拷贝回原路径存放<br>
          <br>
        </span></span></span><span class="markedContent"
      id="page882R_mcid0">
      <meta http-equiv="content-type" content="text/html; charset=UTF-8">
      <span class="markedContent" id="page882R_mcid0"><span style="left:
          150px; top: 125.649px; font-size: 17.5px; font-family: serif;
          transform: scaleX(1.03087);" role="presentation" dir="ltr">SQL&gt;</span><span
          style="left: 192.901px; top: 125.649px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 197.301px; top: 125.649px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.977246);"
          role="presentation" dir="ltr">recover datafile 4;</span><br
          role="presentation">
        <span style="left: 150.002px; top: 151.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.961053);"
          role="presentation" dir="ltr">ORA-00279:</span><span
          style="left: 241.462px; top: 151.549px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 250.102px; top: 151.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">更改</span><span style="left: 285.102px; top:
          151.549px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          293.903px; top: 151.549px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.850729);" role="presentation"
          dir="ltr">3782020 (</span><span style="left: 365.303px; top:
          151.549px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr">在</span><span style="left:
          382.803px; top: 151.549px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 391.603px; top: 151.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.804961);"
          role="presentation" dir="ltr">06/13/2020 11:31:22</span><span
          style="left: 537.261px; top: 151.549px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 545.903px; top: 151.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">生成</span><span style="left: 580.903px; top:
          151.549px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr">)</span><span style="left:
          586.73px; top: 151.549px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 595.503px; top: 151.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">对于线程</span><span style="left: 665.503px; top:
          151.549px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          674.304px; top: 151.549px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr">1</span><span
          style="left: 683.054px; top: 151.549px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 691.804px; top: 151.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.998575);"
          role="presentation" dir="ltr">是必需的</span><br
          role="presentation">
        <span style="left: 150.004px; top: 177.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.961053);"
          role="presentation" dir="ltr">ORA-00289:</span><span
          style="left: 241.464px; top: 177.549px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 250.104px; top: 177.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">建议</span><span style="left: 285.104px; top:
          177.549px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr">:</span><br role="presentation">
        <span style="left: 150.004px; top: 203.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.02665);"
          role="presentation" dir="ltr">D:\APP\ADMINISTRATOR\FLASH_RECOVERY_AREA\ORCL\ARCHIVELOG\2020_06_13\</span><br
          role="presentation">
        <span style="left: 150.004px; top: 229.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.03172);"
          role="presentation" dir="ltr">O1_MF_1_121_COWCX0WH_.ARC</span><br
          role="presentation">
        <span style="left: 150.004px; top: 255.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.961053);"
          role="presentation" dir="ltr">ORA-00280:</span><span
          style="left: 241.464px; top: 255.548px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 250.104px; top: 255.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">更改</span><span style="left: 285.104px; top:
          255.548px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          293.904px; top: 255.548px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.850729);" role="presentation"
          dir="ltr">3782020 (</span><span style="left: 365.304px; top:
          255.548px; font-size: 17.5px; font-family: serif; transform:
          scaleX(1);" role="presentation" dir="ltr">用于线程</span><span
          style="left: 435.304px; top: 255.548px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 444.004px; top: 255.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.926333);"
          role="presentation" dir="ltr">1)</span><span style="left:
          458.593px; top: 255.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 467.405px; top: 255.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">在序列</span><span style="left: 519.905px; top:
          255.548px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          528.604px; top: 255.548px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.834542);" role="presentation"
          dir="ltr">#121</span><span style="left: 563.655px; top:
          255.548px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          572.405px; top: 255.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr">中</span><br
          role="presentation">
        <span style="left: 150.005px; top: 333.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">指定日志</span><span style="left: 220.005px; top:
          333.548px; font-size: 17.5px; font-family: serif; transform:
          scaleX(0.995804);" role="presentation" dir="ltr">:
          {&lt;RET&gt;=suggested | filename | AUTO | CANCEL}</span><br
          role="presentation">
        <span style="left: 150.005px; top: 359.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.02205);"
          role="presentation" dir="ltr">Auto</span><span style="left:
          185.011px; top: 359.547px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 211.306px; top: 359.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.536731);"
          role="presentation" dir="ltr">//</span><span style="left:
          221.106px; top: 359.547px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.998575);" role="presentation"
          dir="ltr">用户输入</span><br role="presentation">
        <span style="left: 150.007px; top: 385.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.961053);"
          role="presentation" dir="ltr">ORA-00279:</span><span
          style="left: 241.467px; top: 385.547px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 250.107px; top: 385.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">更改</span><span style="left: 285.107px; top:
          385.547px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          293.908px; top: 385.547px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.850729);" role="presentation"
          dir="ltr">3787896 (</span><span style="left: 365.308px; top:
          385.547px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr">在</span><span style="left:
          382.808px; top: 385.547px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 391.609px; top: 385.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.804961);"
          role="presentation" dir="ltr">06/13/2020 11:59:27</span><span
          style="left: 537.266px; top: 385.547px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 545.908px; top: 385.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">生成</span><span style="left: 580.908px; top:
          385.547px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr">)</span><span style="left:
          586.735px; top: 385.547px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 595.508px; top: 385.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">对于线程</span><span style="left: 665.508px; top:
          385.547px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          674.309px; top: 385.547px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr">1</span><span
          style="left: 683.059px; top: 385.547px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 691.809px; top: 385.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.998575);"
          role="presentation" dir="ltr">是必需的</span><br
          role="presentation">
        <span style="left: 150.009px; top: 411.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.961053);"
          role="presentation" dir="ltr">ORA-00289:</span><span
          style="left: 241.469px; top: 411.547px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 250.109px; top: 411.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">建议</span><span style="left: 285.109px; top:
          411.547px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr">:</span><br role="presentation">
        <span style="left: 150.009px; top: 437.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.02665);"
          role="presentation" dir="ltr">D:\APP\ADMINISTRATOR\FLASH_RECOVERY_AREA\ORCL\ARCHIVELOG\2020_06_13\</span><br
          role="presentation">
        <span style="left: 150.009px; top: 463.546px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.02119);"
          role="presentation" dir="ltr">O1_MF_1_122_COWGOG0Z_.ARC</span><br
          role="presentation">
        <span style="left: 150.009px; top: 489.546px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.961053);"
          role="presentation" dir="ltr">ORA-00280:</span><span
          style="left: 241.469px; top: 489.546px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 250.109px; top: 489.546px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">更改</span><span style="left: 285.109px; top:
          489.546px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          293.91px; top: 489.546px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.850729);" role="presentation"
          dir="ltr">3787896 (</span><span style="left: 365.31px; top:
          489.546px; font-size: 17.5px; font-family: serif; transform:
          scaleX(1);" role="presentation" dir="ltr">用于线程</span><span
          style="left: 435.31px; top: 489.546px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 444.009px; top: 489.546px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.926333);"
          role="presentation" dir="ltr">1)</span><span style="left:
          458.599px; top: 489.546px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 467.41px; top: 489.546px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">在序列</span><span style="left: 519.91px; top:
          489.546px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          528.609px; top: 489.546px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.834542);" role="presentation"
          dir="ltr">#122</span><span style="left: 563.66px; top:
          489.546px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          572.41px; top: 489.546px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr">中</span><br
          role="presentation">
        <span style="left: 150.011px; top: 541.546px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">已应用的日志。</span><br role="presentation">
        <span style="left: 150.011px; top: 567.545px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">完成介质恢复。</span><br role="presentation">
        <span style="left: 150.011px; top: 619.645px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.03061);"
          role="presentation" dir="ltr">SQL&gt;</span><span style="left:
          192.901px; top: 619.645px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 197.31px; top: 619.645px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.958121);"
          role="presentation" dir="ltr">alter database datafile 4
          online;</span><br role="presentation">
        <span style="left: 150.011px; top: 645.545px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">数据库已更改。</span><br role="presentation">
        <span style="left: 150.011px; top: 671.544px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">恢复完成</span><br role="presentation">
        <span style="left: 150px; top: 723.55px; font-size: 17.5px;
          font-family: monospace; transform: scaleX(1.00356);"
          role="presentation" dir="ltr">（四）数据泵技术</span><br
          role="presentation">
        <span style="left: 185px; top: 749.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.98547);"
          role="presentation" dir="ltr">Oracle 中创建目录对象时，需要使用 CREATE</span><span
          style="left: 526.334px; top: 749.549px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 544.438px; top: 749.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.980574);"
          role="presentation" dir="ltr">DIRECTORY 语句。并且要对使用目录的</span><br
          role="presentation">
        <span style="left: 150px; top: 775.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.02128);"
          role="presentation" dir="ltr">账户进行授权（grant）</span><span
          style="left: 323.8px; top: 775.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.0328);"
          role="presentation" dir="ltr">。Directory 对象包含 Read,Write
          两个权限。Create 之前应提前建</span><br role="presentation">
        <span style="left: 150px; top: 801.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">立物理文件目录。备份的数据将来就存储在这个目录里。</span><br
          role="presentation">
        <span style="left: 185px; top: 827.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.992284);"
          role="presentation" dir="ltr">例子：导出 bookstore/admin 用户下的某个表</span><br
          role="presentation">
        <span style="left: 184.3px; top: 853.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.835778);"
          role="presentation" dir="ltr">1.</span><span style="left:
          197.464px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 206.299px; top: 853.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.99715);"
          role="presentation" dir="ltr">连接</span><span style="left:
          241.2px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 245.599px; top: 853.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.959923);"
          role="presentation" dir="ltr">Oracle</span><span style="left:
          292.203px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 296.599px; top: 853.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">数据库。</span><br role="presentation">
        <span style="left: 184.3px; top: 879.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.902805);"
          role="presentation" dir="ltr">SQL&gt; conn sys/orcl as sysdba</span><br
          role="presentation">
        <span style="left: 184.3px; top: 905.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.915433);"
          role="presentation" dir="ltr">Connected.</span><br
          role="presentation">
        <span style="left: 184.3px; top: 931.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.836556);"
          role="presentation" dir="ltr">2.</span><span style="left:
          197.5px; top: 931.548px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.999832);" role="presentation"
          dir="ltr">创建一个操作目录，同时需要使用操作系统命令在硬盘上创建这个物理目录。</span><br
          role="presentation">
        <span style="left: 184.3px; top: 957.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.01792);"
          role="presentation" dir="ltr">SQL&gt; CREATE DIRECTORY MY_DIR
          AS 'd:\mydata';</span><br role="presentation">
        <span style="left: 184.3px; top: 983.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.938083);"
          role="presentation" dir="ltr">Directory created.</span><br
          role="presentation">
        <span style="left: 184.3px; top: 1009.55px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.836556);"
          role="presentation" dir="ltr">3.</span><span style="left:
          197.5px; top: 1009.55px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.999186);" role="presentation"
          dir="ltr">授予用户权限。</span><br role="presentation">
        <span style="left: 184.3px; top: 1035.55px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1.05763);"
          role="presentation" dir="ltr">SQL&gt; GRANT READ,WRITE ON
          DIRECTORY MY_DIR TO bookstore;</span><br role="presentation">
        <span style="left: 184.3px; top: 1061.55px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.896767);"
          role="presentation" dir="ltr">Grant succeeded.</span><br
          role="presentation">
        <span style="left: 184.3px; top: 1087.55px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.836556);"
          role="presentation" dir="ltr">4.</span><span style="left:
          197.5px; top: 1087.55px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr">导出
          数据表</span><br role="presentation">
        <span style="left: 184.3px; top: 1113.55px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.962469);"
          role="presentation" dir="ltr">C:&gt;expdp bookstore/admin
          directory=MY_DIR DUMPFILE=wy.dmp tables=student</span><br
          role="presentation">
        <span style="left: 184.3px; top: 1139.55px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">同样方法，请大家自行练习导出，数据库、用户模式和表空间。</span><br
          role="presentation">
        <span style="left: 184.3px; top: 1178.55px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">数据泵导入方法</span><br role="presentation">
        <span style="left: 184.4px; top: 1204.55px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.984852);"
          role="presentation" dir="ltr">使用 impdp 导入上例导出的数据</span><br
          role="presentation">
        <span style="left: 184.3px; top: 1230.55px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.944857);"
          role="presentation" dir="ltr">C:&gt;Impdp bookstore/admin
          directory=MY_DIR dumpfile=wy.dmp tables=student<br>
          <br>
        </span></span></span><br>
    <br>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    思考：emp 与 empdp 工具的作用和性能<br>
    <br role="presentation">
    <h2> （五）使用RMAN备份数据库</h2>
    <h2>1 <a
        href="https://so.csdn.net/so/search?q=RMAN&amp;spm=1001.2101.3001.7020"
        target="_blank" class="hl hl-1"
data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.7020&quot;,&quot;dest&quot;:&quot;https://so.csdn.net/so/search?q=RMAN&amp;spm=1001.2101.3001.7020&quot;,&quot;extra&quot;:&quot;{\&quot;searchword\&quot;:\&quot;RMAN\&quot;}&quot;}"
        data-tit="RMAN" data-pretit="rman">RMAN</a>的概述</h2>
    <h3>1.1 功能</h3>
    <p>1）<a
href="https://so.csdn.net/so/search?q=Recovery&amp;spm=1001.2101.3001.7020"
        target="_blank" class="hl hl-1"
data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.7020&quot;,&quot;dest&quot;:&quot;https://so.csdn.net/so/search?q=Recovery&amp;spm=1001.2101.3001.7020&quot;,&quot;extra&quot;:&quot;{\&quot;searchword\&quot;:\&quot;Recovery\&quot;}&quot;}"
        data-tit="Recovery" data-pretit="recovery">Recovery</a>
      MANager，是备份和恢复数据库的管理工具<br>
      2）由server process进行备份和恢复<br>
      3）rman备份的文件种类<br>
      ①datafile（database、tablespace、datafile）<br>
      ②controlfile、spfile<br>
      ③archivelog<br>
      4）在归档模式下支持非一致性备份（热备）<br>
      非归档方式的RMAN只能冷备，并在mount下做，但手工备份在mount下cp出来的备份对于RMAN是不可用的。<br>
      非归档方式的RMAN恢复只能还原最后一次备份<br>
    </p>
    <h3>1.2 特点</h3>
    RMAN备份可以忽略两种block(块的概念可以看看上级预备！)<br>
    <p> Unallocated: 未分配的block<br>
      Unused: 未使用的block<br>
    </p>
    <p align="center"><img src="lesson8/rmanbeifentwo.png" alt=""
        moz-do-not-send="true" width="259" height="278"></p>
    <p>1）备份时自动检查数据文件是否有坏块，因为RMAN是ORACLE BLOCK级备份技术<br>
      2）不备份临时表空间<br>
      3）可以实现增量备份<br>
      4）支持<a
href="https://so.csdn.net/so/search?q=%E5%A4%9A%E9%80%9A%E9%81%93&amp;spm=1001.2101.3001.7020"
        target="_blank" class="hl hl-1"
        data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.7020&quot;,&amp;



        amp;
        quot;dest&quot;:&quot;https://so.csdn.net/so/search?q=%E5%A4%9A
        %E9%80%9A%E9%81%93&amp;spm=1001.2101.3001.7020&quot;,&quot;
        extra&quot;:&quot;{\&quot;searchword\&quot;:\&quot;多通道
        \&quot;}&quot;}" data-tit="多通道" data-pretit="多通道">多通道</a>并行工作<br>
      5）可以备份ASM文件<br>
      1.3 架构<br>
      1）可连接三类数据库：target database(备份的目标库)，catalog
      database(目录数据库)，duplicate database(复制数据库)。<br>
      2）存储设备：disk、tape（sbt磁带机）存放备份文件的设备<br>
      3）channel：目标库和存储设备之间备份恢复通道（服务进程）默认最少启动一个channel，可同时启动多个channel并发操
      作。<br>
      4）server process：用于备份和恢复的进程<br>
      5）rman的元数据：记录备份的信息（放在目标库的controlfile里）<br>
      6）catalog database :集中管理、存放备份的元数据，还可以存储备份脚本<br>
      7）MML:media manage layer介质管理层：用于管理磁带机的库文件或驱动<br>
    </p>
    <h3>1.5 RMAN的备份类别</h3>
    <p>1）backupset：(备份集)<br>
      不备份datafile里从未使用块、可以实现增量备份（可以备份到disk和tape）。可以实施compression,
      如果只启用一个channel，默认会把所有备份的datafile放入到一个backupset里，并且生成一个备份片backup
      piece。<br>
      2）image copy（映像文件)：<br>
      实际上和手工cp 类似的，备份datafile所有的数据块, 不能作为增量备份的基础（即0级增量备份），只能备份到disk
      ，不能备份到tape，优点是可以省略还原步骤，恢复数据库速度快</p>
    <br>
    一、备份策略的制定<br>
    数据库数据是非常重要的资产，但数据丢失是一个巨大的挑战。为了有效地应对数据丢失的风险，Oracle提供了强大而可靠的RMAN备份和恢复工
    具。下面将介绍Oracle RMAN备份恢复的实战技巧，帮助您应对数据丢失的挑战，并确保数据库的安全性和可用性。1、确定备份类型：根据数
    据的重要性和恢复时间的要求，选择全备份、增量备份或归档日志备份。全备份可以完整地备份整个数据库，增量备份仅备份发生变化的数据块，而归档日
    志备份用于备份数据库的归档日志文件。<br>
    2、设定备份频率：确定备份的频率是很重要的。根据业务需求和数据变更的频率，设置合理的备份频率。通常建议进行定期的全备份和增量备份，以及即
    时备份归档日志文件。<br>
    3、选择存储介质：选择适当的存储介质来存储备份数据。可以使用磁盘或磁带作为备份存储介质。使用磁盘可以提供更快的备份和恢复速度，而使用磁带
    则可以提供更长时间的存储。<br role="presentation">
    二、备份操作步骤<br>
    1、创建备份集：使用RMAN命令创建备份集，包括指定备份类型、备份集名称和备份目标等。可以选择性地包含归档日志文件和控制文件。<br>
    2、执行备份：运行RMAN命令执行备份操作。根据事先设置的备份策略，可以执行全备份、增量备份或归档日志备份。备份过程中会将数据块、表空间
    或归档日志文件备份到目标位置。<br>
    3、验证备份：在备份完成后，建议验证备份的完整性和可用性。可以通过还原备份并进行测试来验证备份数据的一致性和可恢复性。<br>
    <h3> <span class="hl hl-1">ORACLE数据库</span>有两种运行方式：</h3>
    <p>
      <meta http-equiv="content-type" content="text/html; charset=UTF-8">
      一是归档方式(ARCHIVELOG):&nbsp;&nbsp;
      归档方式的目的是当数据库发生故障时最大限度恢复数据库，可以保证不丢失任何已提交的数据；<br>
      二是不归档方式(NOARCHIVELOG):&nbsp; 只能恢复数据库到最近的回收点(冷备份或是逻辑备份)。</p>
    rman(recovery manager)是oracle8i以后各版本的dba的一重要工具,&nbsp;
    位于Oracle安装目录$oracle_home/bin目录下,主要用来备份,还原和恢复.可以实现基于数
    据库解包,表空间级别完全恢复和不完全恢复.<br>
    rman实际由两部分组成,可执行文件和recover.bsq文件.recover.bsq文件实
    质上是库文件,可执行文件从recover.bsq文件中析取代码来创建在目标数据库上执行的pl/sql调用<br>
    Recovery Manager 是一个以客户端方式运行的备份与恢复工具, RMAN 可以用来备份和还原
    数据库文件、归档日志和控制文件。它也可以用来执行完全或不完全的数据库恢复。。<br role="presentation">
    RMAN 特点：<span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          245.498px; top: 229.549px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1.0038);" role="presentation"
          dir="ltr"><br>
        </span><span style="left: 298.197px; top: 229.549px; font-size:
          17.5px; font-family: serif; transform: scaleX(0.972833);"
          role="presentation" dir="ltr">(1)</span><span style="left:
          318.597px; top: 229.549px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1.00228);" role="presentation"
          dir="ltr">跳过未使用的数据块；<br>
        </span><span style="left: 493.998px; top: 229.549px; font-size:
          17.5px; font-family: serif; transform: scaleX(0.972833);"
          role="presentation" dir="ltr">(2)</span><span style="left:
          514.497px; top: 229.549px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1.00207);" role="presentation"
          dir="ltr">采用定制算法压缩备份；<br>
        </span><span style="left: 707.398px; top: 229.549px; font-size:
          17.5px; font-family: serif; transform: scaleX(0.972833);"
          role="presentation" dir="ltr">(3)</span><span style="left:
          727.897px; top: 229.549px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1.00326);" role="presentation"
          dir="ltr">执行增量备份；</span><br role="presentation">
        <span style="left: 298.097px; top: 255.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.972833);"
          role="presentation" dir="ltr">(4)</span><span style="left:
          318.497px; top: 255.548px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr">支持
          块级别的恢复</span><br role="presentation">
        <span style="left: 184.297px; top: 281.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr"><br>
          使用</span><span style="left: 219.297px; top: 281.548px;
          font-size: 17.5px; font-family: serif;" role="presentation"
          dir="ltr"> </span><span style="left: 223.696px; top:
          281.548px; font-size: 17.5px; font-family: serif; transform:
          scaleX(1.12892);" role="presentation" dir="ltr">RMAN</span><span
          style="left: 276.191px; top: 281.548px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 280.596px; top: 281.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">进行 备份和恢复</span><span style="left: 403.096px; top:
          281.548px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr">/</span><span style="left:
          407.996px; top: 281.548px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr">操作
          应具备以下条件：</span><span style="left: 573.495px; top: 281.548px;
          font-size: 17.5px; font-family: serif;" role="presentation"
          dir="ltr"><br>
          （</span><span style="left: 590.995px; top: 281.548px;
          font-size: 17.5px; font-family: serif;" role="presentation"
          dir="ltr">1</span><span style="left: 599.796px; top:
          281.548px; font-size: 17.5px; font-family: serif; transform:
          scaleX(0.995327);" role="presentation" dir="ltr">）数据库处于归档模式。</span><span
          style="left: 781.895px; top: 281.548px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"><br>
          （</span><span style="left: 799.395px; top: 281.548px;
          font-size: 17.5px; font-family: serif;" role="presentation"
          dir="ltr">2</span><span style="left: 808.095px; top:
          281.548px; font-size: 17.5px; font-family: serif; transform:
          scaleX(0.97715);" role="presentation" dir="ltr">）创</span><span
          style="left: 149.995px; top: 307.548px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">建了恢复目录。</span><span style="left: 263.796px; top:
          307.548px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"><br>
          （</span><span style="left: 281.296px; top: 307.548px;
          font-size: 17.5px; font-family: serif;" role="presentation"
          dir="ltr">3</span><span style="left: 290.096px; top:
          307.548px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr">）</span><span style="left:
          307.596px; top: 307.548px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1.12565);" role="presentation"
          dir="ltr">RMAN</span><span style="left: 359.939px; top:
          307.548px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          364.296px; top: 307.548px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr">连接
          到目标数据库。</span><span style="left: 513.097px; top: 307.548px;
          font-size: 17.5px; font-family: serif;" role="presentation"
          dir="ltr"><br>
          （</span><span style="left: 530.497px; top: 307.548px;
          font-size: 17.5px; font-family: serif;" role="presentation"
          dir="ltr">4</span><span style="left: 539.298px; top:
          307.548px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr">）</span><span style="left:
          556.798px; top: 307.548px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1.12892);" role="presentation"
          dir="ltr">RMAN</span><span style="left: 609.293px; top:
          307.548px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          613.698px; top: 307.548px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.99943);" role="presentation"
          dir="ltr">进行相应的参数设置。<br>
          <br>
        </span></span></span>
    <h3><span class="markedContent" id="page885R_mcid0"><span
          class="markedContent" id="page885R_mcid0"><span style="left:
            613.698px; top: 307.548px; font-size: 17.5px; font-family:
            serif; transform: scaleX(0.99943);" role="presentation"
            dir="ltr">看看rman命令在哪?</span></span></span></h3>
    <h3><span class="markedContent" id="page885R_mcid0"><span
          class="markedContent" id="page885R_mcid0"><span style="left:
            613.698px; top: 307.548px; font-size: 17.5px; font-family:
            serif; transform: scaleX(0.99943);" role="presentation"
            dir="ltr"></span></span></span></h3>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          613.698px; top: 307.548px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.99943);" role="presentation"
          dir="ltr"> $ which rman<br>
          /opt/app/oracle/product/19.3.000/db_home/bin/rman<br>
          <br role="presentation">
        </span> <span style="left: 184.298px; top: 333.548px;
          font-size: 17.5px; font-family: serif; transform:
          scaleX(0.879664);" role="presentation" dir="ltr">$ ./lsnrctl
          start<br>
          $ ./sqlplus /nolog<br>
        </span></span></span><span class="markedContent"
      id="page885R_mcid0"><span class="markedContent"
        id="page885R_mcid0"><span style="left: 184.298px; top:
          333.548px; font-size: 17.5px; font-family: serif; transform:
          scaleX(0.879664);" role="presentation" dir="ltr">SQL</span></span></span>&gt;<span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          184.298px; top: 333.548px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.879664);" role="presentation"
          dir="ltr"> conn sys/admin as sysdba<br>
        </span></span></span><br role="presentation">
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          184.298px; top: 333.548px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.879664);" role="presentation"
          dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 184.298px; top: 333.548px; font-size:
                17.5px; font-family: serif; transform:
                scaleX(0.879664);" role="presentation" dir="ltr">查看是否是归档
                模式: </span></span></span></span></span></span><br>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          184.298px; top: 333.548px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.879664);" role="presentation"
          dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 184.298px; top: 333.548px; font-size:
                17.5px; font-family: serif; transform:
                scaleX(0.879664);" role="presentation" dir="ltr">可以<span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 184.298px; top: 333.548px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(0.879664);" role="presentation" dir="ltr"><span
                        class="markedContent" id="page885R_mcid0"><span
                          class="markedContent" id="page885R_mcid0"><span
                            style="left: 184.298px; top: 333.548px;
                            font-size: 17.5px; font-family: serif;
                            transform: scaleX(0.879664);"
                            role="presentation" dir="ltr">在 sqldeveloper</span></span></span>中
                      使用SQL语句<br>
                      #</span></span></span></span></span></span>archive
          log list;<br>
          数据库日志模
          式&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          <font color="#ff0000">不归档模式 &lt;&lt;&lt;&lt;&lt;&lt; 看看这里！！</font></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          184.298px; top: 333.548px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.879664);" role="presentation"
          dir="ltr"><br>
          自动归
          档&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          已禁用<br>
          归档目
          标&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          USE_DB_RECOVERY_FILE_DEST<br>
          最早的联机日志序
          列&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          24<br>
          当前日志序
          列&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          26<br>
          <br>
        </span></span></span>可以<span class="markedContent"
      id="page885R_mcid0"><span class="markedContent"
        id="page885R_mcid0"><span style="left: 184.298px; top:
          333.548px; font-size: 17.5px; font-family: serif; transform:
          scaleX(0.879664);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 184.298px; top: 333.548px; font-size:
                17.5px; font-family: serif; transform:
                scaleX(0.879664);" role="presentation" dir="ltr">在
                sqldeveloper</span></span></span>中使用SQL语句</span></span></span><br>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          184.298px; top: 333.548px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.879664);" role="presentation"
          dir="ltr"></span> <span style="left: 184.298px; top:
          359.547px; font-size: 17.5px; font-family: serif; transform:
          scaleX(0.90904);" role="presentation" dir="ltr">#select dbid,
          name, log_mode, platform_name from v$database;<br>
          <br>
        </span></span></span>
    <div align="center"><img moz-do-not-send="true"
        src="../hustdbroot/oradir/searcharchiveres.png" alt=""
        width="626" height="314"><span class="markedContent"
        id="page885R_mcid0"><span class="markedContent"
          id="page885R_mcid0"><span style="left: 184.298px; top:
            359.547px; font-size: 17.5px; font-family: serif; transform:
            scaleX(0.90904);" role="presentation" dir="ltr"></span></span></span><br
        role="presentation">
      <span class="markedContent" id="page885R_mcid0"><span
          class="markedContent" id="page885R_mcid0"><span style="left:
            184.298px; top: 359.547px; font-size: 17.5px; font-family:
            serif; transform: scaleX(0.90904);" role="presentation"
            dir="ltr"></span></span></span></div>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"> <span style="left:
          184.298px; top: 385.547px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr"><br>
          <br>
          注意： LOG_MODE列下面的值：&nbsp; <font color="#ff0000"><b>NOARCHIVELOG



              (即为</b></font></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          184.298px; top: 385.547px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr"><font
            color="#ff0000"><b><span class="markedContent"
                id="page885R_mcid0"><span class="markedContent"
                  id="page885R_mcid0"><span style="left: 184.298px; top:
                    385.547px; font-size: 17.5px; font-family: serif;
                    transform: scaleX(1);" role="presentation" dir="ltr">非
                    归档模式</span></span></span>)<br>
              <br>
            </b></font></span></span></span>也可以直接在SQLPlus中进行查寻:<br>
    SQL&gt; select dbid, name, log_mode, platform_name from v$database;<span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          184.298px; top: 385.547px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr"><font
            color="#ff0000"><b><span class="markedContent"
                id="page885R_mcid0"><span class="markedContent"
                  id="page885R_mcid0"><span style="left: 184.298px; top:
                    359.547px; font-size: 17.5px; font-family: serif;
                    transform: scaleX(0.90904);" role="presentation"
                    dir="ltr"><br>
                  </span></span></span></b></font>&nbsp;<br>
        </span></span></span>
    <h3><span class="markedContent" id="page885R_mcid0"><span
          class="markedContent" id="page885R_mcid0"><span style="left:
            184.298px; top: 385.547px; font-size: 17.5px; font-family:
            serif; transform: scaleX(1);" role="presentation" dir="ltr">
            如果处于非归档模式，则需要先关闭数据库：</span></span></span></h3>
    <h3><span class="markedContent" id="page885R_mcid0"><span
          class="markedContent" id="page885R_mcid0"></span></span></h3>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"> <span style="left:
          201.798px; top: 411.547px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr">执行</span><span
          style="left: 236.798px; top: 411.547px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> <br>
          SQL&gt;</span><span style="left: 241.198px; top: 411.547px;
          font-size: 17.5px; font-family: serif; transform:
          scaleX(0.921036);" role="presentation" dir="ltr">shutdown
          immediate;</span><span style="left: 392.298px; top: 411.547px;
          font-size: 17.5px; font-family: serif; transform: scaleX(1);"
          role="presentation" dir="ltr">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          //<b> <font color="#ff0000">关闭 数据库和实例，只能在SQLPLUS中执行这个语句！</font></b></span><br
          role="presentation">
        <span style="left: 201.798px; top: 437.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.901059);"
          role="presentation" dir="ltr"></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          201.798px; top: 437.547px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.901059);" role="presentation"
          dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 236.798px; top: 411.547px; font-size:
                17.5px; font-family: serif;" role="presentation"
                dir="ltr">SQL&gt;</span><span style="left: 241.198px;
                top: 411.547px; font-size: 17.5px; font-family: serif;
                transform: scaleX(0.921036);" role="presentation"
                dir="ltr"></span></span></span>startup mount;</span><span
          style="left: 303.398px; top: 437.547px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;









//



          启动数据库，不打开实例。</span><br role="presentation">
        <span style="left: 201.798px; top: 463.546px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.904726);"
          role="presentation" dir="ltr"></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          201.798px; top: 463.546px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.904726);" role="presentation"
          dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 201.798px; top: 437.547px; font-size:
                17.5px; font-family: serif; transform:
                scaleX(0.901059);" role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 236.798px; top: 411.547px; font-size:
                      17.5px; font-family: serif;" role="presentation"
                      dir="ltr">SQL&gt;</span></span></span></span></span></span>alter










database



          archivelog;</span><span style="left: 380.699px; top:
          463.546px; font-size: 17.5px; font-family: serif; transform:
          scaleX(0.99943);" role="presentation" dir="ltr">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          //切换实例为归档模式。<br>
        </span></span></span><br>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          380.699px; top: 463.546px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.99943);" role="presentation"
          dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 184.298px; top: 333.548px; font-size:
                17.5px; font-family: serif; transform:
                scaleX(0.879664);" role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 184.298px; top: 333.548px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(0.879664);" role="presentation" dir="ltr">再
                      次查看是否是归档模式<br>
                    </span></span></span>SQL&gt;archive log list;</span></span></span><br>
          数据库日志模
          式&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          归档日志模式<br>
          自动归
          档&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          已启用<br>
          归档目
          标&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          USE_DB_RECOVERY_FILE_DEST<br>
          最早的联机日志序
          列&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          24<br>
          下一个存档日志序
          列&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          26<br>
          当前日志序
          列&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          26<br>
          <br role="presentation">
        </span> <span style="left: 184.3px; top: 489.546px; font-size:
          17.5px; font-family: serif; transform: scaleX(0.867392);"
          role="presentation" dir="ltr"></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          184.3px; top: 489.546px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.867392);" role="presentation"
          dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 380.699px; top: 463.546px; font-size:
                17.5px; font-family: serif; transform: scaleX(0.99943);"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 184.298px; top: 333.548px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(0.879664);" role="presentation" dir="ltr">SQL&gt;</span></span></span></span></span></span>
          alter database open</span><span style="left: 335.862px; top:
          489.546px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr">;
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
          style="left: 340.3px; top: 489.546px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.998575);"
          role="presentation" dir="ltr">//打开实例<br>
        </span></span></span><span class="markedContent"
      id="page885R_mcid0"><span class="markedContent"
        id="page885R_mcid0"><span style="left: 340.3px; top: 489.546px;
          font-size: 17.5px; font-family: serif; transform:
          scaleX(0.998575);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 184.3px; top: 489.546px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.867392);"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 380.699px; top: 463.546px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(0.99943);" role="presentation" dir="ltr"><span
                        class="markedContent" id="page885R_mcid0"><span
                          class="markedContent" id="page885R_mcid0"><span
                            style="left: 184.298px; top: 333.548px;
                            font-size: 17.5px; font-family: serif;
                            transform: scaleX(0.879664);"
                            role="presentation" dir="ltr">SQL&gt; </span></span></span></span></span></span></span></span></span>select










name



          from v$datafile;&nbsp;&nbsp;&nbsp; //查看数据文件放置的路径<br>
        </span></span></span><br role="presentation">
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          340.3px; top: 489.546px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.998575);" role="presentation"
          dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 692.4px; top: 515.546px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.536731);"
                role="presentation" dir="ltr">//创</span><span
                style="left: 702.2px; top: 515.546px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.999288);"
                role="presentation" dir="ltr">建恢复目录表空间<br>
                linux用法<br>
                &nbsp; </span></span></span></span><span style="left:
          185px; top: 515.546px; font-size: 17.5px; font-family: serif;
          transform: scaleX(0.886353);" role="presentation" dir="ltr"></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          185px; top: 515.546px; font-size: 17.5px; font-family: serif;
          transform: scaleX(0.886353);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 380.699px; top: 463.546px; font-size:
                17.5px; font-family: serif; transform: scaleX(0.99943);"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 184.298px; top: 333.548px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(0.879664);" role="presentation" dir="ltr">SQL&gt;



                    </span></span></span></span></span></span>create
          tablespace rman_ts datafile
          '/opt/app/oracle/oradata/rman_ts.dbf' si</span><span
          style="left: 674.9px; top: 515.546px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr">ze 200M;
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



        </span><span style="left: 702.2px; top: 515.546px; font-size:
          17.5px; font-family: serif; transform: scaleX(0.999288);"
          role="presentation" dir="ltr"><br>
        </span></span></span><span class="markedContent"
      id="page885R_mcid0"><span class="markedContent"
        id="page885R_mcid0"><span style="left: 702.2px; top: 515.546px;
          font-size: 17.5px; font-family: serif; transform:
          scaleX(0.999288);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 185px; top: 515.546px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.886353);"
                role="presentation" dir="ltr">windows用法: </span></span></span></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          702.2px; top: 515.546px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.999288);" role="presentation"
          dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 185px; top: 515.546px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.886353);"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 185px; top: 515.546px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(0.886353);" role="presentation" dir="ltr"><span
                        class="markedContent" id="page885R_mcid0"><span
                          class="markedContent" id="page885R_mcid0"><span
                            style="left: 380.699px; top: 463.546px;
                            font-size: 17.5px; font-family: serif;
                            transform: scaleX(0.99943);"
                            role="presentation" dir="ltr"><span
                              class="markedContent" id="page885R_mcid0"><span
                                class="markedContent"
                                id="page885R_mcid0"><span style="left:
                                  184.298px; top: 333.548px; font-size:
                                  17.5px; font-family: serif; transform:
                                  scaleX(0.879664);" role="presentation"
                                  dir="ltr">SQL&gt;</span></span></span></span></span></span></span></span></span>create







tablespace



                rman_ts datafile 'D:\app\wtscrystal\oradata\rman_ts.dbf'
                size 200M;</span></span></span><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 185px; top: 515.546px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.886353);"
                role="presentation" dir="ltr"><br>
                结果显示: tablespace RMAN_TS 已创建。</span></span></span>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
          也可以这样：<br>
          &nbsp; </span></span></span><span class="markedContent"
      id="page885R_mcid0"><span class="markedContent"
        id="page885R_mcid0"><span style="left: 702.2px; top: 515.546px;
          font-size: 17.5px; font-family: serif; transform:
          scaleX(0.999288);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 340.3px; top: 489.546px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.998575);"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 702.2px; top: 515.546px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(0.999288);" role="presentation" dir="ltr"></span></span></span></span><span
                style="left: 185px; top: 515.546px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.886353);"
                role="presentation" dir="ltr"></span></span></span><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 185px; top: 515.546px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.886353);"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 380.699px; top: 463.546px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(0.99943);" role="presentation" dir="ltr"><span
                        class="markedContent" id="page885R_mcid0"><span
                          class="markedContent" id="page885R_mcid0"><span
                            style="left: 184.298px; top: 333.548px;
                            font-size: 17.5px; font-family: serif;
                            transform: scaleX(0.879664);"
                            role="presentation" dir="ltr">SQL&gt;</span></span></span></span></span></span></span></span></span>create








tablespace



          rman_ts datafile '/opt/app/oracle/oradata/rman_ts.dbf' size 2G
          autoextend off; //大小2G不自动扩展<br>
          <br>
          看看有没有目录</span></span></span>和 文件: <span class="markedContent"
      id="page885R_mcid0"><span class="markedContent"
        id="page885R_mcid0"><span style="left: 185px; top: 515.546px;
          font-size: 17.5px; font-family: serif; transform:
          scaleX(0.886353);" role="presentation" dir="ltr">/opt/app/oracle/</span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          185px; top: 515.546px; font-size: 17.5px; font-family: serif;
          transform: scaleX(0.886353);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 185px; top: 515.546px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.886353);"
                role="presentation" dir="ltr">oradata/</span></span></span>rman_ts.dbf<br>
        </span></span></span><span class="markedContent"
      id="page885R_mcid0"><span class="markedContent"
        id="page885R_mcid0"><span style="left: 185px; top: 515.546px;
          font-size: 17.5px; font-family: serif; transform:
          scaleX(0.886353);" role="presentation" dir="ltr"><br>
          (注:<br>
          创建好的表空间可以用: <br>
          &nbsp;</span></span></span><span class="markedContent"
      id="page885R_mcid0"><span class="markedContent"
        id="page885R_mcid0"><span style="left: 185px; top: 515.546px;
          font-size: 17.5px; font-family: serif; transform:
          scaleX(0.886353);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 702.2px; top: 515.546px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.999288);"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 185px; top: 515.546px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(0.886353);" role="presentation" dir="ltr"><span
                        class="markedContent" id="page885R_mcid0"><span
                          class="markedContent" id="page885R_mcid0"><span
                            style="left: 380.699px; top: 463.546px;
                            font-size: 17.5px; font-family: serif;
                            transform: scaleX(0.99943);"
                            role="presentation" dir="ltr"><span
                              class="markedContent" id="page885R_mcid0"><span
                                class="markedContent"
                                id="page885R_mcid0"><span style="left:
                                  184.298px; top: 333.548px; font-size:
                                  17.5px; font-family: serif; transform:
                                  scaleX(0.879664);" role="presentation"
                                  dir="ltr">SQL&gt;</span></span></span></span></span></span></span></span></span></span></span></span>drop







tablespace



        </span></span></span><span class="markedContent"
      id="page885R_mcid0"><span class="markedContent"
        id="page885R_mcid0"><span style="left: 185px; top: 515.546px;
          font-size: 17.5px; font-family: serif; transform:
          scaleX(0.886353);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 185px; top: 515.546px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.886353);"
                role="presentation" dir="ltr">rman_ts</span></span></span>来
          删除</span></span></span><br>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          185px; top: 515.546px; font-size: 17.5px; font-family: serif;
          transform: scaleX(0.886353);" role="presentation" dir="ltr"><span
            style="color:#3333ff; background-color:rgb(255,255,255)">或
            用&nbsp;&nbsp;&nbsp; </span></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          185px; top: 515.546px; font-size: 17.5px; font-family: serif;
          transform: scaleX(0.886353);" role="presentation" dir="ltr"><span
            style="color:#3333ff; background-color:rgb(255,255,255)"><span
              class="markedContent" id="page885R_mcid0"><span
                class="markedContent" id="page885R_mcid0"><span
                  style="left: 702.2px; top: 515.546px; font-size:
                  17.5px; font-family: serif; transform:
                  scaleX(0.999288);" role="presentation" dir="ltr"><span
                    class="markedContent" id="page885R_mcid0"><span
                      class="markedContent" id="page885R_mcid0"><span
                        style="left: 185px; top: 515.546px; font-size:
                        17.5px; font-family: serif; transform:
                        scaleX(0.886353);" role="presentation" dir="ltr"><span
                          class="markedContent" id="page885R_mcid0"><span
                            class="markedContent" id="page885R_mcid0"><span
                              style="left: 380.699px; top: 463.546px;
                              font-size: 17.5px; font-family: serif;
                              transform: scaleX(0.99943);"
                              role="presentation" dir="ltr"><span
                                class="markedContent"
                                id="page885R_mcid0"><span
                                  class="markedContent"
                                  id="page885R_mcid0"><span style="left:
                                    184.298px; top: 333.548px;
                                    font-size: 17.5px; font-family:
                                    serif; transform: scaleX(0.879664);"
                                    role="presentation" dir="ltr"><br>
                                    SQL&gt;</span></span></span></span></span></span></span></span></span></span></span></span>drop








tablespace



          </span></span></span></span><span class="markedContent"
      id="page885R_mcid0"><span class="markedContent"
        id="page885R_mcid0"><span style="left: 185px; top: 515.546px;
          font-size: 17.5px; font-family: serif; transform:
          scaleX(0.886353);" role="presentation" dir="ltr"><span
            style="color:#3333ff; background-color:rgb(255,255,255)"><span
              class="markedContent" id="page885R_mcid0"><span
                class="markedContent" id="page885R_mcid0"><span
                  style="left: 185px; top: 515.546px; font-size: 17.5px;
                  font-family: serif; transform: scaleX(0.886353);"
                  role="presentation" dir="ltr"></span></span></span><span
              class="markedContent" id="page885R_mcid0"><span
                class="markedContent" id="page885R_mcid0"><span
                  style="left: 185px; top: 515.546px; font-size: 17.5px;
                  font-family: serif; transform: scaleX(0.886353);"
                  role="presentation" dir="ltr"><span
                    class="markedContent" id="page885R_mcid0"><span
                      class="markedContent" id="page885R_mcid0"><span
                        style="left: 185px; top: 515.546px; font-size:
                        17.5px; font-family: serif; transform:
                        scaleX(0.886353);" role="presentation" dir="ltr">rman_ts</span></span></span></span></span></span>
            including contents and datafiles;&nbsp;&nbsp;&nbsp;
            //完整删除表空间<br>
            <b><font color="#ff0000"><br>
                特别的是: 如果不小心直接删除了表空间文件</font></b>： </span></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          185px; top: 515.546px; font-size: 17.5px; font-family: serif;
          transform: scaleX(0.886353);" role="presentation" dir="ltr"><span
            style="color:#3333ff; background-color:rgb(255,255,255)"><span
              class="markedContent" id="page885R_mcid0"><span
                class="markedContent" id="page885R_mcid0"><span
                  style="left: 185px; top: 515.546px; font-size: 17.5px;
                  font-family: serif; transform: scaleX(0.886353);"
                  role="presentation" dir="ltr"><span
                    style="color:#3333ff;
                    background-color:rgb(255,255,255)">/opt/app/oracle/</span></span></span></span></span></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          185px; top: 515.546px; font-size: 17.5px; font-family: serif;
          transform: scaleX(0.886353);" role="presentation" dir="ltr"><span
            style="color:#3333ff; background-color:rgb(255,255,255)"><span
              class="markedContent" id="page885R_mcid0"><span
                class="markedContent" id="page885R_mcid0"><span
                  style="left: 185px; top: 515.546px; font-size: 17.5px;
                  font-family: serif; transform: scaleX(0.886353);"
                  role="presentation" dir="ltr"><span
                    style="color:#3333ff;
                    background-color:rgb(255,255,255)"><span
                      class="markedContent" id="page885R_mcid0"><span
                        class="markedContent" id="page885R_mcid0"><span
                          style="left: 185px; top: 515.546px; font-size:
                          17.5px; font-family: serif; transform:
                          scaleX(0.886353);" role="presentation"
                          dir="ltr"><span class="markedContent"
                            id="page885R_mcid0"><span
                              class="markedContent" id="page885R_mcid0"><span
                                style="left: 185px; top: 515.546px;
                                font-size: 17.5px; font-family: serif;
                                transform: scaleX(0.886353);"
                                role="presentation" dir="ltr">oradata/</span></span></span></span></span></span>rman_ts.dbf



                    （</span></span></span></span></span></span></span></span>比
    如用右键： 永久删除<span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          185px; top: 515.546px; font-size: 17.5px; font-family: serif;
          transform: scaleX(0.886353);" role="presentation" dir="ltr"><span
            style="color:#3333ff; background-color:rgb(255,255,255)"><span
              class="markedContent" id="page885R_mcid0"><span
                class="markedContent" id="page885R_mcid0"><span
                  style="left: 185px; top: 515.546px; font-size: 17.5px;
                  font-family: serif; transform: scaleX(0.886353);"
                  role="presentation" dir="ltr"><span
                    style="color:#3333ff;
                    background-color:rgb(255,255,255)">）<br>
                    这时如果想再次创建同名的表空间会报错!<br>
                  </span></span></span></span>SQL&gt; alter database
            datafile '/opt/app/oracle/rman_ts.dbf' offline drop;<br>
            数据库已更改。<br>
            <br>
            SQL&gt; drop tablespace rman_ts including contents;<br>
            表空间已删除。</span>)<br>
        </span></span></span>&nbsp;<span class="markedContent"
      id="page885R_mcid0"><span class="markedContent"
        id="page885R_mcid0"><span style="left: 702.2px; top: 515.546px;
          font-size: 17.5px; font-family: serif; transform:
          scaleX(0.999288);" role="presentation" dir="ltr"></span> <span
          style="left: 185px; top: 541.546px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.890772);"
          role="presentation" dir="ltr"></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          185px; top: 541.546px; font-size: 17.5px; font-family: serif;
          transform: scaleX(0.890772);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 185px; top: 515.546px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.886353);"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 380.699px; top: 463.546px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(0.99943);" role="presentation" dir="ltr"><span
                        class="markedContent" id="page885R_mcid0"><span
                          class="markedContent" id="page885R_mcid0"><span
                            style="left: 184.298px; top: 333.548px;
                            font-size: 17.5px; font-family: serif;
                            transform: scaleX(0.879664);"
                            role="presentation" dir="ltr"><br>
                            在linux</span></span></span></span></span></span></span></span></span></span></span></span>下<br>
    SQL&gt; show con_name;<br>
    CON_NAME<br>
    ------------------------------<br>
    CDB$ROOT<br>
    <br>
    SQL&gt; show pdbs;<br>
    &nbsp;&nbsp;&nbsp; CON_ID CON_NAME&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; OPEN MODE&nbsp;
    RESTRICTED<br>
    ---------- ------------------------------ ---------- ----------<br>
    &nbsp;&nbsp;&nbsp; &nbsp;2 PDB$SEED&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; READ ONLY&nbsp; NO<br>
    &nbsp;&nbsp;&nbsp; &nbsp;3 PDBDRUG&nbsp;&nbsp;&nbsp;
    &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;
    MOUNTED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    (linux下是这样)<br>
    SQL&gt; create user c##rman identified by wtsgyh1972 default
    tablespace rman_ts temporary tablespace temp;<br>
    用户已创建。&nbsp; （linux下Oracle 19.3可以成功创建c##rman）<br>
    <br>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          185px; top: 541.546px; font-size: 17.5px; font-family: serif;
          transform: scaleX(0.890772);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 185px; top: 515.546px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.886353);"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 380.699px; top: 463.546px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(0.99943);" role="presentation" dir="ltr"><span
                        class="markedContent" id="page885R_mcid0"><span
                          class="markedContent" id="page885R_mcid0"><span
                            style="left: 184.298px; top: 333.548px;
                            font-size: 17.5px; font-family: serif;
                            transform: scaleX(0.879664);"
                            role="presentation" dir="ltr">SQL&gt; </span></span></span></span></span></span></span></span></span>create










user



          c##rman identified by wtsgyh1972 default tablespace</span><span
          style="left: 572.842px; top: 541.546px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 590.377px; top: 541.546px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.893707);"
          role="presentation" dir="ltr">rman_ts temporary tablespace
          temp;&nbsp;&nbsp; </span><span style="left: 150px; top:
          567.545px; font-size: 17.5px; font-family: serif; transform:
          scaleX(0.536731);" role="presentation" dir="ltr">//</span><span
          style="left: 159.8px; top: 567.545px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">创建</span><span style="left: 194.8px; top: 567.545px;
          font-size: 17.5px; font-family: serif;" role="presentation"
          dir="ltr"> </span><span style="left: 199.2px; top: 567.545px;
          font-size: 17.5px; font-family: serif; transform:
          scaleX(1.12749);" role="presentation" dir="ltr">RMAN</span><span
          style="left: 251.628px; top: 567.545px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 255.999px; top: 567.545px; font-size: 17.5px;
          font-family: serif; transform: scaleX(1);" role="presentation"
          dir="ltr">用户<br>
        </span></span></span><br>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          255.999px; top: 567.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 590.377px; top: 541.546px; font-size:
                17.5px; font-family: serif; transform:
                scaleX(0.893707);" role="presentation" dir="ltr">
                //windows</span></span></span></span></span></span>下可的
    oracle 12.2可能得这样:<span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          255.999px; top: 567.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 590.377px; top: 541.546px; font-size:
                17.5px; font-family: serif; transform:
                scaleX(0.893707);" role="presentation" dir="ltr"></span></span></span></span></span></span><br>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          255.999px; top: 567.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 185px; top: 541.546px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.890772);"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 185px; top: 541.546px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(0.890772);" role="presentation" dir="ltr"><span
                        class="markedContent" id="page885R_mcid0"><span
                          class="markedContent" id="page885R_mcid0"><span
                            style="left: 185px; top: 541.546px;
                            font-size: 17.5px; font-family: serif;
                            transform: scaleX(0.890772);"
                            role="presentation" dir="ltr"><span
                              class="markedContent" id="page885R_mcid0"><span
                                class="markedContent"
                                id="page885R_mcid0"><span style="left:
                                  185px; top: 515.546px; font-size:
                                  17.5px; font-family: serif; transform:
                                  scaleX(0.886353);" role="presentation"
                                  dir="ltr"><span class="markedContent"
                                    id="page885R_mcid0"><span
                                      class="markedContent"
                                      id="page885R_mcid0"><span
                                        style="left: 380.699px; top:
                                        463.546px; font-size: 17.5px;
                                        font-family: serif; transform:
                                        scaleX(0.99943);"
                                        role="presentation" dir="ltr"><span
                                          class="markedContent"
                                          id="page885R_mcid0"><span
                                            class="markedContent"
                                            id="page885R_mcid0"><span
                                              style="left: 184.298px;
                                              top: 333.548px; font-size:
                                              17.5px; font-family:
                                              serif; transform:
                                              scaleX(0.879664);"
                                              role="presentation"
                                              dir="ltr">SQL&gt;</span></span></span></span></span></span></span></span></span></span></span></span>create










user



                      c##rman identified by wtsgyh1972</span></span></span></span><span
                style="left: 590.377px; top: 541.546px; font-size:
                17.5px; font-family: serif; transform:
                scaleX(0.893707);" role="presentation" dir="ltr">;&nbsp;&nbsp;



              </span></span></span></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          255.999px; top: 567.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 590.377px; top: 541.546px; font-size:
                17.5px; font-family: serif; transform:
                scaleX(0.893707);" role="presentation" dir="ltr"><br>
              </span></span></span></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          185px; top: 541.546px; font-size: 17.5px; font-family: serif;
          transform: scaleX(0.890772);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 185px; top: 515.546px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.886353);"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 380.699px; top: 463.546px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(0.99943);" role="presentation" dir="ltr"><span
                        class="markedContent" id="page885R_mcid0"><span
                          class="markedContent" id="page885R_mcid0"><span
                            style="left: 184.298px; top: 333.548px;
                            font-size: 17.5px; font-family: serif;
                            transform: scaleX(0.879664);"
                            role="presentation" dir="ltr">SQL&gt;</span></span></span></span></span></span></span></span></span></span></span></span>alter<span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          255.999px; top: 567.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 590.377px; top: 541.546px; font-size:
                17.5px; font-family: serif; transform:
                scaleX(0.893707);" role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 185px; top: 541.546px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(0.890772);" role="presentation" dir="ltr">
                      user c##rman identified by wtsgyh1972 default
                      tablespace</span><span style="left: 572.842px;
                      top: 541.546px; font-size: 17.5px; font-family:
                      serif;" role="presentation" dir="ltr"> </span><span
                      style="left: 590.377px; top: 541.546px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(0.893707);" role="presentation" dir="ltr">rman_ts







temporary



                      tablespace temp; //OK!!!!!!</span></span></span></span></span></span><b><i>
              <br>
              如果出现错误报告:</i></b><b><i><br>
            </i></b><b><i>SQL 错误: ORA-65048: 在可插入数据库 PDBDRUGDB 中处理当前 DDL
              语句时出错</i></b><b><i><br>
            </i></b><b><i>ORA-00959: 表空间 'RMAN_TS' 不存在<br>
              <br>
              在CDB中创建普通用户时，如果在CREATE
              USER语句中指定了任何默认表空间、临时表空间、Quota或者Profile，则它们必须同时存在于所有从属于该CDB
              的PDB中。<br>
              这里可以看看:<br>
              SQL&gt; show con_name<br>
              CON_NAME<br>
              ------------------------------<br>
              CDB$ROOT<br>
              SQL&gt; show pdbs<br>
              &nbsp;&nbsp;&nbsp; CON_ID CON_NAME&nbsp;&nbsp; OPEN
              MODE&nbsp; RESTRICTED<br>
              ---------- ------------------------------ ----------
              ----------<br>
              &nbsp;&nbsp;&nbsp; 2 PDB$SEED&nbsp;&nbsp;&nbsp;&nbsp; READ
              ONLY&nbsp;&nbsp; NO<br>
              &nbsp;&nbsp;&nbsp; 3 PDBDRUGDB&nbsp;&nbsp;&nbsp; READ
              WRITE&nbsp; NO&nbsp; (</i></b></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          255.999px; top: 567.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr"><b><i><span
                class="markedContent" id="page885R_mcid0"><span
                  class="markedContent" id="page885R_mcid0"><span
                    style="left: 201.798px; top: 437.547px; font-size:
                    17.5px; font-family: serif; transform:
                    scaleX(0.901059);" role="presentation" dir="ltr"><span
                      class="markedContent" id="page885R_mcid0"><span
                        class="markedContent" id="page885R_mcid0"><span
                          style="left: 236.798px; top: 411.547px;
                          font-size: 17.5px; font-family: serif;"
                          role="presentation" dir="ltr">Windows下是这样</span></span></span></span></span></span></i></b></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          255.999px; top: 567.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr"><b><i><span
                class="markedContent" id="page885R_mcid0"><span
                  class="markedContent" id="page885R_mcid0"><span
                    style="left: 335.862px; top: 489.546px; font-size:
                    17.5px; font-family: serif;" role="presentation"
                    dir="ltr"></span></span></span>)<br>
              <br>
              SQL&gt; alter session set container=PDBDRUGDB;<br>
              会话已更改。<br>
              <br>
              SQL&gt; show pdbs<br>
              &nbsp;&nbsp; CON_ID CON_NAME&nbsp;&nbsp;&nbsp;&nbsp; OPEN
              MODE&nbsp; RESTRICTED<br>
              ---------- ------------------------------ ----------
              ----------<br>
              &nbsp;&nbsp;&nbsp; 3
              PDBDRUGDB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; READ WRITE
              NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //看看现在是不是只有这个了???<br>
              <br>
            </i></b><br role="presentation">
        </span> <span style="left: 184.3px; top: 593.545px; font-size:
          17.5px; font-family: serif; transform: scaleX(0.904823);"
          role="presentation" dir="ltr"></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          184.3px; top: 593.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.904823);" role="presentation"
          dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 185px; top: 541.546px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.890772);"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 185px; top: 515.546px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(0.886353);" role="presentation" dir="ltr"><span
                        class="markedContent" id="page885R_mcid0"><span
                          class="markedContent" id="page885R_mcid0"><span
                            style="left: 380.699px; top: 463.546px;
                            font-size: 17.5px; font-family: serif;
                            transform: scaleX(0.99943);"
                            role="presentation" dir="ltr"><span
                              class="markedContent" id="page885R_mcid0"><span
                                class="markedContent"
                                id="page885R_mcid0"><span style="left:
                                  184.298px; top: 333.548px; font-size:
                                  17.5px; font-family: serif; transform:
                                  scaleX(0.879664);" role="presentation"
                                  dir="ltr">SQL&gt; </span></span></span></span></span></span></span></span></span></span></span></span>grant











connect,



          recovery_catalog_owner, resource to </span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          184.3px; top: 593.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.904823);" role="presentation"
          dir="ltr">c##rman;&nbsp;</span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          184.3px; top: 593.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.904823);" role="presentation"
          dir="ltr">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          //</span><span style="left: 605.401px; top: 593.545px;
          font-size: 17.5px; font-family: serif;" role="presentation"
          dir="ltr">对</span><span style="left: 622.901px; top:
          593.545px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> c##</span><span style="left:
          631.702px; top: 593.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.921988);" role="presentation"
          dir="ltr">rman</span><span style="left: 667.459px; top:
          593.545px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"> </span><span style="left:
          671.901px; top: 593.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr">授权<br>
          授权成功。<br>
          SQL&gt; commit;<br>
          提交完成。<br>
        </span></span></span><span class="markedContent"
      id="page885R_mcid0"><span class="markedContent"
        id="page885R_mcid0"><span style="left: 671.901px; top:
          593.545px; font-size: 17.5px; font-family: serif; transform:
          scaleX(1);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 223.7px; top: 645.545px; font-size: 17.5px;
                font-family: serif; transform: scaleX(1.12847);"
                role="presentation" dir="ltr"><br>
              </span></span></span></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          223.7px; top: 645.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1.12847);" role="presentation"
          dir="ltr">SQL&gt; grant unlimited tablespace to c##rman;<br>
          授权成功。</span></span></span><br>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          671.901px; top: 593.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 223.7px; top: 645.545px; font-size: 17.5px;
                font-family: serif; transform: scaleX(1.12847);"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 671.901px; top: 593.545px; font-size:
                      17.5px; font-family: serif; transform: scaleX(1);"
                      role="presentation" dir="ltr">SQL&gt; commit;<br>
                    </span></span></span></span></span></span>&nbsp;<br>
          SQL&gt; conn c##rman/wtsgyh1972</span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          671.901px; top: 593.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 185px; top: 541.546px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.890772);"
                role="presentation" dir="ltr"></span></span></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          //测试一下, 用</span></span></span><span class="markedContent"
      id="page885R_mcid0"><span class="markedContent"
        id="page885R_mcid0"><span style="left: 671.901px; top:
          593.545px; font-size: 17.5px; font-family: serif; transform:
          scaleX(1);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 671.901px; top: 593.545px; font-size:
                17.5px; font-family: serif; transform: scaleX(1);"
                role="presentation" dir="ltr">c##rman</span></span></span>连
          接<br>
          已连接。<br>
          SQL&gt; show user<br>
          USER 为 "C##RMAN"<br>
          <br role="presentation">
        </span>RMAN配置: 配置一个监听&nbsp;&nbsp; rman target / catalog
        rman/rman<br>
/opt/app/oracle/product/19.3.000/db_home/network/admin/listener.ora<br>
        RMAN =<br>
        &nbsp; (DESCRIPTION_LIST =<br>
        &nbsp;&nbsp;&nbsp; (DESCRIPTION =<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (ADDRESS_LIST =<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (ADDRESS = (PROTOCOL
        = TCP)(HOST = localhost)(PORT = 1521))<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (ADDRESS = (PROTOCOL
        = IPC)(KEY = EXTPROC1521))<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; )<br>
        &nbsp;&nbsp;&nbsp; )<br>
        &nbsp; )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="left:
          184.3px; top: 619.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.872083);" role="presentation"
          dir="ltr"><br>
        </span></span></span>
    <h3><span class="markedContent" id="page885R_mcid0"><span
          class="markedContent" id="page885R_mcid0"><span style="left:
            184.3px; top: 619.545px; font-size: 17.5px; font-family:
            serif; transform: scaleX(0.872083);" role="presentation"
            dir="ltr"> </span></span></span><span class="markedContent"
        id="page885R_mcid0"><span class="markedContent"
          id="page885R_mcid0"><span style="left: 184.3px; top:
            619.545px; font-size: 17.5px; font-family: serif; transform:
            scaleX(0.872083);" role="presentation" dir="ltr">打开另一个命令行终端:
            使用 rman连接, </span><span style="left: 415.4px; top:
            619.545px; font-size: 17.5px; font-family: serif; transform:
            scaleX(0.999562);" role="presentation" dir="ltr">并在目录数据库中创建恢
            复目 录</span></span></span></h3>
    <h3>RMAN 连接方法</h3>
    <p>1）本地连接<br>
      RMAN工具和target database在同一台服务器<br>
      $ rman target /<br>
      恢复管理器: Release 19.0.0.0.0 - Production on 星期日 11月 5 20:09:41 2023<br>
      Version 19.3.0.0.0<br>
      Copyright (c) 1982, 2019, Oracle and/or its affiliates.&nbsp; All
      rights reserved.<br>
      已连接到目标数据库: DRUGDB (DBID=2324541357)<br>
      2）远程连接<br>
      RMAN客户端通过ORACLE_NET连接target database 在target database
      启动监听，在client配置tnsnames.ora。<br>
      $ tnsping drugdb<br>
      $ rman target sys/wtsgyh1972@drugdb&nbsp;&nbsp; //通过本地服务名连接<br>
      恢复管理器: Release 19.0.0.0.0 - Production on 星期日 11月 5 20:10:46 2023<br>
      Version 19.3.0.0.0<br>
      Copyright (c) 1982, 2019, Oracle and/or its affiliates.&nbsp; All
      rights reserved.<br>
      已连接到目标数据库: DRUGDB (DBID=2324541357)<br>
    </p>
    <h3><span class="markedContent" id="page885R_mcid0"><span
          class="markedContent" id="page885R_mcid0"></span></span></h3>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"> </span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          223.7px; top: 645.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1.12847);" role="presentation"
          dir="ltr">**********************<br>
          $ rman target / catalog c##rman/wtsgyh1972&nbsp; //like this<br>
        </span></span></span>也可以如下面所示的命令:<br>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          223.7px; top: 645.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1.12847);" role="presentation"
          dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 184.3px; top: 697.544px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.88625);"
                role="presentation" dir="ltr">#rman target sys/</span></span></span><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 184.3px; top: 697.544px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.88625);"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 184.3px; top: 645.545px; font-size:
                      17.5px; font-family: serif; transform: scaleX(1);"
                      role="presentation" dir="ltr">wtsgyh1972</span></span></span>
                catalog c##rman/</span></span></span><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 184.3px; top: 697.544px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.88625);"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 184.3px; top: 645.545px; font-size:
                      17.5px; font-family: serif; transform: scaleX(1);"
                      role="presentation" dir="ltr">wtsgyh1972 &nbsp;
                      &nbsp; &nbsp;</span></span></span></span><span
                style="left: 493.144px; top: 697.544px; font-size:
                17.5px; font-family: serif;" role="presentation"
                dir="ltr"> </span><span style="left: 528.166px; top:
                697.544px; font-size: 17.5px; font-family: serif;
                transform: scaleX(0.53125);" role="presentation"
                dir="ltr">//OK on linux, </span><span style="left:
                537.8px; top: 696.768px; font-size: 18.4952px;
                font-family: serif; transform: scaleX(0.945176);"
                role="presentation" dir="ltr">同时连接目标数据库target</span></span></span></span></span></span>和catalog.<span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          223.7px; top: 645.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1.12847);" role="presentation"
          dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 537.8px; top: 696.768px; font-size:
                18.4952px; font-family: serif; transform:
                scaleX(0.945176);" role="presentation" dir="ltr"> <br>
                //////////////#rman target sys/wtsgyh1972@drugdb catalog
                c##rman/wtsgyh1972@drugdb&nbsp;&nbsp; //also ok on
                linux!wts<br>
                ///////////////#</span></span></span></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          223.7px; top: 645.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1.12847);" role="presentation"
          dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 537.8px; top: 696.768px; font-size:
                18.4952px; font-family: serif; transform:
                scaleX(0.945176);" role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 184.3px; top: 645.545px; font-size:
                      17.5px; font-family: serif; transform: scaleX(1);"
                      role="presentation" dir="ltr"><i>rman catalog
                        c##rman/wtsgyh1972</i></span></span></span></span></span></span><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 537.8px; top: 696.768px; font-size:
                18.4952px; font-family: serif; transform:
                scaleX(0.945176);" role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 184.3px; top: 697.544px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(0.88625);" role="presentation" dir="ltr"><span
                        class="markedContent" id="page885R_mcid0"><span
                          class="markedContent" id="page885R_mcid0"><span
                            style="left: 184.3px; top: 645.545px;
                            font-size: 17.5px; font-family: serif;
                            transform: scaleX(1);" role="presentation"
                            dir="ltr"></span></span></span></span></span></span></span></span></span>
          <br>
          恢复管理器: Release 19.0.0.0.0 - Production on 星期日 11月 5 03:22:40
          2023<br>
          Version 19.3.0.0.0<br>
          <br>
          Copyright (c) 1982, 2019, Oracle and/or its affiliates.&nbsp;
          All rights reserved.<br>
          <br>
          已连接到目标数据库: DRUGDB (DBID=2324541357)<br>
          连接到恢复目录数据库<br>
          //如果出: 未安装恢复目录,可能有问题!!!!! 表示没有: </span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          184.3px; top: 645.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr">RMAN&gt;</span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          223.7px; top: 645.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1.12847);" role="presentation"
          dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 184.3px; top: 671.544px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.89274);"
                role="presentation" dir="ltr">create catalog tablespace</span><span
                style="left: 425.459px; top: 671.544px; font-size:
                17.5px; font-family: serif;" role="presentation"
                dir="ltr"> </span><span style="left: 442.994px; top:
                671.544px; font-size: 17.5px; font-family: serif;
                transform: scaleX(0.904693);" role="presentation"
                dir="ltr"></span></span></span><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 442.994px; top: 671.544px; font-size:
                17.5px; font-family: serif; transform:
                scaleX(0.904693);" role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 702.2px; top: 515.546px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(0.999288);" role="presentation" dir="ltr">rman_ts</span></span></span></span></span></span>
        </span></span></span><br>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          223.7px; top: 645.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1.12847);" role="presentation"
          dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 184.3px; top: 645.545px; font-size: 17.5px;
                font-family: serif; transform: scaleX(1);"
                role="presentation" dir="ltr">RMAN&gt;&nbsp;&nbsp;&nbsp;&nbsp;



                //这时候会显示提示符</span></span></span><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 184.3px; top: 645.545px; font-size: 17.5px;
                font-family: serif; transform: scaleX(1);"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 184.3px; top: 645.545px; font-size:
                      17.5px; font-family: serif; transform: scaleX(1);"
                      role="presentation" dir="ltr">RMAN&gt;</span></span></span>，</span></span></span>表
          示<span class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 184.3px; top: 645.545px; font-size: 17.5px;
                font-family: serif; transform: scaleX(1);"
                role="presentation" dir="ltr">启动</span><span
                style="left: 219.3px; top: 645.545px; font-size: 17.5px;
                font-family: serif;" role="presentation" dir="ltr"> </span><span
                style="left: 223.7px; top: 645.545px; font-size: 17.5px;
                font-family: serif; transform: scaleX(1.12847);"
                role="presentation" dir="ltr">RMAN</span></span></span>
          <br>
          <br>
          RMAN 命令格式练习：<br>
          交互式，即stand alone式命令：<br>
          RMAN&gt; shutdown immediate;<br>
          RMAN&gt;startup force mount;<br>
          RMAN&gt; alter database open;<br>
          RMAN&gt;sql 'alter system switch logfile';<br>
          RMAN&gt;sql 'select * from c##scott.emp';&nbsp;&nbsp; //<br>
          批处理方式：即job方式<br>
          RMAN&gt;run{<br>
          shutdown immediate;<br>
          startup mount;<br>
          allocate channel c1 type disk;<br>
          allocate channel c2 type disk;<br>
          backup database format '/opt/app/%d_%s.bak';<br>
          alter database open;<br>
          release channel c1;<br>
          release channel c2;<br>
          }<br>
          <br>
          即于EM方式：WEB方式<br>
          <br>
          ************************************************************<br>
          <br role="presentation">
        </span> </span></span><span class="markedContent"
      id="page885R_mcid0"><span class="markedContent"
        id="page885R_mcid0"><span style="left: 184.3px; top: 645.545px;
          font-size: 17.5px; font-family: serif; transform: scaleX(1);"
          role="presentation" dir="ltr">RMAN&gt;</span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          184.3px; top: 671.544px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.89274);" role="presentation"
          dir="ltr">create catalog tablespace</span><span style="left:
          425.459px; top: 671.544px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 442.994px; top: 671.544px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.904693);"
          role="presentation" dir="ltr"></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          442.994px; top: 671.544px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.904693);" role="presentation"
          dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 702.2px; top: 515.546px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.999288);"
                role="presentation" dir="ltr">rman_ts</span></span></span></span><span
          style="left: 499.3px; top: 671.544px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr">&nbsp;&nbsp;&nbsp;



        </span><span style="left: 516.8px; top: 671.544px; font-size:
          17.5px; font-family: serif; transform: scaleX(0.536731);"
          role="presentation" dir="ltr">//</span><span style="left:
          526.6px; top: 671.544px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr">使用</span><span
          style="left: 561.6px; top: 671.544px; font-size: 17.5px;
          font-family: serif;" role="presentation" dir="ltr"> </span><span
          style="left: 566px; top: 671.544px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.905087);"
          role="presentation" dir="ltr">rman_ts</span><span style="left:
          622.311px; top: 671.544px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 626.7px; top: 671.544px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.99943);"
          role="presentation" dir="ltr">表空间创建恢复目录。&nbsp; 把刚刚的表空间创建进来<br>
          恢复目录已创建&nbsp; (OKKKKKK!)<br>
        </span></span></span><span class="markedContent"
      id="page885R_mcid0"><span class="markedContent"
        id="page885R_mcid0"><span style="left: 626.7px; top: 671.544px;
          font-size: 17.5px; font-family: serif; transform:
          scaleX(0.99943);" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 184.3px; top: 671.544px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.89274);"
                role="presentation" dir="ltr"></span><span style="left:
                425.459px; top: 671.544px; font-size: 17.5px;
                font-family: serif;" role="presentation" dir="ltr"></span></span></span><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 442.994px; top: 671.544px; font-size:
                17.5px; font-family: serif; transform:
                scaleX(0.904693);" role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 702.2px; top: 515.546px; font-size:
                      17.5px; font-family: serif; transform:
                      scaleX(0.999288);" role="presentation" dir="ltr"></span></span></span></span></span></span></span><span
          style="left: 184.3px; top: 697.544px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.88625);"
          role="presentation" dir="ltr"></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          537.8px; top: 696.768px; font-size: 18.4952px; font-family:
          serif; transform: scaleX(0.945176);" role="presentation"
          dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 184.3px; top: 697.544px; font-size: 17.5px;
                font-family: serif; transform: scaleX(0.88625);"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 184.3px; top: 645.545px; font-size:
                      17.5px; font-family: serif; transform: scaleX(1);"
                      role="presentation" dir="ltr"></span></span></span></span></span></span></span><br
          role="presentation">
      </span></span><span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          184.3px; top: 645.545px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr">RMAN&gt;</span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          184.3px; top: 723.549px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.877065);" role="presentation"
          dir="ltr">register
          database;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          //store control file to dest</span><span style="left:
          549.992px; top: 723.549px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> </span><span
          style="left: 567.531px; top: 723.549px; font-size: 17.5px;
          font-family: serif; transform: scaleX(0.535962);"
          role="presentation" dir="ltr">//</span><span style="left:
          577.2px; top: 722.768px; font-size: 18.4952px; font-family:
          serif; transform: scaleX(0.945946);" role="presentation"
          dir="ltr">注册数据库<br>
          注册在恢复目录中的数据库<br>
          正在启动恢复目录的全部重新同步<br>
          完成全部重新同步&nbsp;&nbsp; (OKKKKK)<br>
        </span><span style="left: 184.301px; top: 749.549px; font-size:
          17.5px; font-family: serif; transform: scaleX(0.952558);"
          role="presentation" dir="ltr"><br>
          <br>
        </span></span></span>
    <h3><span class="markedContent" id="page885R_mcid0"><span
          class="markedContent" id="page885R_mcid0"><span style="left:
            184.301px; top: 749.549px; font-size: 17.5px; font-family:
            serif; transform: scaleX(0.952558);" role="presentation"
            dir="ltr"> 11. 正式练习RMAN备份操作：</span></span></span></h3>
    <h3><span class="markedContent" id="page885R_mcid0"><span
          class="markedContent" id="page885R_mcid0"><span style="left:
            184.301px; top: 749.549px; font-size: 17.5px; font-family:
            serif; transform: scaleX(0.952558);" role="presentation"
            dir="ltr"></span></span></span></h3>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          184.301px; top: 749.549px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.952558);" role="presentation"
          dir="ltr"> </span></span></span><span class="markedContent"
      id="page885R_mcid0"><span class="markedContent"
        id="page885R_mcid0"><span style="left: 184.301px; top:
          749.549px; font-size: 17.5px; font-family: serif; transform:
          scaleX(0.952558);" role="presentation" dir="ltr">Run</span></span></span>命
    令行简介：<br>
    RMAN备份需要用RUN，<span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          184.301px; top: 749.549px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.952558);" role="presentation"
          dir="ltr">单行命令是不够的。要把几个 命令链接起来，必须把它们组合到一个块中, 块用RUN作为前缀，并括在{}中。<br>
          一个打开的完成备份，包括归档日志文件的备份呵呵删除，示例</span></span></span><br>
    <br>
    <h3><span class="markedContent" id="page885R_mcid0"><span
          class="markedContent" id="page885R_mcid0"><span style="left:
            184.301px; top: 749.549px; font-size: 17.5px; font-family:
            serif; transform: scaleX(0.952558);" role="presentation"
            dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
                class="markedContent" id="page885R_mcid0"><span
                  style="left: 254.402px; top: 853.548px; font-size:
                  17.5px; font-family: serif;" role="presentation"
                  dir="ltr"><span class="markedContent"
                    id="page885R_mcid0"><span class="markedContent"
                      id="page885R_mcid0"><span style="left: 184.301px;
                        top: 749.549px; font-size: 17.5px; font-family:
                        serif; transform: scaleX(0.952558);"
                        role="presentation" dir="ltr"><span
                          class="markedContent" id="page885R_mcid0"><span
                            class="markedContent" id="page885R_mcid0"><span
                              style="left: 254.402px; top: 853.548px;
                              font-size: 17.5px; font-family: serif;"
                              role="presentation" dir="ltr">RMAN备份练习</span></span></span></span></span></span>一：</span></span></span></span></span></span></h3>
    <h3><span class="markedContent" id="page885R_mcid0"><span
          class="markedContent" id="page885R_mcid0"><span style="left:
            184.301px; top: 749.549px; font-size: 17.5px; font-family:
            serif; transform: scaleX(0.952558);" role="presentation"
            dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
                class="markedContent" id="page885R_mcid0"><span
                  style="left: 254.402px; top: 853.548px; font-size:
                  17.5px; font-family: serif;" role="presentation"
                  dir="ltr"></span></span></span></span></span></span></h3>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          184.301px; top: 749.549px; font-size: 17.5px; font-family:
          serif; transform: scaleX(0.952558);" role="presentation"
          dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 254.402px; top: 853.548px; font-size:
                17.5px; font-family: serif;" role="presentation"
                dir="ltr">RMAN备份开始:<br>
                在提示符RMAN&gt;后面输入下面的代码:<br>
              </span></span></span> </span><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr">RMAN&gt; Run { <br>
          allocate channel dev1 type disk; <br>
          backup database;&nbsp;&nbsp; //这就是那个备份指令, 这里指备份整个数据库<br>
          release channel dev1; <br>
          }&nbsp;&nbsp; <br>
          //此命令可以在linux和windows下都可以成功运行--&gt; OK!!!!wts<br>
          CENTOS 7.X Oracle Linux 19.3运行结果, <a
            href="lesson8/prac8rman1lin.html">请看这里</a>.<br>
          <br>
          这里是: <a href="lesson8/prac8rman1win.html">windows 7 Oracle
            12.2运行的结果:</a><br>
          <br>
          ********************************第一个RMAN备份结束</span></span></span><br>
    <h3><span class="markedContent" id="page885R_mcid0"><span
          class="markedContent" id="page885R_mcid0"><span style="left:
            184.301px; top: 749.549px; font-size: 17.5px; font-family:
            serif; transform: scaleX(0.952558);" role="presentation"
            dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
                class="markedContent" id="page885R_mcid0"><span
                  style="left: 254.402px; top: 853.548px; font-size:
                  17.5px; font-family: serif;" role="presentation"
                  dir="ltr"><span class="markedContent"
                    id="page885R_mcid0"><span class="markedContent"
                      id="page885R_mcid0"><span style="left: 184.301px;
                        top: 749.549px; font-size: 17.5px; font-family:
                        serif; transform: scaleX(0.952558);"
                        role="presentation" dir="ltr"><span
                          class="markedContent" id="page885R_mcid0"><span
                            class="markedContent" id="page885R_mcid0"><span
                              style="left: 254.402px; top: 853.548px;
                              font-size: 17.5px; font-family: serif;"
                              role="presentation" dir="ltr">RMAN备份练习</span></span></span></span></span></span>二：</span></span></span></span></span></span></h3>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> RMAN&gt; run {<br>
          allocate channel d1 type disk;<br>
          2&gt; allocate channel d2 type disk;<br>
          3&gt; backup as compressed backupset database format
          ‘/home/oracle/db_%U.bset’;<br>
          4&gt; backup as compressed backupset archivelog all format
          ‘/home/oracle/arch_%U.bset’ delete all input;<br>
          }<br>
          <br>
        </span></span></span>
    <h3><span class="markedContent" id="page885R_mcid0"><span
          class="markedContent" id="page885R_mcid0"><span style="left:
            184.301px; top: 749.549px; font-size: 17.5px; font-family:
            serif; transform: scaleX(0.952558);" role="presentation"
            dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
                class="markedContent" id="page885R_mcid0"><span
                  style="left: 254.402px; top: 853.548px; font-size:
                  17.5px; font-family: serif;" role="presentation"
                  dir="ltr"><span class="markedContent"
                    id="page885R_mcid0"><span class="markedContent"
                      id="page885R_mcid0"><span style="left: 184.301px;
                        top: 749.549px; font-size: 17.5px; font-family:
                        serif; transform: scaleX(0.952558);"
                        role="presentation" dir="ltr"><span
                          class="markedContent" id="page885R_mcid0"><span
                            class="markedContent" id="page885R_mcid0"><span
                              style="left: 254.402px; top: 853.548px;
                              font-size: 17.5px; font-family: serif;"
                              role="presentation" dir="ltr">RMAN备份练习</span></span></span></span></span></span>三：</span></span></span></span></span></span></h3>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 254.402px; top: 853.548px; font-size:
                17.5px; font-family: serif;" role="presentation"
                dir="ltr">只备份某个表空间:<br>
                RMAN&gt;run{<br>
                &nbsp;&nbsp; backup tablespace rman_ts;<br>
                }<br>
              </span></span></span></span></span></span><br>
    <h3><span class="markedContent" id="page885R_mcid0"><span
          class="markedContent" id="page885R_mcid0"><span style="left:
            184.301px; top: 749.549px; font-size: 17.5px; font-family:
            serif; transform: scaleX(0.952558);" role="presentation"
            dir="ltr"><span class="markedContent" id="page885R_mcid0"><span
                class="markedContent" id="page885R_mcid0"><span
                  style="left: 254.402px; top: 853.548px; font-size:
                  17.5px; font-family: serif;" role="presentation"
                  dir="ltr"><span class="markedContent"
                    id="page885R_mcid0"><span class="markedContent"
                      id="page885R_mcid0"><span style="left: 184.301px;
                        top: 749.549px; font-size: 17.5px; font-family:
                        serif; transform: scaleX(0.952558);"
                        role="presentation" dir="ltr"><span
                          class="markedContent" id="page885R_mcid0"><span
                            class="markedContent" id="page885R_mcid0"><span
                              style="left: 254.402px; top: 853.548px;
                              font-size: 17.5px; font-family: serif;"
                              role="presentation" dir="ltr">RMAN备份练习四</span></span></span></span></span></span>：</span></span></span></span></span></span></h3>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 254.402px; top: 853.548px; font-size:
                17.5px; font-family: serif;" role="presentation"
                dir="ltr"> </span></span></span></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 254.402px; top: 853.548px; font-size:
                17.5px; font-family: serif;" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page885R_mcid0"><span class="markedContent"
                    id="page885R_mcid0"><span style="left: 254.402px;
                      top: 853.548px; font-size: 17.5px; font-family:
                      serif;" role="presentation" dir="ltr"><span
                        class="markedContent" id="page885R_mcid0"><span
                          class="markedContent" id="page885R_mcid0"><span
                            style="left: 254.402px; top: 853.548px;
                            font-size: 17.5px; font-family: serif;"
                            role="presentation" dir="ltr">只备份某个表空间:<br>
                            RMAN&gt;run{<br>
                            &nbsp;&nbsp; backup tablespace
                            rman_ts;&nbsp;&nbsp; //sure ok!!!<br>
                            }<br>
                            <br>
                            <br>
                          </span></span></span></span></span></span></span></span></span></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 254.402px; top: 853.548px; font-size:
                17.5px; font-family: serif;" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page885R_mcid0"><span class="markedContent"
                    id="page885R_mcid0"><span style="left: 254.402px;
                      top: 853.548px; font-size: 17.5px; font-family:
                      serif;" role="presentation" dir="ltr"><span
                        class="markedContent" id="page885R_mcid0"><span
                          class="markedContent" id="page885R_mcid0"><span
                            style="left: 254.402px; top: 853.548px;
                            font-size: 17.5px; font-family: serif;"
                            role="presentation" dir="ltr"><span
                              class="markedContent" id="page885R_mcid0"><span
                                class="markedContent"
                                id="page885R_mcid0"><span style="left:
                                  254.402px; top: 853.548px; font-size:
                                  17.5px; font-family: serif;"
                                  role="presentation" dir="ltr"><span
                                    class="markedContent"
                                    id="page885R_mcid0"><span
                                      class="markedContent"
                                      id="page885R_mcid0"><span
                                        style="left: 254.402px; top:
                                        853.548px; font-size: 17.5px;
                                        font-family: serif;"
                                        role="presentation" dir="ltr"><span
                                          class="markedContent"
                                          id="page885R_mcid0"><span
                                            class="markedContent"
                                            id="page885R_mcid0"><span
                                              style="left: 254.402px;
                                              top: 853.548px; font-size:
                                              17.5px; font-family:
                                              serif;"
                                              role="presentation"
                                              dir="ltr"><span
                                                class="markedContent"
                                                id="page885R_mcid0"><span
                                                  class="markedContent"
                                                  id="page885R_mcid0"><span
                                                    style="left:
                                                    254.402px; top:
                                                    853.548px;
                                                    font-size: 17.5px;
                                                    font-family: serif;"
                                                    role="presentation"
                                                    dir="ltr">使用RMAN进行增量
                                                    备份, 只备份发生更的数据块:<br>
                                                    RMAN&gt;run{<br>
                                                    &nbsp;&nbsp; backup
                                                    incremental level 1
                                                    database; //ok<br>
                                                    }</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
          <br>
          <br>
          <br>
          复制<br>
          在run块中，前两个命令ALLOCATE
          CHANNEL，分配一个通道，会启动一个服务器进程。每个通道都需要名称（只是一个随意的字符串，本例是d1和d2），必须指定是
          使用磁带还是磁盘作为
          备份目标。启动多个通道，会启用备份的并行性。RMAN会把工作负载分布到通道上。第三行指定完整的数据库备份，使用FORMAT指
          定输出块的名称。第四行指定所有的归档日志文件都应备份和删除。FORMAT规范包含%U。这是一个变量，会扩展为一个名称，该名称
          包含8字符的任意字符串，以确保块运行多次时，总是生成不同的块名。备份的类型是COMPRESSED
          BACKUPSET。压缩通常不仅会减少备份块的大小，还会提高操作的速度。<br>
          <br>
          默认的备份类型是备份集。另一个类型是映像副本。要撞见副本，可以使用如下命令：<br>
          <br>
          BACKUP AS COPY DATAFILE ‘/u01/oradata/orcl/system1.dbf’ FORMAT
          ‘/U02/backup/orcl/system01.dbf’;<br>
          BACKUP AS COPY DATABASE;<br>
          复制<br>
          第一个命令把一个数据文件复制到指定的目标。第二个命令把整个数据库复制到默认的目标，即快速恢复区。<br>
          <br>
          永久RMAN设置<br>
          <br>
          1.设置和清理默认值<br>
          使用SHOW ALL命令查看默认值，即RMAN的环境变量<br>
          RMAN&gt; show all;<br>
          db_unique_name 为 DRUGDB 的数据库的 RMAN 配置参数为:<br>
          CONFIGURE RETENTION POLICY TO REDUNDANCY 1; # default<br>
          CONFIGURE BACKUP OPTIMIZATION OFF; # default<br>
          CONFIGURE DEFAULT DEVICE TYPE TO DISK; # default<br>
          CONFIGURE CONTROLFILE AUTOBACKUP ON; # default<br>
          CONFIGURE CONTROLFILE AUTOBACKUP FORMAT FOR DEVICE TYPE DISK
          TO '%F'; # default<br>
          CONFIGURE DEVICE TYPE DISK PARALLELISM 1 BACKUP TYPE TO
          BACKUPSET; # default<br>
          CONFIGURE DATAFILE BACKUP COPIES FOR DEVICE TYPE DISK TO 1; #
          default<br>
          CONFIGURE ARCHIVELOG BACKUP COPIES FOR DEVICE TYPE DISK TO 1;
          # default<br>
          CONFIGURE MAXSETSIZE TO UNLIMITED; # default<br>
          CONFIGURE ENCRYPTION FOR DATABASE OFF; # default<br>
          CONFIGURE ENCRYPTION ALGORITHM 'AES128'; # default<br>
          CONFIGURE COMPRESSION ALGORITHM 'BASIC' AS OF RELEASE
          'DEFAULT' OPTIMIZE FOR LOAD TRUE ; # default<br>
          CONFIGURE RMAN OUTPUT TO KEEP FOR 7 DAYS; # default<br>
          CONFIGURE ARCHIVELOG DELETION POLICY TO NONE; # default<br>
          CONFIGURE SNAPSHOT CONTROLFILE NAME TO
          '/opt/app/oracle/product/19.3.000/db_home/dbs/snapcf_drugdb.f';
          # default<br>
          <br>
          各参数说明：<br>
          RETENTION POLICY ：&nbsp; 指定RMAN应创建什么备份，合适可以删除它们。默认值是每个文件的一个副本。<br>
          OPTIMIZATION 确定，即使已有足够的备份，RMAN是否仍要根据请求备份文件。默认值是总是备份它们。<br>
          DEFAULT DEVICE TYPE TO DISK 表示除非明确指出，否则RMAN就仅启动磁盘通道，不写入磁带。<br>
          CONTROLFILE AUTOBACKUP OFF 禁止RMAN自动备份控制文件，作为其他备份操作的一部分。<br>
          AUTOBACKUP FORMAT 为控制文件的自动备份生成名称和位置。<br>
          DEVICE TYPE DISK PARALLELISM 1 BACKUP TYPE TO BACKUPSET
          表示，在默认情况下，备份到磁盘时，只启动一个通道，该备份是一个未压缩的备份集。<br>
          BACKUP COPIES 指定在备份数据文件和归档日志文件时，应生成备份集的多少副本。<br>
          MAXSETSIZE 可以限制每个备份集的大小。如果达到了这个数字，就关闭该备份集块，继续备份到一个新的备份集中。<br>
          ENCRYPTION 默认禁用备份集的加密。<br>
          COMPRESSION 如果请求压缩，就使用BASIC算法，它是免费的。<br>
          ARCHIVELOG DELETION POLICY 允许RMAN根据各种条件，自动删除不再需要的归档日志。<br>
          SNAPSHOT CONTROLFILE 为控制文件的临时副本指定名称和位置，这些临时副本创建为控制文件备份机制的一部分。<br>
          <br>
          需求示例：总是可以把数据库还原到前两周的任意时刻；创建达到该目标所需的备份，备份写入磁盘，使用4个通道的并行程度；控制文件必
          须总是包含在任何备份中；备份是压缩过的备份集，存储在c:\db_backups目录中；备份集块根据库名、备份日期和唯一字符串
          来命名；归档日志在备份到磁盘上两次后删除。<br>
          <br>
          要配置这个需求，应运行如下命令：<br>
          configure retention policy to recovery window of 14 days;<br>
          configurebackup optimization on;<br>
          configure controlfile autobackupon;<br>
          configure device typedisk parallelism 4 backup type to
          compressed backupset;<br>
          configure channel device typedisk format
          ‘c:\db_backups%d_%T_%u’;<br>
          configure archivelog deletion policyto backup 2 times to disk;<br>
          <br>
          再使用命令就能满足上述需求：<br>
          <br>
          backup database;<br>
          backup archivelog all delete input;<br>
          <br>
          永久配置设置是为每个目标数据库配置的，存储在RMAN库中，要返回默认值，可以连接目标，执行CLEAR命令：<br>
          <br>
          configure retention policy clear;<br>
          configure backup optimization clear;<br>
          configure controlfile autobackup clear;<br>
          configure device typedisk clear;<br>
          configure channel device typedisk clear;<br>
          configure archivelog deletion policy clear;<br>
          <br>
          2.使用保留策略<br>
          <br>
          使用恢复窗口或冗余，就可以自动保留和管理备份。使用恢复窗口，RMAN会分局需要保留许多备份，知道数据库返回恢复窗口的任意时间
          点位置。例如，在7天的恢复窗口中，RMAN会维护足够多的映像副本、增量备份和归档重做日志，确保数据库可以还原和恢复前7天内的
          任意时间点。如果使用快速恢复区，且新备份需要磁盘空间，则不需要支持这个恢复窗口的任何备份都标记为OBSOLETE，并由
          RMAN自动删除。<br>
          <br>
          相反，冗余策略告诉RMAN保留特定数量的备份。超过冗余策略中的指定的数字的任何额外副本或备份都标记为OBSOLETE。与恢复
          窗口一样，如果需要磁盘空间，使用了快速恢复区，则过时的备份会自动删除。否则，可以使用DELETE
          OBSOLETE命令手工删除备份文件，更新目录。<br>
          <br>
          如果保留策略设置为NONE，任何备份或副本就都不会过时，DBA必须手工删除目录和磁盘中不需要的备份。默认情况下，保留策略是一
          个副本（保留策略设置为1）。使用下面的RMAN命令，可以把保留策略设置为两个副本：<br>
          <br>
          configure retention policy to redundancy 2;<br>
          <br>
          下面的命令把保留策略设置为4天的恢复窗口：<br>
          <br>
          configure retention policy to recovery window of 4 days;<br>
          <br>
          Oracle最佳实践建议，使用恢复窗口，在发现错误之前执行时间点恢复。<br>
          <br>
          当RMAN外部的备份系统把磁盘备份存储到磁带中，并删除了它们时，禁用保留策略是有用的。<br>
          <br>
          configure retention policy to none;<br>
          <br>
          3.格式指定符<br>
          为了生成名称，需要配置永久格式指定符，使用字面量（如目录名）和变量组合。变量如下：<br>
          %d 数据库名<br>
          %e 归档日志序列号<br>
          %f 绝对文件号<br>
          %F 组合数据库标识符（DBID）、日期、月份、年份和序列号，用短横线隔开<br>
          %c 双重备份中多个副本的副本号<br>
          %I DBID<br>
          %N 表空间名，占8个字符<br>
          %t 备份集时间戳<br>
          %p 备份集中的块号<br>
          %s 备份集号<br>
          %u 实际上，是8个随机字符，派生与备份集号和时间<br>
          %U 系统生成的唯一文件名（默认）。对于备份集，它等价于%u_%p_%c；对于数据文件影响副本，它是data-
          D-%d_id-%I_TS-%N_FNO-%f_%u；对于归档日志映像副本，它是arch-
          D-%d_id-%I_S-%e_T-%h_A-%a_%u；对于控制文件映像副本，它是cf-D_%d-id-%I_%u<br>
          **************************************END OF RMAN<br>
          <br>
        </span></span></span>
    <h2><span class="markedContent" id="page885R_mcid0"><span
          class="markedContent" id="page885R_mcid0"><span style="left:
            254.402px; top: 853.548px; font-size: 17.5px; font-family:
            serif;" role="presentation" dir="ltr"> 列出详细备份信息</span></span></span></h2>
    <h2><span class="markedContent" id="page885R_mcid0"><span
          class="markedContent" id="page885R_mcid0"><span style="left:
            254.402px; top: 853.548px; font-size: 17.5px; font-family:
            serif;" role="presentation" dir="ltr"></span></span></span></h2>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr">备份集（Backup
          Sets）,镜像备份(image copies),proxy copies的信息<br>
          RMAN&gt; list backup;<br>
          <br>
          备份集列表<br>
          ===================<br>
          BS 关键字&nbsp; 类型 LV 大小&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 设备类型
          经过时间 完成时间&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
          ------- ---- -- ---------- ----------- ------------
          ------------------<br>
          100&nbsp;&nbsp;&nbsp;&nbsp; Full&nbsp;&nbsp;&nbsp;
          17.95M&nbsp;&nbsp;&nbsp;&nbsp;
          DISK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          00:00:00&nbsp;&nbsp;&nbsp;&nbsp; 2023:10:2921:07:24<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BP 关键字:
          102&nbsp;&nbsp; 状态: AVAILABLE&nbsp; 已压缩: NO&nbsp; 标记:
          TAG20231029T210724<br>
          段名:/opt/app/oracle/product/19.3.000/db_home/dbs/c-
          2324541357-20231029-00<br>
          &nbsp; 包含的 SPFILE: 修改时间: 2023:10:2920:52:25<br>
          &nbsp; SPFILE db_unique_name: DRUGDB<br>
          &nbsp; 包括的控制文件: Ckp SCN: 3889632&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          Ckp 时间: 2023:10:2921:07:24<br>
          <br>
          BS 关键字&nbsp; 类型 LV 大小&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 设备类型
          经过时间 完成时间&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
          ------- ---- -- ---------- ----------- ------------
          ------------------<br>
          101&nbsp;&nbsp;&nbsp;&nbsp; Full&nbsp;&nbsp;&nbsp;
          17.95M&nbsp;&nbsp;&nbsp;&nbsp;
          DISK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          00:00:01&nbsp;&nbsp;&nbsp;&nbsp; 2023:11:0504:23:43<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BP 关键字:
          103&nbsp;&nbsp; 状态: AVAILABLE&nbsp; 已压缩: NO&nbsp; 标记:
          TAG20231105T042342<br>
          段名:/opt/app/oracle/product/19.3.000/db_home/dbs/c-
          2324541357-20231105-00<br>
          &nbsp; 包含的 SPFILE: 修改时间: 2023:11:0503:28:43<br>
          &nbsp; SPFILE db_unique_name: DRUGDB<br>
          &nbsp; 包括的控制文件: Ckp SCN: 4274242&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          Ckp 时间: 2023:11:0504:23:42<br>
          <br>
          BS 关键字&nbsp; 类型 LV 大小&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 设备类型
          经过时间 完成时间&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
          ------- ---- -- ---------- ----------- ------------
          ------------------<br>
          111&nbsp;&nbsp;&nbsp;&nbsp; Full&nbsp;&nbsp;&nbsp;
          17.95M&nbsp;&nbsp;&nbsp;&nbsp;
          DISK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          00:00:00&nbsp;&nbsp;&nbsp;&nbsp; 2023:11:0505:08:45<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BP 关键字:
          114&nbsp;&nbsp; 状态: AVAILABLE&nbsp; 已压缩: NO&nbsp; 标记:
          TAG20231105T050845<br>
          段名:/opt/app/oracle/product/19.3.000/db_home/dbs/c-
          2324541357-20231105-01<br>
          &nbsp; 包含的 SPFILE: 修改时间: 2023:11:0503:28:43<br>
          &nbsp; SPFILE db_unique_name: DRUGDB<br>
          &nbsp; 包括的控制文件: Ckp SCN: 4284204&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          Ckp 时间: 2023:11:0505:08:45<br>
          <br>
          BS 关键字&nbsp; 类型 LV 大小&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 设备类型
          经过时间 完成时间&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
          ------- ---- -- ---------- ----------- ------------
          ------------------<br>
          121&nbsp;&nbsp;&nbsp;&nbsp; Full&nbsp;&nbsp;&nbsp;
          1.48G&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          DISK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          00:00:07&nbsp;&nbsp;&nbsp;&nbsp; 2023:11:0505:09:12<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BP 关键字:
          126&nbsp;&nbsp; 状态: AVAILABLE&nbsp; 已压缩: NO&nbsp; 标记:
          TAG20231105T050904<br>
          段名:/opt/app/oracle/product/19.3.000/db_home/dbs/042amibh_1_1<br>
          &nbsp; 备份集 121 中的数据文件列表<br>
          &nbsp; File LV Type Ckp SCN&nbsp;&nbsp;&nbsp; Ckp
          时间&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Abs Fuz SCN
          Sparse Name<br>
          &nbsp; ---- -- ---- ---------- ------------------ -----------
          ------ ----<br>
          &nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Full
          4284327&nbsp;&nbsp;&nbsp;
          2023:11:0505:09:05&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          NO&nbsp;&nbsp;&nbsp;
          /opt/app/oracle/oradata/DRUGDB/system01.dbf<br>
          &nbsp; 3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Full
          4284327&nbsp;&nbsp;&nbsp;
          2023:11:0505:09:05&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          NO&nbsp;&nbsp;&nbsp;
          /opt/app/oracle/oradata/DRUGDB/sysaux01.dbf<br>
          &nbsp; 4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Full
          4284327&nbsp;&nbsp;&nbsp;
          2023:11:0505:09:05&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          NO&nbsp;&nbsp;&nbsp;
          /opt/app/oracle/oradata/DRUGDB/undotbs01.dbf<br>
          &nbsp; 7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Full
          4284327&nbsp;&nbsp;&nbsp;
          2023:11:0505:09:05&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          NO&nbsp;&nbsp;&nbsp;
          /opt/app/oracle/oradata/DRUGDB/users01.dbf<br>
          &nbsp; 15&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Full
          4284327&nbsp;&nbsp;&nbsp;
          2023:11:0505:09:05&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          NO&nbsp;&nbsp;&nbsp;
          /opt/app/oracle/oradata/DRUGDB/rman_ts.dbf<br>
          <br>
          BS 关键字&nbsp; 类型 LV 大小&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 设备类型
          经过时间 完成时间&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
          ------- ---- -- ---------- ----------- ------------
          ------------------<br>
          122&nbsp;&nbsp;&nbsp;&nbsp; Full&nbsp;&nbsp;&nbsp;
          486.99M&nbsp;&nbsp;&nbsp;
          DISK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          00:00:03&nbsp;&nbsp;&nbsp;&nbsp; 2023:11:0505:09:23<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BP 关键字:
          127&nbsp;&nbsp; 状态: AVAILABLE&nbsp; 已压缩: NO&nbsp; 标记:
          TAG20231105T050904<br>
          段名:/opt/app/oracle/product/19.3.000/db_home/dbs/052amic0_1_1<br>
          &nbsp; 备份集 122 中的数据文件列表<br>
          &nbsp; 容器 ID: 3, PDB 名称: PDBDRUG<br>
          &nbsp; File LV Type Ckp SCN&nbsp;&nbsp;&nbsp; Ckp
          时间&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Abs Fuz SCN
          Sparse Name<br>
          &nbsp; ---- -- ---- ---------- ------------------ -----------
          ------ ----<br>
          &nbsp; 9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Full
          3771584&nbsp;&nbsp;&nbsp;
          2023:10:2705:30:42&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          NO&nbsp;&nbsp;&nbsp;
          /opt/app/oracle/oradata/DRUGDB/pdbdrug/system01.dbf<br>
          &nbsp; 10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Full
          3771584&nbsp;&nbsp;&nbsp;
          2023:10:2705:30:42&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          NO&nbsp;&nbsp;&nbsp;
          /opt/app/oracle/oradata/DRUGDB/pdbdrug/sysaux01.dbf<br>
          &nbsp; 11&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Full
          3771584&nbsp;&nbsp;&nbsp;
          2023:10:2705:30:42&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          NO&nbsp;&nbsp;&nbsp;
          /opt/app/oracle/oradata/DRUGDB/pdbdrug/undotbs01.dbf<br>
          &nbsp; 12&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Full
          3771584&nbsp;&nbsp;&nbsp;
          2023:10:2705:30:42&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          NO&nbsp;&nbsp;&nbsp;
          /opt/app/oracle/oradata/DRUGDB/pdbdrug/users01.dbf<br>
          <br>
          BS 关键字&nbsp; 类型 LV 大小&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 设备类型
          经过时间 完成时间&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
          ------- ---- -- ---------- ----------- ------------
          ------------------<br>
          123&nbsp;&nbsp;&nbsp;&nbsp; Full&nbsp;&nbsp;&nbsp;
          552.21M&nbsp;&nbsp;&nbsp;
          DISK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          00:00:04&nbsp;&nbsp;&nbsp;&nbsp; 2023:11:0505:10:09<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BP 关键字:
          128&nbsp;&nbsp; 状态: AVAILABLE&nbsp; 已压缩: NO&nbsp; 标记:
          TAG20231105T050904<br>
          段名:/opt/app/oracle/product/19.3.000/db_home/dbs/062amidd_1_1<br>
          &nbsp; 备份集 123 中的数据文件列表<br>
          &nbsp; 容器 ID: 2, PDB 名称: PDB$SEED<br>
          &nbsp; File LV Type Ckp SCN&nbsp;&nbsp;&nbsp; Ckp
          时间&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Abs Fuz SCN
          Sparse Name<br>
          &nbsp; ---- -- ---- ---------- ------------------ -----------
          ------ ----<br>
          &nbsp; 5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Full
          2138344&nbsp;&nbsp;&nbsp;
          2023:05:1305:07:36&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          NO&nbsp;&nbsp;&nbsp;
          /opt/app/oracle/oradata/DRUGDB/pdbseed/system01.dbf<br>
          &nbsp; 6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Full
          2138344&nbsp;&nbsp;&nbsp;
          2023:05:1305:07:36&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          NO&nbsp;&nbsp;&nbsp;
          /opt/app/oracle/oradata/DRUGDB/pdbseed/sysaux01.dbf<br>
          &nbsp; 8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Full
          2138344&nbsp;&nbsp;&nbsp;
          2023:05:1305:07:36&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          NO&nbsp;&nbsp;&nbsp;
          /opt/app/oracle/oradata/DRUGDB/pdbseed/undotbs01.dbf<br>
          <br>
          BS 关键字&nbsp; 类型 LV 大小&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 设备类型
          经过时间 完成时间&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
          ------- ---- -- ---------- ----------- ------------
          ------------------<br>
          145&nbsp;&nbsp;&nbsp;&nbsp; Full&nbsp;&nbsp;&nbsp;
          17.95M&nbsp;&nbsp;&nbsp;&nbsp;
          DISK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          00:00:05&nbsp;&nbsp;&nbsp;&nbsp; 2023:11:0505:10:27<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BP 关键字:
          149&nbsp;&nbsp; 状态: AVAILABLE&nbsp; 已压缩: NO&nbsp; 标记:
          TAG20231105T051022<br>
          段名:/opt/app/oracle/product/19.3.000/db_home/dbs/c-
          2324541357-20231105-02<br>
          &nbsp; 包含的 SPFILE: 修改时间: 2023:11:0503:28:43<br>
          &nbsp; SPFILE db_unique_name: DRUGDB<br>
          &nbsp; 包括的控制文件: Ckp SCN: 4284414&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          Ckp 时间: 2023:11:0505:10:22<br>
          <br>
          RMAN&gt; list backupset;&nbsp;&nbsp; //</span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 254.402px; top: 853.548px; font-size:
                17.5px; font-family: serif;" role="presentation"
                dir="ltr">列出： </span></span></span>备份集（Backup
          Sets）,proxy copies信息<br>
          RMAN&gt; list backup of database; &nbsp; //列出所有数据文件的备份信息<br>
          比较以上三个语句输出结果的差别.<br>
          <br>
          RMAN&gt; list backup of tablespace users;&nbsp;&nbsp;
          //列出特定表空间的所有数据文件备份集<br>
          备份集列表<br>
          ===================<br>
          BS 关键字&nbsp; 类型 LV 大小&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 设备类型
          经过时间 完成时间&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
          ------- ---- -- ---------- ----------- ------------
          ------------------<br>
          121&nbsp;&nbsp;&nbsp;&nbsp; Full&nbsp;&nbsp;&nbsp;
          1.48G&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          DISK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          00:00:07&nbsp;&nbsp;&nbsp;&nbsp; 2023:11:0505:09:12<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BP 关键字:
          126&nbsp;&nbsp; 状态: AVAILABLE&nbsp; 已压缩: NO&nbsp; 标记:
          TAG20231105T050904<br>
          段名:/opt/app/oracle/product/19.3.000/db_home/dbs/042amibh_1_1<br>
          &nbsp; 备份集 121 中的数据文件列表<br>
          &nbsp; File LV Type Ckp SCN&nbsp;&nbsp;&nbsp; Ckp
          时间&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Abs Fuz SCN
          Sparse Name<br>
          &nbsp; ---- -- ---- ---------- ------------------ -----------
          ------ ----<br>
          &nbsp; 7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Full
          4284327&nbsp;&nbsp;&nbsp;
          2023:11:0505:09:05&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



          NO&nbsp;&nbsp;&nbsp;
          /opt/app/oracle/oradata/DRUGDB/users01.dbf<br>
        </span></span></span><br>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 254.402px; top: 853.548px; font-size:
                17.5px; font-family: serif;" role="presentation"
                dir="ltr">RMAN&gt; list backup of tablespace rman_ts;<br>
                备份集列表<br>
                ===================<br>
                BS 关键字&nbsp; 类型 LV
                大小&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 设备类型 经过时间
                完成时间&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
                ------- ---- -- ---------- ----------- ------------
                ------------------<br>
                121&nbsp;&nbsp;&nbsp;&nbsp; Full&nbsp;&nbsp;&nbsp;
                1.48G&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                DISK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                00:00:07&nbsp;&nbsp;&nbsp;&nbsp; 2023:11:0505:09:12<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BP 关键字:
                126&nbsp;&nbsp; 状态: AVAILABLE&nbsp; 已压缩: NO&nbsp; 标记:
                TAG20231105T050904<br>
                段名:/opt/app/oracle/product/19.3.000/db_home/dbs
                /042amibh_1_1<br>
                &nbsp; 备份集 121 中的数据文件列表<br>
                &nbsp; File LV Type Ckp SCN&nbsp;&nbsp;&nbsp; Ckp
                时间&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Abs
                Fuz SCN Sparse Name<br>
                &nbsp; ---- -- ---- ---------- ------------------
                ----------- ------ ----<br>
                &nbsp; 15&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Full
                4284327&nbsp;&nbsp;&nbsp;
                2023:11:0505:09:05&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                NO&nbsp;&nbsp;&nbsp;
                /opt/app/oracle/oradata/DRUGDB/rman_ts.dbf<br>
                <br>
                <br>
                RMAN&gt; list backup of datafile 1;<br>
              </span></span></span></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 254.402px; top: 853.548px; font-size:
                17.5px; font-family: serif;" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page885R_mcid0"><span class="markedContent"
                    id="page885R_mcid0"><span style="left: 254.402px;
                      top: 853.548px; font-size: 17.5px; font-family:
                      serif;" role="presentation" dir="ltr"><span
                        class="markedContent" id="page885R_mcid0"><span
                          class="markedContent" id="page885R_mcid0"><span
                            style="left: 254.402px; top: 853.548px;
                            font-size: 17.5px; font-family: serif;"
                            role="presentation" dir="ltr">RMAN&gt; </span></span></span></span></span></span><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 254.402px; top: 853.548px; font-size:
                      17.5px; font-family: serif;" role="presentation"
                      dir="ltr"><span class="markedContent"
                        id="page885R_mcid0"><span class="markedContent"
                          id="page885R_mcid0"><span style="left:
                            254.402px; top: 853.548px; font-size:
                            17.5px; font-family: serif;"
                            role="presentation" dir="ltr">list backup of
                            datafile 3;<br>
                          </span></span></span></span></span></span></span></span></span></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 254.402px; top: 853.548px; font-size:
                17.5px; font-family: serif;" role="presentation"
                dir="ltr">RMAN&gt; </span></span></span></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 254.402px; top: 853.548px; font-size:
                17.5px; font-family: serif;" role="presentation"
                dir="ltr">list backup of datafile 4;&nbsp;
                ///opt/app/oracle/oradata/DRUGDB/undotbs01.dbf<br>
                <br>
                RMAN&gt; list backup of datafile 9;&nbsp; // <br>
                前面查到的备份集： 122&nbsp;&nbsp;&nbsp;&nbsp;
                Full&nbsp;&nbsp;&nbsp; 486.99M&nbsp;&nbsp;&nbsp; DISK中的：<br>
              </span></span></span></span></span></span><br>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 254.402px; top: 853.548px; font-size:
                17.5px; font-family: serif;" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page885R_mcid0"><span class="markedContent"
                    id="page885R_mcid0"><span style="left: 254.402px;
                      top: 853.548px; font-size: 17.5px; font-family:
                      serif;" role="presentation" dir="ltr">9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;


Full



                      3771584&nbsp;&nbsp;&nbsp;
                      2023:10:2705:30:42&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



                      NO&nbsp;&nbsp;&nbsp;
/opt/app/oracle/oradata/DRUGDB/pdbdrug/system01.dbf<br>
                    </span></span></span></span></span></span></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 254.402px; top: 853.548px; font-size:
                17.5px; font-family: serif;" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page885R_mcid0"><span class="markedContent"
                    id="page885R_mcid0"><span style="left: 254.402px;
                      top: 853.548px; font-size: 17.5px; font-family:
                      serif;" role="presentation" dir="ltr"><span
                        class="markedContent" id="page885R_mcid0"><span
                          class="markedContent" id="page885R_mcid0"><span
                            style="left: 254.402px; top: 853.548px;
                            font-size: 17.5px; font-family: serif;"
                            role="presentation" dir="ltr">直接写文件查看<br>
                            RMAN&gt;</span></span></span></span></span></span>list


backup



                of datafile '</span></span></span></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 254.402px; top: 853.548px; font-size:
                17.5px; font-family: serif;" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page885R_mcid0"><span class="markedContent"
                    id="page885R_mcid0"><span style="left: 254.402px;
                      top: 853.548px; font-size: 17.5px; font-family:
                      serif;" role="presentation" dir="ltr"><span
                        class="markedContent" id="page885R_mcid0"><span
                          class="markedContent" id="page885R_mcid0"><span
                            style="left: 254.402px; top: 853.548px;
                            font-size: 17.5px; font-family: serif;"
                            role="presentation" dir="ltr"><span
                              class="markedContent" id="page885R_mcid0"><span
                                class="markedContent"
                                id="page885R_mcid0"><span style="left:
                                  254.402px; top: 853.548px; font-size:
                                  17.5px; font-family: serif;"
                                  role="presentation" dir="ltr">/opt/app/oracle/oradata/DRUGDB/pdbdrug/system01.dbf</span></span></span></span></span></span></span></span></span>';<br>
                按备份类型列出备份<br>
                RMAN&gt; list backup by file;<br>
                列出控制文件信息<br>
                RMAN&gt; list backup of controlfile;<br>
                查看已备份的归档日志信息<br>
                RMAN&gt; list backup of archivelog all;<br>
                <br>
                RMAN&gt; list backup of spfile;&nbsp;&nbsp;&nbsp;
                //列出spfile文件信息<br>
                <br>
                RMAN&gt; list archivelog all;&nbsp;&nbsp;&nbsp;
                //列出所有的归档日志<br>
                RMAN&gt; list expired archivelog all;&nbsp;&nbsp;
                //列出所有失效的归档日志<br>
                <br>
                RMAN&gt; list copy;&nbsp;&nbsp;&nbsp;&nbsp;
                //列出备份的映像副本信息<br>
                RMAN&gt; list expired backup;&nbsp;&nbsp; //列出过期备份信息<br>
                RMAN&gt; list backup summary;&nbsp; //概述可用的备份<br>
                <br>
                <br>
              </span></span></span></span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 254.402px; top: 853.548px; font-size:
                17.5px; font-family: serif;" role="presentation"
                dir="ltr"></span></span></span></span></span></span>
    <h3><span class="markedContent" id="page885R_mcid0"><span
          class="markedContent" id="page885R_mcid0"><span style="left:
            254.402px; top: 853.548px; font-size: 17.5px; font-family:
            serif;" role="presentation" dir="ltr"> </span></span></span><font
data-spm-anchor-id="a2c6h.12873639.article-detail.i5.e9c3552eY6Ul8q"
        color="#000000">查看备份成功的历史记录</font></h3>
    <pre><span style="color:#0000ff;" data-spm-anchor-id="a2c6h.12873639.article-detail.i3.e9c3552eY6Ul8q">直接在sqldeveloper中输入下面的SQL：<br>SELECT</span> * <span style="color:#0000ff;">FROM</span> V$RMAN_STATUS <span style="color:#0000ff;">WHERE</span> START_TIME &gt;= TO_DATE(&amp;START_TIME,<span style="color:#006080;">'YYYY-MM-DD HH24:MI:SS'</span>) <span style="color:#0000ff;">AND</span> END_TIME &lt;= TO_DATE(&amp;END_TIME&nbsp; ,<span style="color:#006080;">'YYYY-MM-DD HH24:MI:SS'</span>) <span style="color:#0000ff;">AND</span>&nbsp;<span style="color:#0000ff;">OPERATION</span> =<span style="color:#006080;">'BACKUP' </span><span style="color:#0000ff;">AND</span> STATUS =<span style="color:#006080;">'COMPLETED'<br></span></pre>
    <h3 align="left">点sqldeveloper GUI的运行sql语句的那个绿色按钮：
      分别输入要查的备份的起始和终末时间，注意格式： 20230101 - 20231231<br>
    </h3>
    <h1 align="center"><img moz-do-not-send="true"
        src="../hustdbroot/oradir/checkbaksuc.png" alt="" width="971"
        height="569"></h1>
    <pre>看看<font data-spm-anchor-id="a2c6h.12873639.article-detail.i6.e9c3552eY6Ul8q" color="#000000">STATUS的值是以下那个：<br>RUNNING、RUNNING WITH WARNINGS、RUNNING WITH ERRORS、COMPLETED、COMPLETED WITH WARNINGS、COMPLETED WITH ERRORS、FAILED；<br><br></font>在sqldeveloper中输入：<br><font data-spm-anchor-id="a2c6h.12873639.article-detail.i6.e9c3552eY6Ul8q" color="#000000"><span style="color:#0000ff;" data-spm-anchor-id="a2c6h.12873639.article-detail.i7.e9c3552eY6Ul8q">SELECT</span> ROW_TYPE, COMMAND_ID, <span style="color:#0000ff;">OPERATION</span>, STATUS,OBJECT_TYPE <span style="color:#0000ff;">FROM</span> V$RMAN_STATUS <span style="color:#0000ff;">WHERE</span> START_TIME &gt;= TO_DATE(<span style="color:#006080;">'2023-09-01 12:59:00'</span>, <span style="color:#006080;">'YYYY-MM-DD HH24:MI:SS'</span>);<br><br></font><font data-spm-anchor-id="a2c6h.12873639.article-detail.i9.e9c3552eY6Ul8q" color="#000000">看看查出的结果中： V$RMAN_STATUS里面有没有一条记录的STATUS为RUNNING状态， 这表示RMAN正在工作。<br><br>RMAN&gt; / &nbsp; &nbsp; &nbsp; //故意</font><font data-spm-anchor-id="a2c6h.12873639.article-detail.i9.e9c3552eY6Ul8q" color="#000000"><font data-spm-anchor-id="a2c6h.12873639.article-detail.i10.e9c3552eY6Ul8q" color="#000000">在RMAN中随意执行一个错误命令<br>RMAN-00571: ===========================================================<br>RMAN-00569: =============== ERROR MESSAGE STACK FOLLOWS ===============<br>RMAN-00571: ===========================================================<br>RMAN-00558: 分析输入命令时出错<br>RMAN-01006: 在进行语法分析时发出出错信号<br>RMAN-02001: 无法识别的标点符号 "/"<br><br></font></font><br><font data-spm-anchor-id="a2c6h.12873639.article-detail.i9.e9c3552eY6Ul8q" color="#000000"><font data-spm-anchor-id="a2c6h.12873639.article-detail.i10.e9c3552eY6Ul8q" color="#000000">再次在sqldeveloper中输入：<br><font data-spm-anchor-id="a2c6h.12873639.article-detail.i6.e9c3552eY6Ul8q" color="#000000"><span style="color:#0000ff;" data-spm-anchor-id="a2c6h.12873639.article-detail.i7.e9c3552eY6Ul8q">SELECT</span> ROW_TYPE, COMMAND_ID, <span style="color:#0000ff;">OPERATION</span>, STATUS,OBJECT_TYPE <span style="color:#0000ff;">FROM</span> V$RMAN_STATUS <span style="color:#0000ff;">WHERE</span> START_TIME &gt;= TO_DATE(<span style="color:#006080;">'2023-09-01 12:59:00'</span>, <span style="color:#006080;">'YYYY-MM-DD HH24:MI:SS'</span>);<br></font></font></font><font data-spm-anchor-id="a2c6h.12873639.article-detail.i9.e9c3552eY6Ul8q" color="#000000"><font data-spm-anchor-id="a2c6h.12873639.article-detail.i10.e9c3552eY6Ul8q" color="#000000"><font data-spm-anchor-id="a2c6h.12873639.article-detail.i6.e9c3552eY6Ul8q" color="#000000"><font data-spm-anchor-id="a2c6h.12873639.article-detail.i9.e9c3552eY6Ul8q" color="#000000">看看查出的结果中： V$RMAN_STATUS里面的STATUS有没有不一样？ &nbsp; &nbsp;RUNNING WITH ERRORS<br><br></font></font></font></font><font data-spm-anchor-id="a2c6h.12873639.article-detail.i9.e9c3552eY6Ul8q" color="#000000"><font data-spm-anchor-id="a2c6h.12873639.article-detail.i10.e9c3552eY6Ul8q" color="#000000"><font data-spm-anchor-id="a2c6h.12873639.article-detail.i6.e9c3552eY6Ul8q" color="#000000"><font data-spm-anchor-id="a2c6h.12873639.article-detail.i9.e9c3552eY6Ul8q" color="#000000"><font data-spm-anchor-id="a2c6h.12873639.article-detail.i11.e9c3552eY6Ul8q" color="#000000">如果： 现在从RMAN中退出，会看到STAUS记录从"RUNNING WITH ERRORS"变成了"COMPLETED WITH ERRORS"</font></font>&nbsp;</font> <br><br></font></font><br><font data-spm-anchor-id="a2c6h.12873639.article-detail.i9.e9c3552eY6Ul8q" color="#000000"><font data-spm-anchor-id="a2c6h.12873639.article-detail.i10.e9c3552eY6Ul8q" color="#000000"><font data-spm-anchor-id="a2c6h.12873639.article-detail.i15.e9c3552eY6Ul8q" color="#000000">也可以从V$RMAN_BACKUP_JOB_DETAILS中查看RMAN备份更详细的信息<br></font></font></font><span style="color:#0000ff;">SELECT</span> START_TIME, END_TIME, OUTPUT_DEVICE_TYPE, STATUS, ELAPSED_SECONDS, COMPRESSION_RATIO, INPUT_BYTES_DISPLAY, OUTPUT_BYTES_DISPLAY <span style="color:#0000ff;">FROM</span> V$RMAN_BACKUP_JOB_DETAILS <span style="color:#0000ff;">ORDER</span>&nbsp;<span style="color:#0000ff;">BY</span> START_TIME <span style="color:#0000ff;">DESC</span>;<span style="color:#006080;"></span></pre>
    <span style="color:#006080;"><br>
    </span><font color="#000000"><strong
        data-spm-anchor-id="a2c6h.12873639.article-detail.i22.e9c3552eY6Ul8q">查
        看某个备份集SPFILE</strong></font>
    <pre><span style="color:#0000ff;" data-spm-anchor-id="a2c6h.12873639.article-detail.i20.e9c3552eY6Ul8q">SELECT</span>&nbsp;<span style="color:#0000ff;">DISTINCT</span> A.SET_STAMP, B.COMPLETION_TIME, HANDLE <span style="color:#0000ff;">FROM</span> V$BACKUP_SPFILE B, V$BACKUP_PIECE A <span style="color:#0000ff;">WHERE</span> A.SET_STAMP = B.SET_STAMP <span style="color:#0000ff;">AND</span> A.DELETED = <span style="color:#006080;">'NO' </span><span style="color:#0000ff;">AND</span> B.SET_STAMP = &amp;SET_STAMP;</pre>
    <span style="color:#006080;"><br>
    </span><span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr">三、恢复操作步骤</span></span></span><br>
    <h3><span class="markedContent" id="page885R_mcid0"><span
          class="markedContent" id="page885R_mcid0"><span style="left:
            254.402px; top: 853.548px; font-size: 17.5px; font-family:
            serif;" role="presentation" dir="ltr"></span></span></span></h3>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> <br>
          1、准备恢复环境：在进行数据库恢复前，需准备好恢复环境，包括备份介质的连接、归档日志文件的准备以及必要的配置文件和参数设
          置。<br>
          2、准备目标数据库：如果正在恢复到一个新的数据库实例，需先创建数据库实例并配置数据库参数，确保目标数据库的配置与备份数据兼
          容。<br>
          3、执行恢复：运行RMAN命令执行数据恢复。根据备份类型和恢复的需求，可以选择完全恢复、不完全恢复或点恢复等恢复策略。<br>
          4、验证恢复：在恢复完成后，建议验证恢复的效果和数据的完整性。可以通过查询数据、执行业务操作和检查数据库日志来验证数据的一致
          性和可用性。<br>
        </span></span></span><br>
    <div class="dpu8C _2kCxD " style="max-width: 100%; overflow-x:
      visible; font-size: 18px; line-height: 30px; color: rgb(34, 34,
      34); margin-top: 24px; font-family: arial; font-style: normal;
      font-variant-ligatures: normal; font-variant-caps: normal;
      font-weight: 400; letter-spacing: normal; orphans: 2; text-align:
      start; text-indent: 0px; text-transform: none; widows: 2;
      word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space:
      normal; background-color: rgb(255, 255, 255);
      text-decoration-thickness: initial; text-decoration-style:
      initial; text-decoration-color: initial;">
      <p style="margin: 0px !important; padding: 0px !important;
        overflow-y: auto; max-width: 100%; font-size: 18px; line-height:
        30px; color: rgb(34, 34, 34);"><span style="max-width: 100%;
          color: rgb(36, 41, 47); --tt-darkmode-color: #24292F;">四、备份恢复的
          注意事项</span></p>
    </div>
    <div class="dpu8C _2kCxD " style="max-width: 100%; overflow-x:
      visible; font-size: 18px; line-height: 30px; color: rgb(34, 34,
      34); margin-top: 24px; font-family: arial; font-style: normal;
      font-variant-ligatures: normal; font-variant-caps: normal;
      font-weight: 400; letter-spacing: normal; orphans: 2; text-align:
      start; text-indent: 0px; text-transform: none; widows: 2;
      word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space:
      normal; background-color: rgb(255, 255, 255);
      text-decoration-thickness: initial; text-decoration-style:
      initial; text-decoration-color: initial;">
      <p style="margin: 0px !important; padding: 0px !important;
        overflow-y: auto; max-width: 100%; font-size: 18px; line-height:
        30px; color: rgb(34, 34, 34);"><span style="max-width: 100%;
          color: rgb(36, 41, 47); --tt-darkmode-color: #24292F;">1、定期测试恢
          复策略：定期测试备份恢复策略是非常重要的。通过定期进行备份和恢复测试，可以确保备份数据的完整性和恢复过程的可靠性。测试结果应
          该进行记录和分析，以便根据需要进行调整和优化。</span></p>
    </div>
    <div class="dpu8C _2kCxD " style="max-width: 100%; overflow-x:
      visible; font-size: 18px; line-height: 30px; color: rgb(34, 34,
      34); margin-top: 24px; font-family: arial; font-style: normal;
      font-variant-ligatures: normal; font-variant-caps: normal;
      font-weight: 400; letter-spacing: normal; orphans: 2; text-align:
      start; text-indent: 0px; text-transform: none; widows: 2;
      word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space:
      normal; background-color: rgb(255, 255, 255);
      text-decoration-thickness: initial; text-decoration-style:
      initial; text-decoration-color: initial;">
      <p style="margin: 0px !important; padding: 0px !important;
        overflow-y: auto; max-width: 100%; font-size: 18px; line-height:
        30px; color: rgb(34, 34, 34);"><span style="max-width: 100%;
          color: rgb(36, 41, 47); --tt-darkmode-color: #24292F;">2、保护备份文
          件的安全：备份文件包含敏感数据，必须采取措施来保护其安全性。可以使用加密技术对备份文件进行加密，同时限制对备份文件的访问权
          限。</span></p>
    </div>
    <div class="dpu8C _2kCxD " style="max-width: 100%; overflow-x:
      visible; font-size: 18px; line-height: 30px; color: rgb(34, 34,
      34); margin-top: 24px; font-family: arial; font-style: normal;
      font-variant-ligatures: normal; font-variant-caps: normal;
      font-weight: 400; letter-spacing: normal; orphans: 2; text-align:
      start; text-indent: 0px; text-transform: none; widows: 2;
      word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space:
      normal; background-color: rgb(255, 255, 255);
      text-decoration-thickness: initial; text-decoration-style:
      initial; text-decoration-color: initial;">
      <p style="margin: 0px !important; padding: 0px !important;
        overflow-y: auto; max-width: 100%; font-size: 18px; line-height:
        30px; color: rgb(34, 34, 34);"><span style="max-width: 100%;
          color: rgb(36, 41, 47); --tt-darkmode-color: #24292F;">3、监控备份和
          恢复过程：持续监控备份和恢复过程是必要的。可以使用Oracle提供的监控工具来监视备份和恢复的进度和状态。及时发现问题并采取
          适当的措施来解决。</span></p>
    </div>
    <div class="dpu8C _2kCxD " style="max-width: 100%; overflow-x:
      visible; font-size: 18px; line-height: 30px; color: rgb(34, 34,
      34); margin-top: 24px; font-family: arial; font-style: normal;
      font-variant-ligatures: normal; font-variant-caps: normal;
      font-weight: 400; letter-spacing: normal; orphans: 2; text-align:
      start; text-indent: 0px; text-transform: none; widows: 2;
      word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space:
      normal; background-color: rgb(255, 255, 255);
      text-decoration-thickness: initial; text-decoration-style:
      initial; text-decoration-color: initial;">
      <p style="margin: 0px !important; padding: 0px !important;
        overflow-y: auto; max-width: 100%; font-size: 18px; line-height:
        30px; color: rgb(34, 34, 34);"><span style="max-width: 100%;
          color: rgb(36, 41, 47); --tt-darkmode-color: #24292F;">Oracle
          RMAN备份恢复是应对数据丢失挑战的关键工具。通过制定合理的备份策略，正确执行备份和恢复操作，并遵循备份恢复的注意事项，可以
          保证数据库数据的安全性和可用性。定期测试备份恢复策略，并保护备份文件的安全，同时持续监控备份和恢复过程，是确保备份恢复成功的
          重要步骤。</span></p>
    </div>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> <br>
        </span></span></span>
    <pre><span class="markedContent" id="page885R_mcid0"><span class="markedContent" id="page885R_mcid0"><span style="left:
254.402px; top: 853.548px; font-size: 17.5px; font-family:
serif;" role="presentation" dir="ltr">
</span></span></span></pre>
    <pre></pre>
    <h2> Oracle上机RMAN恢复练习:</h2>
    <p>$rman target sys/wtsgyh1972 catalog rcat_manager/password@tnsname<br>
      $rman target sys/wtsgyh1972 catalog rcat_manager/password@drugdb<br>
    </p>
    <pre>一 还原spfile<br>Oracle 11g 以前，我们可以从spfile来创建pfile，或者利用pfile来创建spfile。 在Oracle 11g后的版本，在管理spfile方面得到增强，可以从memory来创建pfile和spfile。<br>判断Oracle启动时使用spfile还是pfile<br>SQL&gt;select decode(count(*),1,'spfile','pfile') from v$spparameter where rownum=1 and isspecified ='TRUE';<br>SQL&gt;show parameter spfile;<br><br>1. 从运行的数据库内存恢复<br>SQL&gt; shutdown immediate<br>//使用pfile/spfile 启动数据库<br>//startup 启动次序 spfile优先于pfile。<br>//如果在数据库的$ORACLE_HOME/dbs/目录下既有spfile又有pfile,使用spfile启动数据库，不需要指定参数文件路径（因为数据库会优先选择spfile启动）<br>//查找文件的顺序是 spfileSID.ora-〉spfile.ora-〉initSID.ora-〉init.ora（spfile优先于pfile）<br>SQL&gt; startup pfile='/opt/app/oracle/product/19.3.000/db_home/dbs/initdrugdb.ora'<br>//windows: RMAN也可以<br>//RMAN&gt;startup pfile='D:\app\wtscrystal\admin\drugdb\pfile\init.ora.48202321253'<br>//RMAN&gt;startup pfile='D:\app\wtscrystal\product\12.1.0\dbhome_1\dbs\init.ora' //这个不行!!!!???? <br>$ rman target sys/wtsgyh1972 catalog c##rman/wtsgyh1972 &nbsp; &nbsp;//上面关了oracle后需要重新连接rman<br><br>RMAN&gt; create spfile from memory;<br>已处理语句<br>//如果报: ORA-32002: 无法创建已由实例使用的 SPFILE, 则需要用<br>//SQL&gt;shutdown immediate<br>//SQL&gt; startup pfile='/opt/app/oracle/product/19.3.000/db_home/dbs/initdrugdb.ora'<br><br>SQL&gt; create spfile from memory; &nbsp; &nbsp; &nbsp;//sqlplus中也可以执行，但是有点不一样<br>文件已创建。<br><br>RMAN&gt;Restore spfile from autobackup; //提取数据库spfile（默认还原最新的文件）<br><br><br>2. 使用rman自动控制文件备份: Flash Recovery Area,FRA闪回区<br>fast recovery area的作用：<br>快速恢复区域是Oracle数据库管理的空间，可用于保存RMAN磁盘备份、控制文件自动备份和存档的重做日志文件。<br>放置在此位置的文件由Oracle数据库维护，生成的文件名以Oracle托管文件（OMF）格式维护。平时在生产环境中很少见到有用fast recovery area的，一般在生产环境中数据量比较大，而fast recovery area对空间要求也比较高，多少了解一下。<br>SQL&gt; show parameter db_recovery_file_dest<br>SQL&gt; alter system set db_recovery_file_dest_size='1G' scope=both sid='*'; //需要启动数据库时用 spfile:<br>SQL&gt;alter system set db_recovery_file_dest='+fra' scope=both sid='*';<br><br>LINUX:<br>RMAN&gt;Restore spfile to '/tmp/spfiletemp.ora' from autobackup recovery area ='/data/prd/fast_recovery_area' db_name=DRUGDB;<br>//spfiletemp.ora 即为spfile, 二进制的文件<br>//windows: RMAN&gt; Restore spfile to 'D:\spfiletemp.ora' from autobackup recovery area ='D:\app\fast_recovery_area' db_name=DRUGDB;<br><br>启动 restore 于 09-11月-23<br>使用通道 ORA_DISK_1<br><br>恢复区目标: /data/prd/fast_recovery_area<br>用于搜索的数据库名 (或数据库的唯一名称): DRUGDB<br>通道 ORA_DISK_1: 在恢复区中没有找到 AUTOBACKUP<br>通道 ORA_DISK_1: 寻找以下日期的 AUTOBACKUP: 20231109<br>通道 ORA_DISK_1: 寻找以下日期的 AUTOBACKUP: 20231108<br>通道 ORA_DISK_1: 寻找以下日期的 AUTOBACKUP: 20231107<br>通道 ORA_DISK_1: 寻找以下日期的 AUTOBACKUP: 20231106<br>通道 ORA_DISK_1: 已找到的 AUTOBACKUP: c-2324166520-20231106-02<br>通道 ORA_DISK_1: 正在从 AUTOBACKUP c-2324166520-20231106-02 还原 spfile<br>通道 ORA_DISK_1: 从 AUTOBACKUP 还原 SPFILE 已完成<br>完成 restore 于 09-11月-23<br>**********************<br><br><br>copy D:\spfiletemp.ora D:\app\wtscrystal\product\12.1.0\dbhome_1\dbs\spfileeuphy.ora<br>3.CDBPDB恢复<br>1. 恢复根容器<br>恢复步骤（如果是只有数据文件有问题可以用以下的指令进行）<br>startup mount; //可能需要: shutdown immediate;<br>Restore database root; //sure<br>recover database root;<br>alter database open;<br><br>2. 恢复种子容器<br>如果种子容器丢失，仍能成功打开数据库，控制台及alert日志都不会显示错误信息，<br>但可以通过v$recover_file发现是否丢了数据文件，也可以在show pdbs时看到PDB$SEED状态变成了mounted。<br><br>恢复步骤：<br>Restore pluggable database “PDB$SEED”;<br>Recover pluggable database “PDB$SEED”;<br>-- these next commands can be run later<br>Shutdown immediate;<br>startup<br><br>3. 恢复PDB<br>Rman支持一次恢复一个或多个pdb，恢复过程中不需停止其他pdb。<br><br>1）完整恢复PDB<br><br>要还原一个完整的pdb，首先必须关闭该pdb；若是恢复表空间或数据文件，可以不关闭。<br><br>下面这个例子一次恢复两个pdb：<br>rman target=/<br>alter pluggable database testpdb,tplug close;<br>restore pluggable database testpdb,tplug;<br>recover pluggable database testpdb,tplug;<br>alter pluggable database testpdb,tplug open;<br><br>也可以连接到pdb进行操作：<br>rman target=sys/sys@pdb1<br>SHUTDOWN IMMEDIATE;<br>RESTORE DATABASE;<br>RECOVER DATABASE;<br>STARTUP;<br><br>2）恢复PDB表空间<br>rman target sys/sys@PDB-TNSNAME<br>-- 其实跟恢复普通表空间是一样的<br>Alter tablespace users offline;<br>Alter tablespace data offline;<br>Restore tablespace users,data;<br>Recover tablespace users,data;<br>Alter tablespace users online;<br>Alter tablespace data online;<br><br>3）恢复PDB数据文件<br>rman target sys/sys@PDB-TNSNAME<br>-- 其实跟恢复普通数据文件是一样的<br>Alter database datafile 6 offline;<br>Alter database datafile '/u01/app/user01.dbf' offline;<br>Restore datafile 6;<br>Restore datafile '/u01/app/user01.dbf';<br>Recover datafile 6;<br>Recover datafile '/u01/app/user01.dbf';<br>Alter database datafile 6 online;<br>Alter database datafile '/u01/app/user01.dbf' online;<br><br><br><br><br></pre>
    <pre><span class="markedContent" id="page885R_mcid0"><span class="markedContent" id="page885R_mcid0"><span style="left:
254.402px; top: 853.548px; font-size: 17.5px; font-family:
serif;" role="presentation" dir="ltr"></span></span></span></pre>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> <br>
          <br>
          <br>
          RMAN基本指令操作:<br>
          RMAN&gt;report schema;&nbsp; //</span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr">查看一些数据库信息</span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> <br>
          <br>
        </span></span></span><span class="markedContent"
      id="page885R_mcid0"><span class="markedContent"
        id="page885R_mcid0"><span style="left: 254.402px; top:
          853.548px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"><span class="markedContent"
            id="page885R_mcid0"><span class="markedContent"
              id="page885R_mcid0"><span style="left: 254.402px; top:
                853.548px; font-size: 17.5px; font-family: serif;"
                role="presentation" dir="ltr">RMAN&gt;</span></span></span>list







backup;&nbsp;



          //</span></span></span><span class="markedContent"
      id="page885R_mcid0"><span class="markedContent"
        id="page885R_mcid0"><span style="left: 254.402px; top:
          853.548px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr">查看备份信息</span></span></span><span
      class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> <br>
          &nbsp;恢复目录的备份<br>
          RMAN<br>
          <br>
          exp/export<br>
          <br>
          进入备份<br>
          rman target /<br>
          <br>
          全备<br>
        </span></span></span><span class="markedContent"
      id="page885R_mcid0"><span class="markedContent"
        id="page885R_mcid0"><span style="left: 254.402px; top:
          853.548px; font-size: 17.5px; font-family: serif;"
          role="presentation" dir="ltr"><span class="markedContent"
            id="page885R_mcid0"><span class="markedContent"
              id="page885R_mcid0"><span style="left: 254.402px; top:
                853.548px; font-size: 17.5px; font-family: serif;"
                role="presentation" dir="ltr"><span
                  class="markedContent" id="page885R_mcid0"><span
                    class="markedContent" id="page885R_mcid0"><span
                      style="left: 254.402px; top: 853.548px; font-size:
                      17.5px; font-family: serif;" role="presentation"
                      dir="ltr">RMAN&gt;</span></span></span></span></span></span>backup



          database;<br>
        </span></span></span><br>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"><span
            class="markedContent" id="page885R_mcid0"><span
              class="markedContent" id="page885R_mcid0"><span
                style="left: 254.402px; top: 853.548px; font-size:
                17.5px; font-family: serif;" role="presentation"
                dir="ltr"><span class="markedContent"
                  id="page885R_mcid0"><span class="markedContent"
                    id="page885R_mcid0"><span style="left: 254.402px;
                      top: 853.548px; font-size: 17.5px; font-family:
                      serif;" role="presentation" dir="ltr"><span
                        class="markedContent" id="page885R_mcid0"><span
                          class="markedContent" id="page885R_mcid0"><span
                            style="left: 254.402px; top: 853.548px;
                            font-size: 17.5px; font-family: serif;"
                            role="presentation" dir="ltr">RMAN&gt;</span></span></span></span></span></span>backup



                database_root;</span></span></span> <br>
          <br>
          <br>
          <br>
          <br>
        </span></span></span>
    <h3><span class="markedContent" id="page885R_mcid0"><span
          class="markedContent" id="page885R_mcid0"><span style="left:
            254.402px; top: 853.548px; font-size: 17.5px; font-family:
            serif;" role="presentation" dir="ltr"> 如何用Oracle SQL
            Developer进行Oracle表数据备份（备份oracle表数据）</span></span></span></h3>
    <h3><span class="markedContent" id="page885R_mcid0"><span
          class="markedContent" id="page885R_mcid0"><span style="left:
            254.402px; top: 853.548px; font-size: 17.5px; font-family:
            serif;" role="presentation" dir="ltr"></span></span></span></h3>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"> Oracle SQL
          Developer是一款功能强大的Oracle数据库管理和开发工具，可帮助用户在Oracle数据库中完成数据存储、报表处理、
          查询分析等各种工作。<br>
          <br>
          使用Oracle SQL Developer进行Oracle表数据备份。<br>
          <br>
          1. 需要确保Oracle SQL Developer已经正确地安装并部署了所有的任务。登录Oracle SQL
          Developer，你可以看到Oracle的Object
          explorer菜单，此时正打开你的数据库中当前的表。导航到表所在的目录，然后单击要备份的表，右键点击，选择“export
          data”。<br>
          <br>
          2. 在这个窗口中，你需要选择表的备份格式，你可以把表数据备份成csv文件、ASCII文件或其他BOH文件格式，取决于你未
          来需要使用这些备份数据的方式。<br>
          比如，如果你要把表备份到数据库中，你就需要选择SQL格式；如果你要把备份数据导出到excel，你就可以选择CSV格式。<br>
          <br>
          点击“Browse”来选择存放备份数据的目录，然后点击“next”。<br>
          接下来，将出现一个窗口，这个窗口可以帮助你编辑数据备份，比如你可以设置要导出的字段、数据格式、字符编码、查询条件等等。<br>
          <br>
          3 在“execute”按钮上点击一下，系统即可开始生成表备份数据，当生成完毕后，你可以在你指定的存放备份数据的目录中获得
          你要的表备份数据。<br>
          <br>
          以上就是如何使用Oracle SQL
          Developer进行Oracle表数据备份的主要步骤，这是一种实用的备份方法，可以有效保护Oracle数据库中的数据，为用
          户提供完善的安全性。<br>
          <br>
          <br>
          <br>
          <br>
          <br>
          <br>
          <br>
          <br>
          <br>
          <br>
          <br>
          <br>
          <br>
          <br>
        </span></span></span><br>
    <p>RMAN在数据库服务器的帮助下实现数据库文件、控制文件、数据库文件与控制文件的映像副本、归档日志文件、数据库服务器参数文件的备份。</p>
    <p>　　RMAN的特点：</p>
    <p>(1)
      支持增量备份：传统的exp与expdp备份工具，只能实现一个完整备份而不能增量备份，RMAN采用备份级别实现增量备份，在一个完整的备
      份基础上采用 增量备份可以大大减少备份的数量；</p>
    <p>(2) 自动管理备份文件：RMAN备份的数据是RMAN自动管理的，包括文件名字，备份文件存储目录等；</p>
    <p>(3) 自动化备份与恢复：在备份与恢复操作时，使用简单的指令就可以实现备份与恢复，执行过程完全有RMAN维护。</p>
    <p>(4) 不产生重做信息： RMAN联机备份不产生重做信息。</p>
    <p>(5) 支持映像复制： 使用RMAN可以实现映像复制，映像以操作系统的文件格式存在，这种复制类似于用户管理的脱机备份方式。</p>
    <p>(6) 备份的数据文件压缩处理：
      RMAN提供一个参数，说明是否对备份文件进行压缩，压缩的备份文件以二进制文件格式存在，可以减少备份文件的存储空间。</p>
    <p>(7) 备份文件有效性检查功能： 可以在备份之后恢复检测备份文件是否可用，避免无效恢复操作。</p>
    <p>1 RMAN 脱机备份与还原</p>
    <p>1.1 使用RMAN命令连接到数据库</p>
    <p>[oracle@oracledb ~]$ rman target/</p>
    <p>Recovery Manager: Release 11.2.0.1.0 - Production on Tue May 30
      14:33:04 2017</p>
    <p>Copyright (c) 1982, 2009, Oracle and/or its affiliates. All
      rights reserved.</p>
    <p>connected to target database: ORCL (DBID=1452257309)</p>
    <p>1.2 脱机备份之前确定数据库处于非归档模式下，使用<strong>管理员账号</strong>登录到数据库查看</p>
    <p>SQL&gt; archive log list;<br>
      Database log mode No Archive Mode<br>
      Automatic archival Disabled<br>
      Archive destination USE_DB_RECOVERY_FILE_DEST<br>
      Oldest online log sequence 1<br>
      Current log sequence</p>
    <p>1.3 脱机备份时数据必须处于<strong>mount</strong>状态下，关机启动数据库到mount状态下</p>
    <p>SQL&gt; shutdown immediate<br>
      Database closed.<br>
      Database dismounted.<br>
      ORACLE instance shut down.<br>
      SQL&gt; startup mount<br>
      ORACLE instance started.</p>
    <p>Total System Global Area 450953216 bytes<br>
      Fixed Size 2214256 bytes<br>
      Variable Size 339740304 bytes<br>
      Database Buffers 104857600 bytes<br>
      Redo Buffers 4141056 bytes<br>
      Database mounted.</p>
    <p>1.4 RMAN模式下输入脱机备份命令，系统会自动备份整个数据库到默认的目录下</p>
    <p>RMAN&gt; backup as compressed backupset database;</p>
    <p>Starting backup at 30-MAY-17<br>
      using channel ORA_DISK_1<br>
      channel ORA_DISK_1: starting compressed full datafile backup set<br>
      channel ORA_DISK_1: specifying datafile(s) in backup set<br>
      input datafile file number=00005
      name=/usr/oracle/app/oradata/orcl/CTRR_DATA.dbf<br>
      input datafile file number=00007
      name=/home/oracle/data/CTRR_DATA_1.dbf<br>
      channel ORA_DISK_1: starting piece 1 at 30-MAY-17<br>
      channel ORA_DISK_1: finished piece 1 at 30-MAY-17<br>
      piece
      handle=/usr/oracle/app/flash_recovery_area/ORCL/backupset/2017_05_30/o1_mf_nnndf_TAG20170530T105100_dlsqjoft_.bkp






tag=TAG20170530T105100



      comment=NONE<br>
      channel ORA_DISK_1: backup set complete, elapsed time: 00:01:26<br>
      channel ORA_DISK_1: starting compressed full datafile backup set<br>
      channel ORA_DISK_1: specifying datafile(s) in backup set<br>
      input datafile file number=00009
      name=/home/oracle/data/rman_ts1.dbf<br>
      input datafile file number=00006
      name=/usr/oracle/app/oradata/orcl/APSALU3_DATA.dbf<br>
      channel ORA_DISK_1: starting piece 1 at 30-MAY-17<br>
      channel ORA_DISK_1: finished piece 1 at 30-MAY-17<br>
      piece
      handle=/usr/oracle/app/flash_recovery_area/ORCL/backupset/2017_05_30/o1_mf_nnndf_TAG20170530T105100_dlsqmdbx_.bkp






tag=TAG20170530T105100



      comment=NONE<br>
      channel ORA_DISK_1: backup set complete, elapsed time: 00:00:01<br>
      channel ORA_DISK_1: starting compressed full datafile backup set<br>
      channel ORA_DISK_1: specifying datafile(s) in backup set<br>
      input datafile file number=00001
      name=/usr/oracle/app/oradata/orcl/system01.dbf<br>
      input datafile file number=00004
      name=/usr/oracle/app/oradata/orcl/users01.dbf<br>
      input datafile file number=00008
      name=/home/oracle/data/default_tablespace.dbf<br>
      input datafile file number=00003
      name=/usr/oracle/app/oradata/orcl/undotbs01.dbf<br>
      input datafile file number=00002
      name=/usr/oracle/app/oradata/orcl/sysaux01.dbf<br>
      channel ORA_DISK_1: starting piece 1 at 30-MAY-17<br>
      channel ORA_DISK_1: finished piece 1 at 30-MAY-17<br>
      piece
      handle=/usr/oracle/app/flash_recovery_area/ORCL/backupset/2017_05_30/o1_mf_nnndf_TAG20170530T105100_dlsqmfgv_.bkp






tag=TAG20170530T105100



      comment=NONE<br>
      channel ORA_DISK_1: backup set complete, elapsed time: 00:01:26<br>
      Finished backup at 30-MAY-17</p>
    <p>Starting Control File and SPFILE Autobackup at 30-MAY-17<br>
      piece
      handle=/usr/oracle/app/flash_recovery_area/ORCL/autobackup/2017_05_30/o1_mf_s_945338539_dlsqp4yv_.bkp



      comment=NONE<br>
      Finished Control File and SPFILE Autobackup at 30-MAY-17</p>
    <p>以上备份信息可以看出，RMAN将数据文件备份在目录/usr/oracle/app/flash_recovery_area/ORCL
      /backupset/下，将控制文件与服务器参数文件备份在/usr/oracle/app/flash_recovery_area
      /ORCL/autobackup/下。这里需要注意如果想要RMAN在整库备份时自动备份控制文件与服务器参数文件，需要设置参数</p>
    <p>configure controlfile autobackup的值为on：&nbsp;configure controlfile
      autobackup on;</p>
    <p>RMAN&gt; configure controlfile autobackup on;</p>
    <p>new RMAN configuration parameters:<br>
      CONFIGURE CONTROLFILE AUTOBACKUP ON;<br>
      new RMAN configuration parameters are successfully stored</p>
    <p>此时使用RMAN完成了整个数据库的脱机备份。</p>
    <p>备份完成之后用scott用户创建一个测试表，插入一条数据，等恢复完成之后看这个表是否还存在。</p>
    <p>create table t_test1(id number, name varchar2(50));</p>
    <p>insert into t_test1(id, name)<br>
      values(1,'latiny1');</p>
    <p>commit;</p>
    <p>非归档模式下实现脱机备份恢复</p>
    <p>为了测试利用脱机备份文件完全恢复数据库，我们删除部分数据文件、全部控制文件模拟数据库文件丢失，然后进行恢复。</p>
    <p>[root@oracledb orcl]# ls -l<br>
      total 4867456<br>
      -rw-r----- 1 oracle oinstall 524296192 May 30 12:12
      APSALU3_DATA.dbf<br>
      -rw-r----- 1 oracle oinstall 9748480 May 30 14:48 control01.ctl<br>
      -rw-r----- 1 oracle oinstall 2147491840 May 30 12:12 CTRR_DATA.dbf<br>
      -rwxrwxr-x 1 oracle oinstall 52429312 May 30 14:48 redo01.log<br>
      -rwxrwxr-x 1 oracle oinstall 52429312 May 30 12:12 redo02.log<br>
      -rwxrwxr-x 1 oracle oinstall 52429312 May 30 12:12 redo03.log<br>
      -rwxrwxr-x 1 oracle oinstall 660611072 May 30 14:48 sysaux01.dbf<br>
      -rwxrwxr-x 1 oracle oinstall 754982912 May 30 14:48 system01.dbf<br>
      -rw-r----- 1 oracle oinstall 20979712 Mar 23 10:52 temp01.dbf<br>
      -rwxrwxr-x 1 oracle oinstall 723525632 May 30 14:48 undotbs01.dbf<br>
      -rw-r----- 1 oracle oinstall 5251072 May 30 12:12 users01.dbf</p>
    <p>&nbsp;首先关闭数据库，然后删除users01.dbf、CTRR_DATA.dbf、control01.ctl、
      APSALU3_DATA.dbf，然后启动数据库：</p>
    <p>SQL&gt; shutdown immediate;<br>
      Database closed.<br>
      Database dismounted.<br>
      ORACLE instance shut down.<br>
      SQL&gt; startup mount;<br>
      ORACLE instance started.</p>
    <p>Total System Global Area 450953216 bytes<br>
      Fixed Size 2214256 bytes<br>
      Variable Size 339740304 bytes<br>
      Database Buffers 104857600 bytes<br>
      Redo Buffers 4141056 bytes<br>
      ORA-00205: error in identifying control file, check alert log for
      more info</p>
    <p>由于控制文件丢失，数据库无法启动到mount状态，先恢复控制文件再启动，恢复控制文件需要指定控制文件对应的备份文件路劲，之前的备份
      信息里可以获取得到：</p>
    <p>RMAN&gt; restore controlfile from
'/usr/oracle/app/flash_recovery_area/ORCL/autobackup/2017_05_30/o1_mf_s_945338539_dlsqp4yv_.bkp';</p>
    <p>Starting restore at 30-MAY-17<br>
      using target database control file instead of recovery catalog<br>
      allocated channel: ORA_DISK_1<br>
      channel ORA_DISK_1: SID=20 device type=DISK</p>
    <p>channel ORA_DISK_1: restoring control file<br>
      channel ORA_DISK_1: restore complete, elapsed time: 00:00:01<br>
      output file name=/usr/oracle/app/oradata/orcl/control01.ctl<br>
      output file
      name=/usr/oracle/app/flash_recovery_area/orcl/control02.ctl<br>
      Finished restore at 30-MAY-17</p>
    <p>控制文件恢复成功之后启动数据库到mount状态：</p>
    <p>SQL&gt; alter database mount;</p>
    <p>Database altered.</p>
    <p>启动到mount状态之后，在RMAN模式下恢复数据文件：</p>
    <p>RMAN&gt; restore database;</p>
    <p>Starting restore at 30-MAY-17<br>
      released channel: ORA_DISK_1<br>
      Starting implicit crosscheck backup at 30-MAY-17<br>
      allocated channel: ORA_DISK_1<br>
      channel ORA_DISK_1: SID=20 device type=DISK<br>
      Crosschecked 11 objects<br>
      Finished implicit crosscheck backup at 30-MAY-17</p>
    <p>Starting implicit crosscheck copy at 30-MAY-17<br>
      using channel ORA_DISK_1<br>
      Finished implicit crosscheck copy at 30-MAY-17</p>
    <p>searching for all files in the recovery area<br>
      cataloging files...<br>
      cataloging done</p>
    <p>List of Cataloged Files<br>
      =======================<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/autobackup/2017_05_30/o1_mf_s_945338539_dlsqp4yv_.bkp</p>
    <p>using channel ORA_DISK_1</p>
    <p>channel ORA_DISK_1: starting datafile backup set restore<br>
      channel ORA_DISK_1: specifying datafile(s) to restore from backup
      set<br>
      channel ORA_DISK_1: restoring datafile 00005 to
      /usr/oracle/app/oradata/orcl/CTRR_DATA.dbf<br>
      channel ORA_DISK_1: restoring datafile 00007 to
      /home/oracle/data/CTRR_DATA_1.dbf<br>
      channel ORA_DISK_1: reading from backup piece
/usr/oracle/app/flash_recovery_area/ORCL/backupset/2017_05_30/o1_mf_nnndf_TAG20170530T105100_dlsqjoft_.bkp<br>
      channel ORA_DISK_1: ORA-19870: error while restoring backup piece
/usr/oracle/app/flash_recovery_area/ORCL/backupset/2017_05_30/o1_mf_nnndf_TAG20170530T105100_dlsqjoft_.bkp<br>
      ORA-19502: write error on file
      "/usr/oracle/app/oradata/orcl/CTRR_DATA.dbf", block number 216192
      (block size=8192)<br>
      ORA-27072: File I/O error<br>
      Linux-x86_64 Error: 25: Inappropriate ioctl for device<br>
      Additional information: 4<br>
      Additional information: 216192<br>
      Additional information: 6963<br>
      channel ORA_DISK_1: starting datafile backup set restore<br>
      channel ORA_DISK_1: specifying datafile(s) to restore from backup
      set<br>
      channel ORA_DISK_1: restoring datafile 00006 to
      /usr/oracle/app/oradata/orcl/APSALU3_DATA.dbf<br>
      channel ORA_DISK_1: restoring datafile 00009 to
      /home/oracle/data/rman_ts1.dbf<br>
      channel ORA_DISK_1: reading from backup piece
/usr/oracle/app/flash_recovery_area/ORCL/backupset/2017_05_30/o1_mf_nnndf_TAG20170530T105100_dlsqmdbx_.bkp<br>
      channel ORA_DISK_1: piece
      handle=/usr/oracle/app/flash_recovery_area/ORCL/backupset/2017_05_30/o1_mf_nnndf_TAG20170530T105100_dlsqmdbx_.bkp



      tag=TAG20170530T105100<br>
      channel ORA_DISK_1: restored backup piece 1<br>
      channel ORA_DISK_1: restore complete, elapsed time: 00:01:25<br>
      channel ORA_DISK_1: starting datafile backup set restore<br>
      channel ORA_DISK_1: specifying datafile(s) to restore from backup
      set<br>
      channel ORA_DISK_1: restoring datafile 00001 to
      /usr/oracle/app/oradata/orcl/system01.dbf<br>
      channel ORA_DISK_1: restoring datafile 00002 to
      /usr/oracle/app/oradata/orcl/sysaux01.dbf<br>
      channel ORA_DISK_1: restoring datafile 00003 to
      /usr/oracle/app/oradata/orcl/undotbs01.dbf<br>
      channel ORA_DISK_1: restoring datafile 00004 to
      /usr/oracle/app/oradata/orcl/users01.dbf<br>
      channel ORA_DISK_1: restoring datafile 00008 to
      /home/oracle/data/default_tablespace.dbf<br>
      channel ORA_DISK_1: reading from backup piece
/usr/oracle/app/flash_recovery_area/ORCL/backupset/2017_05_30/o1_mf_nnndf_TAG20170530T105100_dlsqmfgv_.bkp<br>
      channel ORA_DISK_1: piece
      handle=/usr/oracle/app/flash_recovery_area/ORCL/backupset/2017_05_30/o1_mf_nnndf_TAG20170530T105100_dlsqmfgv_.bkp



      tag=TAG20170530T105100<br>
      channel ORA_DISK_1: restored backup piece 1<br>
      channel ORA_DISK_1: restore complete, elapsed time: 00:02:25<br>
      failover to previous backup</p>
    <p>creating datafile file number=5
      name=/usr/oracle/app/oradata/orcl/CTRR_DATA.dbf<br>
      Finished restore at 30-MAY-17</p>
    <p>&nbsp;　　其他文件正常恢复，CTRR_DATA.dbf数据文件时遇到错误：</p>
    <p>ORA-19502: write error on file
      "/usr/oracle/app/oradata/orcl/CTRR_DATA.dbf", block number 216192
      (block size=8192)<br>
      ORA-27072: File I/O error<br>
      Linux-x86_64 Error: 25: Inappropriate ioctl for device</p>
    <p>查了一下错误原因，发现因为此数据文件较大恢复时导致磁盘空间不足引起的，于是删除一些文件释放磁盘重新执行命令恢复成功：</p>
    <p>RMAN&gt; restore database;</p>
    <p>Starting restore at 30-MAY-17<br>
      using target database control file instead of recovery catalog<br>
      allocated channel: ORA_DISK_1<br>
      channel ORA_DISK_1: SID=20 device type=DISK</p>
    <p>skipping datafile 1; already restored to file
      /usr/oracle/app/oradata/orcl/system01.dbf<br>
      skipping datafile 2; already restored to file
      /usr/oracle/app/oradata/orcl/sysaux01.dbf<br>
      skipping datafile 3; already restored to file
      /usr/oracle/app/oradata/orcl/undotbs01.dbf<br>
      skipping datafile 4; already restored to file
      /usr/oracle/app/oradata/orcl/users01.dbf<br>
      skipping datafile 8; already restored to file
      /home/oracle/data/default_tablespace.dbf<br>
      skipping datafile 7; already restored to file
      /home/oracle/data/CTRR_DATA_1.dbf<br>
      skipping datafile 6; already restored to file
      /usr/oracle/app/oradata/orcl/APSALU3_DATA.dbf<br>
      skipping datafile 9; already restored to file
      /home/oracle/data/rman_ts1.dbf<br>
      channel ORA_DISK_1: starting datafile backup set restore<br>
      channel ORA_DISK_1: specifying datafile(s) to restore from backup
      set<br>
      channel ORA_DISK_1: restoring datafile 00005 to
      /usr/oracle/app/oradata/orcl/CTRR_DATA.dbf<br>
      channel ORA_DISK_1: reading from backup piece
/usr/oracle/app/flash_recovery_area/ORCL/backupset/2017_05_30/o1_mf_nnndf_TAG20170530T105100_dlsqjoft_.bkp<br>
      channel ORA_DISK_1: piece
      handle=/usr/oracle/app/flash_recovery_area/ORCL/backupset/2017_05_30/o1_mf_nnndf_TAG20170530T105100_dlsqjoft_.bkp



      tag=TAG20170530T105100<br>
      channel ORA_DISK_1: restored backup piece 1<br>
      channel ORA_DISK_1: restore complete, elapsed time: 00:02:26<br>
      Finished restore at 30-MAY-17</p>
    <p>　　然后去之前存放数据文件、控制文件的目录下看一下文件是否都恢复成功：</p>
    <p>[root@oracledb orcl]# ls -l<br>
      total 4867456<br>
      -rw-r----- 1 oracle oinstall 524296192 May 30 12:12
      APSALU3_DATA.dbf<br>
      -rw-r----- 1 oracle oinstall 9748480 May 30 14:48 control01.ctl<br>
      -rw-r----- 1 oracle oinstall 2147491840 May 30 12:12 CTRR_DATA.dbf<br>
      -rwxrwxr-x 1 oracle oinstall 52429312 May 30 14:48 redo01.log<br>
      -rwxrwxr-x 1 oracle oinstall 52429312 May 30 12:12 redo02.log<br>
      -rwxrwxr-x 1 oracle oinstall 52429312 May 30 12:12 redo03.log<br>
      -rwxrwxr-x 1 oracle oinstall 660611072 May 30 14:48 sysaux01.dbf<br>
      -rwxrwxr-x 1 oracle oinstall 754982912 May 30 14:48 system01.dbf<br>
      -rw-r----- 1 oracle oinstall 20979712 Mar 23 10:52 temp01.dbf<br>
      -rwxrwxr-x 1 oracle oinstall 723525632 May 30 14:48 undotbs01.dbf<br>
      -rw-r----- 1 oracle oinstall 5251072 May 30 12:12 users01.dbf</p>
    <p>　　使用recover 命令恢复数据库，由于是脱机备份恢复不使用重做日志恢复模式：</p>
    <p>RMAN&gt; recover database noredo;</p>
    <p>Starting recover at 30-MAY-17<br>
      using channel ORA_DISK_1</p>
    <p>Finished recover at 30-MAY-17</p>
    <p>　　然后打开数据库到open状态：</p>
    <p>SQL&gt; alter database open resetlogs;</p>
    <p>Database altered.</p>
    <p>查看备份之后scott用户创建的表，已经不存在了，自备份之后的数据全部丢失。</p>
    <p><strong>2
        脱机备份之后，对于RMAN备份有了初步的了解，相对于传统的用户手动管理备份文件，RMAN备份操作起来相对要简单方便的多，但是联机
        备份相对脱机备份 操作要复杂，需要掌握的地方稍微多些。</strong></p>
    <p>2.1 RMAN 的配置参数</p>
    <p>RMAN&gt; show all;</p>
    <p>using target database control file instead of recovery catalog<br>
      RMAN configuration parameters for database with db_unique_name
      ORCL are:<br>
      CONFIGURE RETENTION POLICY TO REDUNDANCY 1; # default<br>
      CONFIGURE BACKUP OPTIMIZATION OFF; # default<br>
      CONFIGURE DEFAULT DEVICE TYPE TO DISK; # default<br>
      CONFIGURE CONTROLFILE AUTOBACKUP ON;<br>
      CONFIGURE CONTROLFILE AUTOBACKUP FORMAT FOR DEVICE TYPE DISK TO
      '%F'; # default<br>
      CONFIGURE DEVICE TYPE DISK PARALLELISM 1 BACKUP TYPE TO BACKUPSET;
      # default<br>
      CONFIGURE DATAFILE BACKUP COPIES FOR DEVICE TYPE DISK TO 1; #
      default<br>
      CONFIGURE ARCHIVELOG BACKUP COPIES FOR DEVICE TYPE DISK TO 1; #
      default<br>
      CONFIGURE MAXSETSIZE TO UNLIMITED; # default<br>
      CONFIGURE ENCRYPTION FOR DATABASE OFF; # default<br>
      CONFIGURE ENCRYPTION ALGORITHM 'AES128'; # default<br>
      CONFIGURE COMPRESSION ALGORITHM 'BASIC' AS OF RELEASE 'DEFAULT'
      OPTIMIZE FOR LOAD TRUE ; # default<br>
      CONFIGURE ARCHIVELOG DELETION POLICY TO NONE; # default<br>
      CONFIGURE SNAPSHOT CONTROLFILE NAME TO
      '/usr/oracle/app/product/11.2.0/dbhome_1/dbs/snapcf_orcl.f'; #
      default</p>
    <p>CONFIGURE RETENTION POLICY TO REDUNDANCY 1：
      该参数说明保留备份文件的副本数量，如果每天都备份一个数据文件，参数1说明只保留一个该数据文件的副本，并且保留最新的副本。</p>
    <p>CONFIGURE DEFAULT DEVICE TYPE TO DISK：
      该配置参数说明备份的数据文件默认备份到数据库服务器的磁盘上，该参数可以更改为备份到磁带上。&nbsp;</p>
    <p>CONFIGURE BACKUP OPTIMIZATION
      OFF：默认值为关闭，如果打开，rman将对备份的数据文件及归档等文件进行一种优化的算法。</p>
    <p>CONFIGURE CONTROLFILE AUTOBACKUP
      ON：默认值为关闭，强制数据库在备份文件或者执行改变数据库结构的命令之后将控制文件自动备份。</p>
    <p>CONFIGURE DEVICE TYPE DISK PARALLELISM 1 BACKUP TYPE TO
      BACKUPSET:&nbsp;配置数据库设备类型的并行度，并行的数目决定了开启通道的个数。</p>
    <p>CONFIGURE CONTROLFILE AUTOBACKUP FORMAT FOR DEVICE TYPE DISK TO
      '%F'：配置控制文件的备份片的路径和格式，比如：configure controlfile autobackup format
      for device type disk to 'e:\backupcontrol\%F';</p>
    <p>2.2 快闪恢复区</p>
    <p>使用RMAN联机备份前，必须先设置快闪恢复区，将DB_RECOVERY_FILE_DEST参数指定的目录作为归档重做日志备份的默认
      路劲，并且快闪恢复区的尺寸设置足够大。</p>
    <p>SQL&gt; show parameter db_recovery_file_dest;</p>
    <p>NAME TYPE VALUE<br>
      ------------------------------------ -----------
      ------------------------------<br>
      db_recovery_file_dest string /usr/oracle/app/flash_recovery<br>
      _area<br>
      db_recovery_file_dest_size big integer 3882M</p>
    <p>2.3 归档模式</p>
    <p>RMAN联机备份需要数据库处于归档模式，关闭数据库，启动到mount状态，修改数据为归档模式</p>
    <p>SQL&gt; alter database archivelog;</p>
    <p>Database altered.</p>
    <p>SQL&gt; archive log list;<br>
      Database log mode Archive Mode<br>
      Automatic archival Enabled<br>
      Archive destination USE_DB_RECOVERY_FILE_DEST<br>
      Oldest online log sequence 1<br>
      Next log sequence to archive 1<br>
      Current log sequence 1<br>
      SQL&gt; alter database open;</p>
    <p>Database altered.</p>
    <p>SQL&gt;</p>
    <p>2.4 恢复目录</p>
    <p>恢复目录是RMAN专用的备份信息存储地，没有恢复目录时，RMAN相关的备份信息，比如归档文件路径、备份集路径等均存储在目标数据库的
      控制文件中，考虑到控制文件并不能无限增长，而且控制文件也不仅仅是用来存储与备份相关的信息，当待备份的数据库注册到恢复目录之
      后，RMAN相关的信息除了保存在控制文件中外（控制文件实际上只保存一部分），更加详细的信息就都被存储在恢复目录中。</p>
    <p>(1) 恢复目录创建过程，管理员账户登录到数据库</p>
    <p>create tablespace rman_ts datafile
      '/home/oracle/data/rman_ts1.dbf'<br>
      size 2G<br>
      autoextend on next 500M<br>
      maxsize 6G;</p>
    <p>create user rman_reuser identified by 123456<br>
      default tablespace rman_ts<br>
      temporary tablespace temp02;</p>
    <p>grant connect, resource, recovery_catalog_owner to rman_reuser;</p>
    <p>创建完表空间与用户之后，登录到RMAN模式下创建恢复目录rman_ts，注意名字与表空间一样</p>
    <p>RMAN&gt;create catalog tablespace rman_ts;</p>
    <p>注册数据库</p>
    <p>RMAN&gt;register database;</p>
    <p>备份信息是否记入CATALOG取决于执行RMAN操作时是否连接到了CATALOG，也就是说，即使目标数据库已经注册到恢复目录中，但
      连接时没有以CATALOG模式连接，则备份信息仍然是只存入目标端数据库的控制文件，相当于NOCATALOG模式。</p>
    <p>使用CATALOG模式连接RMAN：</p>
    <p>[oracle@oracledb ~]$ rman target/ catalog rman_reuser/XXXXXX;</p>
    <p>Recovery Manager: Release 11.2.0.1.0 - Production on Tue May 30
      17:53:46 2017</p>
    <p>Copyright (c) 1982, 2009, Oracle and/or its affiliates. All
      rights reserved.</p>
    <p>connected to target database: ORCL (DBID=1452257309)<br>
      connected to recovery catalog database</p>
    <p>设置备份文件保存路劲：/home/oracle/oradata/backup</p>
    <p>RMAN&gt; configure channel device type disk format
      '/home/oracle/oradata/backup/data_%d_%M_%U';</p>
    <p>old RMAN configuration parameters:<br>
      CONFIGURE CHANNEL DEVICE TYPE DISK FORMAT
      '/home/oracle/oradata/backup/%d_%M_%D';<br>
      new RMAN configuration parameters:<br>
      CONFIGURE CHANNEL DEVICE TYPE DISK FORMAT
      '/home/oracle/oradata/backup/data_%d_%M_%U';<br>
      new RMAN configuration parameters are successfully stored<br>
      starting full resync of recovery catalog<br>
      full resync complete</p>
    <p>设置控制文件默认的存放位置：/home/oracle/oradata/backup/</p>
    <p>RMAN&gt; configure controlfile autobackup format for device type
      disk to '/home/oracle/oradata/backup/ctl_%d_%M_%F';</p>
    <p>new RMAN configuration parameters:<br>
      CONFIGURE CONTROLFILE AUTOBACKUP FORMAT FOR DEVICE TYPE DISK TO
      '/home/oracle/oradata/backup/ctl_%d_%M_%F';<br>
      new RMAN configuration parameters are successfully stored<br>
      starting full resync of recovery catalog<br>
      full resync complete</p>
    <p>到此联机备份准备工作完成。</p>
    <p>3 联机备份与恢复</p>
    <p>&nbsp;　　3.1 联机备份整个数据库</p>
    <p>　　默认备份，不显示指定任何参数</p>
    <p>RMAN&gt; backup as compressed backupset database plus archivelog
      delete all input;</p>
    <p>Starting backup at 30-MAY-17<br>
      current log archived<br>
      allocated channel: ORA_DISK_1<br>
      channel ORA_DISK_1: SID=45 device type=DISK<br>
      allocated channel: ORA_DISK_2<br>
      channel ORA_DISK_2: SID=41 device type=DISK<br>
      allocated channel: ORA_DISK_3<br>
      channel ORA_DISK_3: SID=44 device type=DISK<br>
      channel ORA_DISK_1: starting compressed archived log backup set<br>
      channel ORA_DISK_1: specifying archived log(s) in backup set<br>
      input archived log thread=1 sequence=1 RECID=7 STAMP=945368451<br>
      channel ORA_DISK_1: starting piece 1 at 30-MAY-17<br>
      channel ORA_DISK_1: finished piece 1 at 30-MAY-17<br>
      piece handle=/home/oracle/oradata/backup/0es5ibcf_1_1_ORCL
      tag=TAG20170530T182102 comment=NONE<br>
      channel ORA_DISK_1: backup set complete, elapsed time: 00:00:25<br>
      channel ORA_DISK_1: deleting archived log(s)<br>
      archived log file
      name=/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_05_30/o1_mf_1_1_dltktmly_.arc






RECID=7



      STAMP=945368451<br>
      Finished backup at 30-MAY-17</p>
    <p>Starting backup at 30-MAY-17<br>
      using channel ORA_DISK_1<br>
      using channel ORA_DISK_2<br>
      using channel ORA_DISK_3<br>
      channel ORA_DISK_1: starting compressed full datafile backup set<br>
      channel ORA_DISK_1: specifying datafile(s) in backup set<br>
      input datafile file number=00005
      name=/usr/oracle/app/oradata/orcl/CTRR_DATA.dbf<br>
      input datafile file number=00007
      name=/home/oracle/data/CTRR_DATA_1.dbf<br>
      channel ORA_DISK_1: starting piece 1 at 30-MAY-17<br>
      channel ORA_DISK_2: starting compressed full datafile backup set<br>
      channel ORA_DISK_2: specifying datafile(s) in backup set<br>
      input datafile file number=00009
      name=/home/oracle/data/rman_ts1.dbf<br>
      input datafile file number=00003
      name=/usr/oracle/app/oradata/orcl/undotbs01.dbf<br>
      input datafile file number=00002
      name=/usr/oracle/app/oradata/orcl/sysaux01.dbf<br>
      channel ORA_DISK_2: starting piece 1 at 30-MAY-17<br>
      channel ORA_DISK_3: starting compressed full datafile backup set<br>
      channel ORA_DISK_3: specifying datafile(s) in backup set<br>
      input datafile file number=00001
      name=/usr/oracle/app/oradata/orcl/system01.dbf<br>
      input datafile file number=00004
      name=/usr/oracle/app/oradata/orcl/users01.dbf<br>
      input datafile file number=00008
      name=/home/oracle/data/default_tablespace.dbf<br>
      channel ORA_DISK_3: starting piece 1 at 30-MAY-17<br>
      channel ORA_DISK_2: finished piece 1 at 30-MAY-17<br>
      piece handle=/home/oracle/oradata/backup/0gs5ibde_1_1_ORCL
      tag=TAG20170530T182130 comment=NONE<br>
      channel ORA_DISK_2: backup set complete, elapsed time: 00:06:28<br>
      channel ORA_DISK_2: starting compressed full datafile backup set<br>
      channel ORA_DISK_2: specifying datafile(s) in backup set<br>
      input datafile file number=00006
      name=/usr/oracle/app/oradata/orcl/APSALU3_DATA.dbf<br>
      channel ORA_DISK_2: starting piece 1 at 30-MAY-17<br>
      channel ORA_DISK_2: finished piece 1 at 30-MAY-17<br>
      piece handle=/home/oracle/oradata/backup/0is5ibpk_1_1_ORCL
      tag=TAG20170530T182130 comment=NONE<br>
      channel ORA_DISK_2: backup set complete, elapsed time: 00:00:01<br>
      channel ORA_DISK_3: finished piece 1 at 30-MAY-17<br>
      piece handle=/home/oracle/oradata/backup/0hs5ibde_1_1_ORCL
      tag=TAG20170530T182130 comment=NONE<br>
      channel ORA_DISK_3: backup set complete, elapsed time: 00:06:55<br>
      channel ORA_DISK_1: finished piece 1 at 30-MAY-17<br>
      piece handle=/home/oracle/oradata/backup/0fs5ibde_1_1_ORCL
      tag=TAG20170530T182130 comment=NONE<br>
      channel ORA_DISK_1: backup set complete, elapsed time: 00:07:37<br>
      Finished backup at 30-MAY-17</p>
    <p>Starting backup at 30-MAY-17<br>
      current log archived<br>
      using channel ORA_DISK_1<br>
      using channel ORA_DISK_2<br>
      using channel ORA_DISK_3<br>
      channel ORA_DISK_1: starting compressed archived log backup set<br>
      channel ORA_DISK_1: specifying archived log(s) in backup set<br>
      input archived log thread=1 sequence=2 RECID=8 STAMP=945368952<br>
      channel ORA_DISK_1: starting piece 1 at 30-MAY-17<br>
      channel ORA_DISK_1: finished piece 1 at 30-MAY-17<br>
      piece handle=/home/oracle/oradata/backup/0js5ibrs_1_1_ORCL
      tag=TAG20170530T182916 comment=NONE<br>
      channel ORA_DISK_1: backup set complete, elapsed time: 00:00:01<br>
      channel ORA_DISK_1: deleting archived log(s)<br>
      archived log file
      name=/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_05_30/o1_mf_1_2_dltlcr44_.arc






RECID=8



      STAMP=945368952<br>
      Finished backup at 30-MAY-17</p>
    <p>Starting Control File and SPFILE Autobackup at 30-MAY-17<br>
      piece
      handle=/usr/oracle/app/flash_recovery_area/ORCL/autobackup/2017_05_30/o1_mf_s_945368958_dltlcyvy_.bkp



      comment=NONE<br>
      Finished Control File and SPFILE Autobackup at 30-MAY-17</p>
    <p>　　以上备份信息得出两个结论：数据文件备份到了RMAN 配置参数&nbsp;configure channel device
      type disk format '/home/oracle/oradata/backup/%U_%d' 配置的路劲下，</p>
    <p>　　控制文件，归档日志文件备份到了参数db_recovery_file_dest
      对应的闪回区/usr/oracle/app/flash_recovery_area/ORCL下。</p>
    <p>　　使用更细节的配置命令，将数据文件，控制文件，归档日志备份到同一指定的目录下：　</p>
    <p>run<br>
      {<br>
      <br>
      allocate channel ch1 device type disk;<br>
      <br>
      allocate channel ch2 device type disk;<br>
      <br>
      backup database format '/home/oracle/oradata/backup/Data_%d_%M_%U'<br>
      <br>
      plus archivelog format '/home/oracle/oradata/backup/log_%d_%M_%U';<br>
      <br>
      release channel ch1;<br>
      <br>
      release channel ch2;<br>
      }</p>
    <p>allocated channel: ch1<br>
      channel ch1: SID=39 device type=DISK</p>
    <p>allocated channel: ch2<br>
      channel ch2: SID=40 device type=DISK</p>
    <p><br>
      Starting backup at 30-MAY-17<br>
      current log archived<br>
      channel ch1: starting archived log backup set<br>
      channel ch1: specifying archived log(s) in backup set<br>
      input archived log thread=1 sequence=3 RECID=9 STAMP=945378795<br>
      input archived log thread=1 sequence=4 RECID=10 STAMP=945381016<br>
      input archived log thread=1 sequence=5 RECID=11 STAMP=945381246<br>
      channel ch1: starting piece 1 at 30-MAY-17<br>
      channel ch2: starting archived log backup set<br>
      channel ch2: specifying archived log(s) in backup set<br>
      input archived log thread=1 sequence=6 RECID=12 STAMP=945382431<br>
      channel ch2: starting piece 1 at 30-MAY-17<br>
      channel ch1: finished piece 1 at 30-MAY-17<br>
      piece handle=/home/oracle/oradata/backup/log_ORCL_05_12s5ir4g_1_1
      tag=TAG20170530T224952 comment=NONE<br>
      channel ch1: backup set complete, elapsed time: 00:00:08<br>
      channel ch1: starting archived log backup set<br>
      channel ch1: specifying archived log(s) in backup set<br>
      input archived log thread=1 sequence=7 RECID=13 STAMP=945384591<br>
      channel ch1: starting piece 1 at 30-MAY-17<br>
      channel ch2: finished piece 1 at 30-MAY-17<br>
      piece handle=/home/oracle/oradata/backup/log_ORCL_05_13s5ir4g_1_1
      tag=TAG20170530T224952 comment=NONE<br>
      channel ch2: backup set complete, elapsed time: 00:00:07<br>
      channel ch1: finished piece 1 at 30-MAY-17<br>
      piece handle=/home/oracle/oradata/backup/log_ORCL_05_14s5ir4o_1_1
      tag=TAG20170530T224952 comment=NONE<br>
      channel ch1: backup set complete, elapsed time: 00:00:01<br>
      Finished backup at 30-MAY-17</p>
    <p>Starting backup at 30-MAY-17<br>
      channel ch1: starting full datafile backup set<br>
      channel ch1: specifying datafile(s) in backup set<br>
      input datafile file number=00005
      name=/usr/oracle/app/oradata/orcl/CTRR_DATA.dbf<br>
      input datafile file number=00007
      name=/home/oracle/data/CTRR_DATA_1.dbf<br>
      channel ch1: starting piece 1 at 30-MAY-17<br>
      channel ch2: starting full datafile backup set<br>
      channel ch2: specifying datafile(s) in backup set<br>
      input datafile file number=00009
      name=/home/oracle/data/rman_ts1.dbf<br>
      input datafile file number=00006
      name=/usr/oracle/app/oradata/orcl/APSALU3_DATA.dbf<br>
      channel ch2: starting piece 1 at 30-MAY-17<br>
      channel ch2: finished piece 1 at 30-MAY-17<br>
      piece handle=/home/oracle/oradata/backup/data_ORCL_05_16s5ir4q_1_1
      tag=TAG20170530T225001 comment=NONE<br>
      channel ch2: backup set complete, elapsed time: 00:00:07<br>
      channel ch2: starting full datafile backup set<br>
      channel ch2: specifying datafile(s) in backup set<br>
      input datafile file number=00001
      name=/usr/oracle/app/oradata/orcl/system01.dbf<br>
      input datafile file number=00004
      name=/usr/oracle/app/oradata/orcl/users01.dbf<br>
      input datafile file number=00008
      name=/home/oracle/data/default_tablespace.dbf<br>
      input datafile file number=00003
      name=/usr/oracle/app/oradata/orcl/undotbs01.dbf<br>
      input datafile file number=00002
      name=/usr/oracle/app/oradata/orcl/sysaux01.dbf<br>
      channel ch2: starting piece 1 at 30-MAY-17<br>
      channel ch2: finished piece 1 at 30-MAY-17<br>
      piece handle=/home/oracle/oradata/backup/data_ORCL_05_17s5ir51_1_1
      tag=TAG20170530T225001 comment=NONE<br>
      channel ch2: backup set complete, elapsed time: 00:05:19<br>
      channel ch1: finished piece 1 at 30-MAY-17<br>
      piece handle=/home/oracle/oradata/backup/data_ORCL_05_15s5ir4q_1_1
      tag=TAG20170530T225001 comment=NONE<br>
      channel ch1: backup set complete, elapsed time: 00:05:56<br>
      Finished backup at 30-MAY-17</p>
    <p>Starting backup at 30-MAY-17<br>
      current log archived<br>
      channel ch1: starting archived log backup set<br>
      channel ch1: specifying archived log(s) in backup set<br>
      input archived log thread=1 sequence=8 RECID=14 STAMP=945384958<br>
      channel ch1: starting piece 1 at 30-MAY-17<br>
      channel ch1: finished piece 1 at 30-MAY-17<br>
      piece handle=/home/oracle/oradata/backup/log_ORCL_05_18s5irg0_1_1
      tag=TAG20170530T225600 comment=NONE<br>
      channel ch1: backup set complete, elapsed time: 00:00:01<br>
      Finished backup at 30-MAY-17</p>
    <p>Starting Control File and SPFILE Autobackup at 30-MAY-17<br>
      piece
      handle=/home/oracle/oradata/backup/ctl_ORCL_05_c-1452257309-20170530-04
      comment=NONE<br>
      Finished Control File and SPFILE Autobackup at 30-MAY-17</p>
    <p>released channel: ch1</p>
    <p>released channel: ch2</p>
    <p>　　至此联机备份整个数据库完成，我们可以看一下备份文件目录下是否有备份信息显示的文件</p>
    <p>[oracle@oracledb ~]$ cd /home/oracle/oradata/backup<br>
      [oracle@oracledb backup]$ ls -l<br>
      total 2837192<br>
      -rw-r----- 1 oracle oinstall 9830400 May 30 22:56
      ctl_ORCL_05_c-1452257309-20170530-04<br>
      -rw-r----- 1 oracle oinstall 1678073856 May 30 22:55
      data_ORCL_05_15s5ir4q_1_1<br>
      -rw-r----- 1 oracle oinstall 6529024 May 30 22:50
      data_ORCL_05_16s5ir4q_1_1<br>
      -rw-r----- 1 oracle oinstall 1169031168 May 30 22:55
      data_ORCL_05_17s5ir51_1_1<br>
      -rw-r----- 1 oracle oinstall 13558784 May 30 22:49
      log_ORCL_05_12s5ir4g_1_1<br>
      -rw-r----- 1 oracle oinstall 25548800 May 30 22:49
      log_ORCL_05_13s5ir4g_1_1<br>
      -rw-r----- 1 oracle oinstall 2192384 May 30 22:50
      log_ORCL_05_14s5ir4o_1_1<br>
      -rw-r----- 1 oracle oinstall 503808 May 30 22:56
      log_ORCL_05_18s5irg0_1_1</p>
    <p>&nbsp;　　3.2 &nbsp;非系统表空间数据文件损坏恢复</p>
    <p>　　 (1) 数据库运行在归档模式下，表空间users的数据文件损坏，有完整的备份，当前以及归档的日志完好。</p>
    <p>　　先做当前数据的变化测试，使用scott用户给测试表添加数据。</p>
    <p>insert into t_test1(id, name)<br>
      select 2,'latiny2' from dual;</p>
    <p>commit;</p>
    <p>关闭数据库，删除users01.dbf 数据文件，重启再数据库</p>
    <p>SQL&gt; shutdown immediate<br>
      Database closed.<br>
      Database dismounted.<br>
      ORACLE instance shut down.<br>
      SQL&gt; startup<br>
      ORACLE instance started.</p>
    <p>Total System Global Area 450953216 bytes<br>
      Fixed Size 2214256 bytes<br>
      Variable Size 343934608 bytes<br>
      Database Buffers 100663296 bytes<br>
      Redo Buffers 4141056 bytes<br>
      Database mounted.<br>
      ORA-01157: cannot identify/lock data file 4 - see DBWR trace file<br>
      ORA-01110: data file 4: '/usr/oracle/app/oradata/orcl/users01.dbf'</p>
    <p>数据库启动失败，因为users01.dbf 文件已损坏(手动删除)，为了启动成功将损坏的数据文件先offline
      再打开，此时尝试访问scott.t_test1显示对应的数据文件</p>
    <p>无法访问。</p>
    <p><br>
      SQL&gt; alter database datafile 4 offline;</p>
    <p>Database altered.</p>
    <p>SQL&gt; alter database open;</p>
    <p>Database altered.</p>
    <p>　　(2) 恢复数据文件</p>
    <p>　　在rman 模式下恢复损坏的数据文件</p>
    <p>RMAN&gt; restore datafile 4;</p>
    <p>Starting restore at 06-JUN-17<br>
      allocated channel: ORA_DISK_1<br>
      channel ORA_DISK_1: SID=32 device type=DISK<br>
      allocated channel: ORA_DISK_2<br>
      channel ORA_DISK_2: SID=26 device type=DISK<br>
      allocated channel: ORA_DISK_3<br>
      channel ORA_DISK_3: SID=40 device type=DISK</p>
    <p>channel ORA_DISK_1: starting datafile backup set restore<br>
      channel ORA_DISK_1: specifying datafile(s) to restore from backup
      set<br>
      channel ORA_DISK_1: restoring datafile 00004 to
      /usr/oracle/app/oradata/orcl/users01.dbf<br>
      channel ORA_DISK_1: reading from backup piece
      /home/oracle/oradata/backup/data_ORCL_05_17s5ir51_1_1<br>
      channel ORA_DISK_1: piece
      handle=/home/oracle/oradata/backup/data_ORCL_05_17s5ir51_1_1
      tag=TAG20170530T225001<br>
      channel ORA_DISK_1: restored backup piece 1<br>
      channel ORA_DISK_1: restore complete, elapsed time: 00:00:03<br>
      Finished restore at 06-JUN-17</p>
    <p>RMAN&gt; recover datafile 4;</p>
    <p>Starting recover at 06-JUN-17<br>
      using channel ORA_DISK_1<br>
      using channel ORA_DISK_2<br>
      using channel ORA_DISK_3</p>
    <p>starting media recovery</p>
    <p>archived log for thread 1 with sequence 8 is already on disk as
      file
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_05_30/o1_mf_1_8_dlv1zyxk_.arc<br>
      archived log for thread 1 with sequence 9 is already on disk as
      file
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_02/o1_mf_1_9_dm23lqhh_.arc<br>
      archived log for thread 1 with sequence 10 is already on disk as
      file
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_02/o1_mf_1_10_dm23nl59_.arc<br>
      archived log for thread 1 with sequence 11 is already on disk as
      file
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_06/o1_mf_1_11_dmd9d6b5_.arc<br>
      archived log for thread 1 with sequence 12 is already on disk as
      file
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_06/o1_mf_1_12_dmd9gtql_.arc<br>
      archived log file
      name=/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_05_30/o1_mf_1_8_dlv1zyxk_.arc






thread=1



      sequence=8<br>
      archived log file
      name=/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_02/o1_mf_1_9_dm23lqhh_.arc






thread=1



      sequence=9<br>
      archived log file
      name=/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_02/o1_mf_1_10_dm23nl59_.arc






thread=1



      sequence=10<br>
      media recovery complete, elapsed time: 00:00:02<br>
      Finished recover at 06-JUN-17</p>
    <p>　　</p>
    <p>　　数据文件恢复成功，将数据文件online</p>
    <p>SQL&gt; alter database datafile 4 online;</p>
    <p>Database altered.</p>
    <p>此时可以访问scott.t_test1，之前新增的数据也在其中。</p>
    <p>3.3 系统表空间损坏恢复</p>
    <p>系统表空间损坏，但是控制文件与日志文件完好</p>
    <p>(1)删除系统表空间，实验表空间损坏，关闭数据库删除文件之后重启数据库报错</p>
    <p>SQL&gt; shutdown immdiate;<br>
      SP2-0717: illegal SHUTDOWN option<br>
      SQL&gt; shutdown immediate;<br>
      \Database closed.<br>
      Database dismounted.<br>
      ORACLE instance shut down.<br>
      SQL&gt; startup<br>
      SP2-0042: unknown command "\startup" - rest of line ignored.<br>
      SQL&gt; startup<br>
      ORACLE instance started.</p>
    <p>Total System Global Area 450953216 bytes<br>
      Fixed Size 2214256 bytes<br>
      Variable Size 348128912 bytes<br>
      Database Buffers 96468992 bytes<br>
      Redo Buffers 4141056 bytes<br>
      Database mounted.<br>
      ORA-01157: cannot identify/lock data file 1 - see DBWR trace file<br>
      ORA-01110: data file 1:
      '/usr/oracle/app/oradata/orcl/system01.dbf'</p>
    <p>　　(2) 将数据文件offline 然后rman模式下恢复数据文件</p>
    <p>SQL&gt; alter database datafile 1 offline;</p>
    <p>Database altered.</p>
    <p>RMAN&gt; restore datafile 1;</p>
    <p>Starting restore at 06-JUN-17<br>
      using channel ORA_DISK_1<br>
      using channel ORA_DISK_2<br>
      using channel ORA_DISK_3</p>
    <p>channel ORA_DISK_1: starting datafile backup set restore<br>
      channel ORA_DISK_1: specifying datafile(s) to restore from backup
      set<br>
      channel ORA_DISK_1: restoring datafile 00001 to
      /usr/oracle/app/oradata/orcl/system01.dbf<br>
      channel ORA_DISK_1: reading from backup piece
      /home/oracle/oradata/backup/data_ORCL_05_17s5ir51_1_1<br>
      channel ORA_DISK_1: piece
      handle=/home/oracle/oradata/backup/data_ORCL_05_17s5ir51_1_1
      tag=TAG20170530T225001<br>
      channel ORA_DISK_1: restored backup piece 1<br>
      channel ORA_DISK_1: restore complete, elapsed time: 00:01:15<br>
      Finished restore at 06-JUN-17</p>
    <p>RMAN&gt; recover datafile 1;</p>
    <p>Starting recover at 06-JUN-17<br>
      using channel ORA_DISK_1<br>
      using channel ORA_DISK_2<br>
      using channel ORA_DISK_3</p>
    <p>starting media recovery</p>
    <p>archived log for thread 1 with sequence 8 is already on disk as
      file
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_05_30/o1_mf_1_8_dlv1zyxk_.arc<br>
      archived log for thread 1 with sequence 9 is already on disk as
      file
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_02/o1_mf_1_9_dm23lqhh_.arc<br>
      archived log for thread 1 with sequence 10 is already on disk as
      file
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_02/o1_mf_1_10_dm23nl59_.arc<br>
      archived log for thread 1 with sequence 11 is already on disk as
      file
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_06/o1_mf_1_11_dmd9d6b5_.arc<br>
      archived log for thread 1 with sequence 12 is already on disk as
      file
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_06/o1_mf_1_12_dmd9gtql_.arc<br>
      archived log file
      name=/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_05_30/o1_mf_1_8_dlv1zyxk_.arc






thread=1



      sequence=8<br>
      archived log file
      name=/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_02/o1_mf_1_9_dm23lqhh_.arc






thread=1



      sequence=9<br>
      archived log file
      name=/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_02/o1_mf_1_10_dm23nl59_.arc






thread=1



      sequence=10<br>
      media recovery complete, elapsed time: 00:00:05<br>
      Finished recover at 06-JUN-17</p>
    <p>SQL&gt; alter database datafile 1 online;</p>
    <p>Database altered.</p>
    <p>数据库启动成功</p>
    <p>SQL&gt; alter database open;</p>
    <p>Database altered.</p>
    <p>SQL&gt;</p>
    <p>3.4 全部数据文件丢失</p>
    <p>关闭数据库删除全部文件，重启数据库。</p>
    <p>[oracle@oracledb orcl]$ ls -l<br>
      total 4877952<br>
      -rw-r----- 1 oracle oinstall 524296192 Jun 15 14:54
      APSALU3_DATA.dbf<br>
      -rw-r----- 1 oracle oinstall 10010624 Jun 15 14:54 control01.ctl<br>
      -rw-r----- 1 oracle oinstall 2147491840 Jun 15 14:54 CTRR_DATA.dbf<br>
      -rw-r----- 1 oracle oinstall 52429312 Jun 15 14:54 redo01.log<br>
      -rw-r----- 1 oracle oinstall 52429312 Jun 15 13:54 redo02.log<br>
      -rw-r----- 1 oracle oinstall 52429312 Jun 15 13:55 redo03.log<br>
      -rw-r----- 1 oracle oinstall 660611072 Jun 15 14:54 sysaux01.dbf<br>
      -rw-r----- 1 oracle oinstall 765468672 Jun 15 14:54 system01.dbf<br>
      -rw-r----- 1 oracle oinstall 20979712 Jun 12 21:53 temp01.dbf<br>
      -rw-r----- 1 oracle oinstall 723525632 Jun 15 14:54 undotbs01.dbf<br>
      -rw-r----- 1 oracle oinstall 5251072 Jun 15 14:54 users01.dbf<br>
      [oracle@oracledb orcl]$ rm *;<br>
      [oracle@oracledb orcl]$ ls -l<br>
      total 0<br>
      [oracle@oracledb orcl]$</p>
    <p>&nbsp;数据库只能启动到nomount状态下，启动到mount下报错，因为没有控制文件</p>
    <p>SQL&gt; startup nomount;<br>
      ORACLE instance started.</p>
    <p>Total System Global Area 450953216 bytes<br>
      Fixed Size 2214256 bytes<br>
      Variable Size 360711824 bytes<br>
      Database Buffers 83886080 bytes<br>
      Redo Buffers 4141056 bytes<br>
      SQL&gt; alter database mount;<br>
      alter database mount<br>
      *<br>
      ERROR at line 1:<br>
      ORA-00205: error in identifying control file, check alert log for
      more info</p>
    <p><br>
      SQL&gt;</p>
    <p>先退出RMAN然后重新登录，登录之后恢复控制文件</p>
    <p>[oracle@oracledb ~]$ rman target/</p>
    <p>Recovery Manager: Release 11.2.0.1.0 - Production on Thu Jun 15
      15:01:13 2017</p>
    <p>Copyright (c) 1982, 2009, Oracle and/or its affiliates. All
      rights reserved.</p>
    <p>connected to target database: ORCL (not mounted)</p>
    <p>RMAN&gt; restore controlfile from
'/home/oracle/oradata/backup/control/ctl_ORCL_06_15_c-1452257309-20170615-05';</p>
    <p>Starting restore at 15-JUN-17<br>
      using target database control file instead of recovery catalog<br>
      allocated channel: ORA_DISK_1<br>
      channel ORA_DISK_1: SID=20 device type=DISK</p>
    <p>channel ORA_DISK_1: restoring control file<br>
      channel ORA_DISK_1: restore complete, elapsed time: 00:00:16<br>
      output file name=/usr/oracle/app/oradata/orcl/control01.ctl<br>
      output file
      name=/usr/oracle/app/flash_recovery_area/orcl/control02.ctl<br>
      Finished restore at 15-JUN-17</p>
    <p>RMAN&gt;</p>
    <p>控制文件恢复成功之后，启动数据库到mount状态下</p>
    <p>SQL&gt; alter database mount;</p>
    <p>Database altered.</p>
    <p>SQL&gt;</p>
    <p>RMAN下恢复数据库， restore databse;</p>
    <p>RMAN&gt; restore database;</p>
    <p>Starting restore at 15-JUN-17<br>
      released channel: ORA_DISK_1<br>
      Starting implicit crosscheck backup at 15-JUN-17<br>
      allocated channel: ORA_DISK_1<br>
      channel ORA_DISK_1: SID=20 device type=DISK<br>
      allocated channel: ORA_DISK_2<br>
      channel ORA_DISK_2: SID=21 device type=DISK<br>
      Crosschecked 22 objects<br>
      Crosschecked 20 objects<br>
      Finished implicit crosscheck backup at 15-JUN-17</p>
    <p>Starting implicit crosscheck copy at 15-JUN-17<br>
      using channel ORA_DISK_1<br>
      using channel ORA_DISK_2<br>
      Finished implicit crosscheck copy at 15-JUN-17</p>
    <p>searching for all files in the recovery area<br>
      cataloging files...<br>
      cataloging done</p>
    <p>List of Cataloged Files<br>
      =======================<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_15/o1_mf_1_5_dn4cr5pm_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_15/o1_mf_1_6_dn4cr5qn_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_15/o1_mf_1_3_dn4cr5m9_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_15/o1_mf_1_2_dn4cr7kx_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_15/o1_mf_1_9_dn4crbvg_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_15/o1_mf_1_1_dn4cr7l6_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_15/o1_mf_1_7_dn4cr5mj_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_15/o1_mf_1_8_dn4cr8qp_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_15/o1_mf_1_4_dn4cr5vc_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog_backup/2017_06_12/o1_mf_1_4_dmwg5bjo_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog_backup/2017_06_12/o1_mf_1_2_dmw48n0t_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog_backup/2017_06_12/o1_mf_1_1_dmw454w6_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog_backup/2017_06_12/o1_mf_1_3_dmwfk7mt_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog_backup/2017_06_12/o1_mf_1_4_dmxdm4cm_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog_backup/2017_06_12/o1_mf_1_3_dmxcfz0q_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog_backup/2017_06_15/o1_mf_1_5_dn43mxcl_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog_backup/2017_06_15/o1_mf_1_1_dn3zoqo8_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog_backup/2017_06_15/o1_mf_1_7_dn4857f0_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog_backup/2017_06_15/o1_mf_1_4_dn42j321_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog_backup/2017_06_15/o1_mf_1_6_dn43t9pc_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog_backup/2017_06_15/o1_mf_1_2_dn3zqofd_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog_backup/2017_06_15/o1_mf_1_8_dn489j4x_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog_backup/2017_06_15/o1_mf_1_3_dn4265mf_.arc<br>
      File Name:
/usr/oracle/app/flash_recovery_area/ORCL/archivelog_backup/2017_06_15/o1_mf_1_9_dn48c07s_.arc</p>
    <p>using channel ORA_DISK_1<br>
      using channel ORA_DISK_2</p>
    <p>channel ORA_DISK_1: starting datafile backup set restore<br>
      channel ORA_DISK_1: specifying datafile(s) to restore from backup
      set<br>
      channel ORA_DISK_1: restoring datafile 00006 to
      /usr/oracle/app/oradata/orcl/APSALU3_DATA.dbf<br>
      channel ORA_DISK_1: restoring datafile 00009 to
      /home/oracle/data/rman_ts1.dbf<br>
      channel ORA_DISK_1: reading from backup piece
      /home/oracle/oradata/backup/data/data2_ORCL_06_39s6rt41_1_1<br>
      channel ORA_DISK_2: starting datafile backup set restore<br>
      channel ORA_DISK_2: specifying datafile(s) to restore from backup
      set<br>
      channel ORA_DISK_2: restoring datafile 00001 to
      /usr/oracle/app/oradata/orcl/system01.dbf<br>
      channel ORA_DISK_2: restoring datafile 00002 to
      /usr/oracle/app/oradata/orcl/sysaux01.dbf<br>
      channel ORA_DISK_2: restoring datafile 00003 to
      /usr/oracle/app/oradata/orcl/undotbs01.dbf<br>
      channel ORA_DISK_2: restoring datafile 00004 to
      /usr/oracle/app/oradata/orcl/users01.dbf<br>
      channel ORA_DISK_2: restoring datafile 00008 to
      /home/oracle/data/default_tablespace.dbf<br>
      channel ORA_DISK_2: reading from backup piece
      /home/oracle/oradata/backup/data/data2_ORCL_06_3as6rt44_1_1<br>
      channel ORA_DISK_1: piece
      handle=/home/oracle/oradata/backup/data/data2_ORCL_06_39s6rt41_1_1
      tag=TAG20170615T123512<br>
      channel ORA_DISK_1: restored backup piece 1<br>
      channel ORA_DISK_1: restore complete, elapsed time: 00:05:50<br>
      channel ORA_DISK_1: starting datafile backup set restore<br>
      channel ORA_DISK_1: specifying datafile(s) to restore from backup
      set<br>
      channel ORA_DISK_1: restoring datafile 00005 to
      /usr/oracle/app/oradata/orcl/CTRR_DATA.dbf<br>
      channel ORA_DISK_1: restoring datafile 00007 to
      /home/oracle/data/CTRR_DATA_1.dbf<br>
      channel ORA_DISK_1: reading from backup piece
      /home/oracle/oradata/backup/data/data1_ORCL_06_38s6rt40_1_1<br>
      channel ORA_DISK_2: piece
      handle=/home/oracle/oradata/backup/data/data2_ORCL_06_3as6rt44_1_1
      tag=TAG20170615T123512<br>
      channel ORA_DISK_2: restored backup piece 1<br>
      channel ORA_DISK_2: restore complete, elapsed time: 00:07:15<br>
      channel ORA_DISK_1: piece
      handle=/home/oracle/oradata/backup/data/data1_ORCL_06_38s6rt40_1_1
      tag=TAG20170615T123512<br>
      channel ORA_DISK_1: restored backup piece 1<br>
      channel ORA_DISK_1: restore complete, elapsed time: 00:03:36<br>
      Finished restore at 15-JUN-17</p>
    <p>将放在其他目录下的重做日志复制到默认的目录下，然后查看，如果只有一份重做日志且丢失，那么此步骤可省略，但是会造成服务器宕机之后的部
      分数据丢失，丢失量取决于未归档的重做日志存储的数据量</p>
    <p>SQL&gt; select member from v$logfile;</p>
    <p>MEMBER<br>
--------------------------------------------------------------------------------<br>
      /usr/oracle/app/oradata/orcl/redo03.log<br>
      /usr/oracle/app/oradata/orcl/redo02.log<br>
      /usr/oracle/app/oradata/orcl/redo01.log<br>
      /home/oracle/data/redo01_a.log</p>
    <p>recover database&nbsp;</p>
    <p>RMAN&gt; recover database;</p>
    <p>Starting recover at 15-JUN-17<br>
      using channel ORA_DISK_1<br>
      using channel ORA_DISK_2</p>
    <p>starting media recovery</p>
    <p>archived log for thread 1 with sequence 6 is already on disk as
      file
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_15/o1_mf_1_6_dn4cr5qn_.arc<br>
      archived log for thread 1 with sequence 7 is already on disk as
      file
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_15/o1_mf_1_7_dn4cr5mj_.arc<br>
      archived log for thread 1 with sequence 8 is already on disk as
      file
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_15/o1_mf_1_8_dn4cr8qp_.arc<br>
      archived log for thread 1 with sequence 9 is already on disk as
      file
/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_15/o1_mf_1_9_dn4crbvg_.arc<br>
      archived log for thread 1 with sequence 10 is already on disk as
      file /home/oracle/data/redo01_a.log<br>
      archived log file
      name=/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_15/o1_mf_1_6_dn4cr5qn_.arc






thread=1



      sequence=6<br>
      archived log file
      name=/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_15/o1_mf_1_7_dn4cr5mj_.arc






thread=1



      sequence=7<br>
      archived log file
      name=/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_15/o1_mf_1_8_dn4cr8qp_.arc






thread=1



      sequence=8<br>
      archived log file
      name=/usr/oracle/app/flash_recovery_area/ORCL/archivelog/2017_06_15/o1_mf_1_9_dn4crbvg_.arc






thread=1



      sequence=9<br>
      archived log file name=/home/oracle/data/redo01_a.log thread=1
      sequence=10<br>
      media recovery complete, elapsed time: 00:00:21<br>
      Finished recover at 15-JUN-17</p>
    <p>SQL&gt; alter database open resetlogs;</p>
    <p>Database altered.</p>
    <p>　　至此数据库恢复完成，注意如果重做日志与数据文件，控制文件等一起丢失，没有备份，在其他磁盘上也没有做多个重组日志机制，只用备份的
      归档日志恢复的话，服务器宕机之后未归档的数据很可能会丢失，做不到100%的恢复。</p>
    <p>Oracle推荐的数据库备份和恢复工具是RMAN（恢复管理器，Recovery
      Manager）。不是必须要使用RMAN，Oracle支持通过使用操作系统实用程序来创建备份和执行恢复，但RMAN有着其它产品无法比
      拟的功能，以 下列举几条采用RMAN备份的优点：</p>
    <p>1、恢复过程是智能的，不需要考虑用哪些备份文件来恢复，系统自动选择和管理；</p>
    <p>2、支持增量备份，只备份更改的数据块，而不用每次都去做完整备份，可以显著减少备份花费的时间和空间；</p>
    <p>3、支持加密备份，保证备份数据的安全性，这对于存储在可移动设备上的数据备份很有必要；</p>
    <p>4、支持灵活选择的表空间备份、数据文件备份、控制文件备份及归档日志文件备份等；</p>
    <p>5、强大的管理命令和报表功能可以方便的查询和管理备份；</p>
    <p>6、RMAN的备份恢复操作与OS无关，是跨平台的。</p>
    <p>一、RMAN备份的概念和术语</p>
    <p>用操作系统命令执行的备份被称为用户管理的备份，而使用RMAN执行的备份则被称为服务器管理的备份。在执行服务器管理的备份前，总体上需
      要考虑以下三种备份策略：</p>
    <p>关闭状态还是打开状态？</p>
    <p>全部备份还是局部备份？</p>
    <p>完整备份还是增量备份？</p>
    <p>关闭状态的备份在数据库关闭期间执行，也称为冷备份、一致备份、脱机备份，打开状态的备份在数据库使用期间执行，也称为热备份、非一致备
      份、联机备份。打开状态的备份只能在数据库处于归档日志模式下执行。如果数据库处于非归档日志模式，则只能进行关闭状态的备份。在大部分情况
      下，局部备份也必须在数据库处于归档日志模式下才能进行。增量备份可以是累积增量备份（包括自上一次完整备份以来更改的所有块）或差异增量备
      份（包括自上一次增量备份以来更改的所有块）。</p>
    <p>RMAN可备份的文件类型为：</p>
    <p>数据文件</p>
    <p>控制文件</p>
    <p>服务器初始化参数文件spfile</p>
    <p>归档重做日志文件</p>
    <p>备份集片</p>
    <p>RMAN不能备份的文件包括：</p>
    <p>临时文件</p>
    <p>联机重做日志文件</p>
    <p>口令文件</p>
    <p>静态参数文件pfile</p>
    <p>Oracle Net配置文件</p>
    <p>RMAN可生成三类备份：</p>
    <p>备份集（backup set）：备份文件的专用格式，一个备份集文件可包含多个数据库文件的备份；</p>
    <p>压缩备份集（compressed backup set）：与备份集内容相同，但RMAN在写出到备份集时将应用压缩算法；</p>
    <p>映像副本（image
      copy）：是与输入文件相同的备份文件，映像副本可与源内容立即交换，与备份集文件相比，还原时不需要从备份集中提取文件。</p>
    <p>RMAN备份和还原操作由被称为通道（channel）的服务器进程执行。通道可分为磁盘类型（可访问磁盘上的备份）或SBT_TAPE类
      型（可访问磁带上的备份）。</p>
    <p>RMAN存储库（repository）是有关备份的元数据，存储库一般保存在目标数据库的控制文件中，也可以保存在被称为目录数据库中的
      一组表中。当进行多个不同数据库的备份时，可单独构建一个目录数据库来存储RMAN备份的元数据。</p>
    <p>RMAN操作由RMAN可执行程序启动、监视和控制，可有三种连接数据库的方式：</p>
    <p>目标数据库（target）：需要备份、还原和恢复的数据库；</p>
    <p>目录数据库（catalog）：用于备份多个目标数据库；</p>
    <p>辅助数据库（auxiliary）：通过目标数据库的备份创建的数据库。</p>
    <p>二、服务器管理的脱机备份</p>
    <p>服务器管理的脱机备份是在数据库关闭后执行的备份，也称为冷备份、一致备份。对于非归档日志模式的数据库，备份时只能采用此模式。</p>
    <p>只有数据库处于加载模式时才能执行RMAN一致备份。其原因在于，RMAN需要读取控制文件，以便查找数据文件。如果在加载模式下尝试执行
      用户管理的操作系统备份，则将无效，因为在加载模式中，当复制控制文件时可能已对控制文件执行了写操作，这样一来副本就变的不一致了，因而失
      去了作用。RMAN通过获取控制文件的读一致性快照并对其进行备份，避免此问题的发生。</p>
    <p>有三种使用RMAN的技术：</p>
    <p>交互界面：用于执行即席任务；</p>
    <p>脚本接口：通过操作系统的调度程序运行作业；</p>
    <p>Enterprise Manager界面：用于生成脚本，定义由Enterprise Manager调度的作业。</p>
    <p>典型的脱机-全部-完整备份的脚本如下</p>
    <p>run {</p>
    <p>shutdown immediate;</p>
    <p>startup mount;</p>
    <p>allocate channel d1 type disk;</p>
    <p>backup as compressed backupset database format
      'd:\rman_bak\mes\%d_%u_%c_%T';</p>
    <p>alter database open;</p>
    <p>}</p>
    <p>%d：数据库ID；</p>
    <p>%u：产生唯一的文件名称；</p>
    <p>%c：第几份备份；</p>
    <p>%T：备份时间。</p>
    <p>该脚本首先关闭数据库实例并重启到加载模式，之后分配一个磁盘备份的通道（disk表示是磁盘通道，另外还有一种备份通道是磁带
      sbt_tape），然后启动压缩备份命令完成全库备份（包括数据文件、控制文件和spfile文件的备份），并指定了备份文件的目标位置和
      文件名格式，备份完毕后打开数据库。</p>
    <p>如将其保存为脚本文件offline_full_whole.rman，则可调度如下操作系统命令运行该脚本</p>
    <p>rman target sys/hznj2010@mes @offline_full_whole.rman</p>
    <p>注意，命令格式中，脚本文件名前面要加上@符号，target表示是连接到目标数据库。</p>
    <p>也可以分两步，先用RMAN连接到目标数据库，再执行脚本文件</p>
    <p>C:\Users\Administrator&gt;rman target /</p>
    <p>RMAN&gt; @d:\offline_full_whole.rman</p>
    <p>在目标位置将生成了两个备份集文件，备份集中包含了所有数据文件、控制文件和spfile文件的内容。</p>
    <p>三、服务器管理的联机备份</p>
    <p>在进行打开状态的备份时，RMAN可能会在DBWn进程写入块时尝试复制文件块，这将导致断裂块。断裂块在备份中可能是无用的，因为在其更
      新时复制它会导致副本内部不一致。RMAN会检测出现的断裂块，并重试块复制，直至获得一致的版本为止。为获取控制文件的读一致性版
      本，RMAN创建控制文件的读一致性快照副本，这是实际备份的内容。</p>
    <p>在创建备份集时，RMAN不会备份未使用的块，这会节省大量的空间。</p>
    <p>典型的联机-全部-完整备份的脚本如下</p>
    <p>run {</p>
    <p>allocate channel d1 type disk;</p>
    <p>backup as compressed backupset database format
      'd:\rman_bak\mes\%d_%u_%c_%T';</p>
    <p>backup as compressed backupset archivelog all delete all input
      format 'd:\rman_bak\mes\%d_%u_%c_%T';</p>
    <p>}</p>
    <p>该脚本命令首先分配一个磁盘写入的通道进程，之后第一个backup命令备份整个数据库（数据文件&nbsp;、控制文件及spfile文
      件），第二个backup命令备份所有的归档日志文件，并在备份后将其从磁盘中删除，进而可以释放磁盘空间。结果将生成三个备份集文件，备份
      集中包含了所有数据文件、控制文件、spfile文件和归档日志文件的内容，并且备份完成后自动删除不必再保留的归档日志文件。</p>
    <p>RMAN的有些命令可以是即席的，即可以直接在RMAN命令提示符下执行，而有些命令则只能在RUN脚本块中执行，如allocate
      channel命令需要放入脚本块中执行。</p>
    <p>备份也可以只针对部分内容进行，如一个表空间、一个单独的文件等。</p>
    <p>备份一个表空间</p>
    <p>RMAN&gt; backup as backupset format 'd:\rman_bak\mes\%d_%u_%c_%T'
      tablespace cmes;</p>
    <p>备份一个数据文件，可以指定文件号或文件名</p>
    <p>RMAN&gt; backup as backupset format 'd:\rman_bak\mes\%d_%u_%c_%T'
      datafile 4;</p>
    <p>备份一批归档日志文件，可以使用通配符%</p>
    <p>RMAN&gt; backup as backupset format 'd:\rman_bak\mes\%d_%u_%c_%T'
      archivelog like
      'D:\oradata\mes\archivelog\ARC_752D1AF3_1_882311480_1%';</p>
    <p>备份控制文件</p>
    <p>RMAN&gt; backup current controlfile format
      'e:\rman_bak\mes\control_bak\c_%d_%u_%c_%T';</p>
    <p>四、增量备份</p>
    <p>增量备份分为差异增量备份和累积增量备份。增量备份依赖于包含所有块的起点时称之为增量级别（incremental
      level）0备份，之后差异增量级别1备份将提取自上一个级别1备份以来更改的所有块，如果没有介于其间的级别1备份，则提取自上一个级别
      0备份以来更 改的所有块。而累积增量备份则始终提取自上一个级别0备份以来更改的所有块，不考虑其间是否存在任何级别1备份。</p>
    <p>执行增量级别0备份的RMAN命令如下，备份集将包含所有使用过的块</p>
    <p>RMAN&gt; backup as backupset incremental level 0 database;</p>
    <p>以下命令执行差异增量级别1备份，该命令提取自上一个级别1备份以来更改的所有块，如果没有运行过级别0备份，则第一次执行级别1的增量备
      份实际是执行级别0备份</p>
    <p>RMAN&gt; backup as backupset incremental level 1 database;</p>
    <p>以下命令执行累积增量级别1备份，该命令提取自级别0备份以来更改的所有块</p>
    <p>RMAN&gt; backup as backupset incremental level 1 cumulative
      database;</p>
    <p>可以指定大于1的增量级别，但它们没有效果，支持它们只是为了与老版本的RMAN兼容，因此现在可以不必再使用。</p>
    <p>在很多情况下，可能希望增量备份能快一些，这可以通过启用块改变跟踪（block change tracking）来实现。</p>
    <p>块改变跟踪依赖于启动一个额外的后台进程：CTWR（Change Tracking
      Writer，改变跟踪写入器）。这个进程在改变跟踪文件中记录每个已更改的块的地址。如果启用了块改变跟踪，RMAN将在执行增量备份时读
      取改变跟踪文 件以确定哪些块需要备份。这比扫描整个数据文件要快的多。</p>
    <p>改变跟踪文件默认位置可在初始化参数db_create_file_dest中指定。它的初始大小为10MB，并以10MB的增量增长。改
      变跟踪文件是位图格式，每位包含32个数据块。启用块改变跟踪会有一个最低的性能开销，经验表明这并不重要。要启用块改变跟踪并指定跟踪文件
      的名称和位置，可使用以下命令</p>
    <p>alter database enable block change tracking using file
      'd:\oradata\mes\change_tracking.dbf';</p>
    <p>要监视块变更跟踪的有效性，可查询视图v$backup_datafile</p>
    <p>col name for a50</p>
    <p>col read_radio for a10</p>
    <p>select t1.file#, t2.name, t1.datafile_blocks, t1.blocks_read,
      to_char(round(t1.blocks_read / t1.datafile_blocks, 2) * 100) ||
      '%' read_radio, t1.completion_time</p>
    <p>&nbsp; from v$backup_datafile t1 join v$datafile t2 on (t1.file#
      = t2.file#) and t1.used_change_tracking = 'YES' and
      t1.incremental_level &gt; 0 order by file#, completion_time;</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp; FILE#
      NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





DATAFILE_BLOCKS



      BLOCKS_READ READ_RADIO COMPLETION_TIME</p>
    <p>---------- --------------------------------------------------
      --------------- ----------- ---------- -------------------</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1
      D:\ORADATA\MES\SYSTEM01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





65280&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      1895 3%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      14:58:49</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1
      D:\ORADATA\MES\SYSTEM01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





65280&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      1135 2%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      20:58:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2
      D:\ORADATA\MES\UNDOTBS01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





10880&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      1983 18%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      14:58:49</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2
      D:\ORADATA\MES\UNDOTBS01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





10880&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      679 6%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      20:58:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3
      D:\ORADATA\MES\SYSAUX01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





38400&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      5815 15%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      14:58:49</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3
      D:\ORADATA\MES\SYSAUX01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





38400&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      3467 9%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      20:58:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4
      D:\ORADATA\MES\USERS01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





640&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      1 0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      14:58:48</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4
      D:\ORADATA\MES\USERS01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





640&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      255 40%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      20:58:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5
      D:\ORADATA\MES\CMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





12800&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      14:58:48</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5
      D:\ORADATA\MES\CMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





12800&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      20:58:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6
      D:\ORADATA\MES\RMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





131072&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
9



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      14:58:48</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6
      D:\ORADATA\MES\RMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





131072&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      13 0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      20:58:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7
      D:\ORADATA\MES\INDX01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





131072&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      14:58:48</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7
      D:\ORADATA\MES\INDX01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





131072&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      20:58:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8
      D:\ORADATA\MES\HMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





64000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      14:58:48</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8
      D:\ORADATA\MES\HMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





64000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      20:58:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 9
      D:\ORADATA\MES\RMES02.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





131072&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      14:58:48</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 9
      D:\ORADATA\MES\RMES02.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





131072&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      20:58:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10
      D:\ORADATA\MES\INDX02.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





131072&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      14:58:48</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10
      D:\ORADATA\MES\INDX02.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





131072&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      20:58:03</p>
    <p>其中DATAFILE_BLOCKS反映的是数据文件的大小，BLOCKS_READ和READ_RADIO则显示了每次增量备份读取的块
      数和读块比率，如果每次备份这个比率在持续增加，则应考虑更频繁的执行增量备份。</p>
    <p>要查看是否启用了块改变跟踪，并检查跟踪文件的位置和大小，可查询视图v$block_change_tracking</p>
    <p>col filename for a50</p>
    <p>select * from v$block_change_tracking;</p>
    <p>STATUS&nbsp;&nbsp;&nbsp;&nbsp;
      FILENAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      BYTES</p>
    <p>---------- -----------------------------------------------
      ----------</p>
    <p>ENABLED&nbsp;&nbsp;&nbsp;
      D:\ORADATA\MES\BLOCK_CHANGE_TRACKING.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      11599872</p>
    <p>确认是否启用了CTWR服务器进程（改变跟踪写入器），可查询视图v$process</p>
    <p>select program from v$process where program like '%CTWR%';</p>
    <p>PROGRAM</p>
    <p>----------------------------------------------------------------</p>
    <p>ORACLE.EXE (CTWR)</p>
    <p>如果要取消块改变跟踪，则命令为</p>
    <p>alter database disable block change tracking;</p>
    <p>五、其它备份方式</p>
    <p>1、映像副本</p>
    <p>文件的映像副本是与数据文件、控制文件或归档日志文件完全相同的副本。结果就好像文件是用操作系统程序复制的，但机制是不同的，RMAN读
      写Oracle块，而不是操作系统块。映像副本备份方式的优点是还原非常快速，因为不需要从备份集中提取文件。</p>
    <p>映像副本可由数据文件、控制文件或归档日志文件组成，但不能由spfile文件组成。</p>
    <p>映像副本的备份命令使用关键字copy，如使用以下命令备份整个数据库，在没有更改默认配置的情况下，将启动一个磁盘通道，将所有数据文件
      和控制文件复制到闪回恢复区（同时还会自动生成一个spfile文件的备份集）</p>
    <p>RMAN&gt; backup as copy database;</p>
    <p>如要将所有归档日志移入闪回恢复区，则命令为</p>
    <p>RMAN&gt; backup as copy archivelog all delete all input;</p>
    <p>利用视图v$backup_files可以查询备份情况</p>
    <p>SQL&gt; select backup_type, file_type, status, fname, tag,
      df_tablespace, df_file# from v$backup_files;</p>
    <p>BACKUP_TYPE&nbsp;&nbsp;
      FILE_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      STATUS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      FNAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





TAG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





DF_TABLESPACE



      DF_FILE#</p>
    <p>------------- --------------- ------------
      ---------------------------------------------
      --------------------- ------------- --------</p>
    <p>COPY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      AVAILABLE&nbsp;&nbsp;&nbsp;
      D:\RMAN_BAK\MES\MES_2OQJEQ48_1_20151011&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      TAG20151011T143448&nbsp;&nbsp;&nbsp;
      RMES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      6</p>
    <p>COPY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      AVAILABLE&nbsp;&nbsp;&nbsp;
      D:\RMAN_BAK\MES\MES_2PQJEQ7I_1_20151011&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      TAG20151011T143448&nbsp;&nbsp;&nbsp;
      RMES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      7</p>
    <p>COPY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      AVAILABLE&nbsp;&nbsp;&nbsp;
      D:\RMAN_BAK\MES\MES_2QQJEQBP_1_20151011&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      TAG20151011T143448&nbsp;&nbsp;&nbsp;
      SYSTEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      1</p>
    <p>COPY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      AVAILABLE&nbsp;&nbsp;&nbsp;
      D:\RMAN_BAK\MES\MES_2RQJEQD7_1_20151011&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      TAG20151011T143448&nbsp;&nbsp;&nbsp;
      SYSAUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      2</p>
    <p>COPY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      AVAILABLE&nbsp;&nbsp;&nbsp;
      D:\RMAN_BAK\MES\MES_2SQJEQEA_1_20151011&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      TAG20151011T143448&nbsp;&nbsp;&nbsp;
      CMES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      5</p>
    <p>COPY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      AVAILABLE&nbsp;&nbsp;&nbsp;
      D:\RMAN_BAK\MES\MES_2TQJEQEI_1_20151011&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      TAG20151011T143448&nbsp;&nbsp;&nbsp;
      UNDOTBS1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      3</p>
    <p>COPY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      CONTROLFILE&nbsp;&nbsp;&nbsp;&nbsp; AVAILABLE&nbsp;&nbsp;&nbsp;
      D:\RMAN_BAK\MES\MES_2UQJEQEP_1_20151011&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
TAG20151011T143448&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      0</p>
    <p>COPY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      AVAILABLE&nbsp;&nbsp;&nbsp;
      D:\RMAN_BAK\MES\MES_2VQJEQES_1_20151011&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      TAG20151011T143448&nbsp;&nbsp;&nbsp;
      USERS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      4</p>
    <p>BACKUP SET&nbsp;&nbsp;&nbsp;
SPFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
    <p>BACKUP SET&nbsp;&nbsp;&nbsp;
      PIECE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      AVAILABLE&nbsp;&nbsp;&nbsp;
      D:\RMAN_BAK\MES\MES_30QJEQEU_1_20151011&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      TAG20151011T143448</p>
    <p>2、压缩备份</p>
    <p>RMAN支持压缩方式的备份，使用compressed关键字，如下命令将完成数据库和归档日志的压缩备份</p>
    <p>RMAN&gt; backup as compressed backupset database plus archivelog;</p>
    <p>3、保护备份</p>
    <p>RMAN支持多重方式的备份，使用关键字copies，如下命令将在默认磁盘目标位置生成数据库及归档日志的两套备份集</p>
    <p>RMAN&gt;&nbsp;backup as backupset device type disk copies 2
      database plus archivelog;</p>
    <p>也可以对备份集进行备份，如用以下命令可以将备份集转移备份到其它目标设备上，并将原来位置的备份删除</p>
    <p>RMAN&gt;&nbsp;backup device type disk format
      'd:\shift_bak\%d_%u_%c_%T' backupset all delete all input;</p>
    <p>4、加密备份</p>
    <p>在有些环境下可能希望需要加密的备份，因为这些备份可能存储在DBA几乎无法控制的可移动设备上。</p>
    <p>加密有透明加密和口令加密两种方式。</p>
    <p>1）透明加密</p>
    <p>这是RMAN采用的默认方式，基于钱夹（wallet）的使用。这是一个包含用于加密和解密数据的密钥文件，其本身用口令保护。这种加密方
      式适合于只在本机上进行加密备份和恢复，只需要配置好钱夹证书。证书文件需要妥善保管不可丢失，否则以后无法恢复。</p>
    <p>透明加密备份的操作过程如下：</p>
    <p>a）首先在Oracle默认的指定位置创建钱夹目录</p>
    <p>%ORACLE_BASE%\admin\&lt;sid&gt;\wallet</p>
    <p>b）查看钱夹状态，默认是关闭的</p>
    <p>SQL&gt; select * from v$encryption_wallet;</p>
    <p>WRL_TYPE&nbsp;&nbsp;
      WRL_PARAMETER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      STATUS</p>
    <p>---------- ------------------------------ ----------</p>
    <p>file&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      C:\ORACLE\ADMIN\MES\WALLET&nbsp;&nbsp;&nbsp;&nbsp; CLOSED</p>
    <p>c）打开钱夹，并给证书设置口令。系统可能会报ORA-28374错误，这是Oracle的Bug，不用理会</p>
    <p>SQL&gt;&nbsp;alter system set encryption key authenticated by
      "pm1234";</p>
    <p>alter system set encryption key authenticated by "pm1234"</p>
    <p>*</p>
    <p>第 1 行出现错误:</p>
    <p>ORA-28374: 在 Wallet 中未找到键入的主键</p>
    <p>d）配置RMAN加密备份开启</p>
    <p>RMAN&gt; configure encryption for database on;</p>
    <p>旧的 RMAN 配置参数:</p>
    <p>CONFIGURE ENCRYPTION FOR DATABASE OFF;</p>
    <p>新的 RMAN 配置参数:</p>
    <p>CONFIGURE ENCRYPTION FOR DATABASE ON;</p>
    <p>已成功存储新的 RMAN 配置参数</p>
    <p>e）之后可进行正常的备份操作。</p>
    <p>f）RMAN恢复操作前需要用正确的口令打开钱夹</p>
    <p>SQL&gt;&nbsp;alter system set wallet open identified by "pm1234";</p>
    <p>系统已更改。</p>
    <p>g）之后可进行正常的恢复操作。如果钱夹未打开，则恢复过程失败。</p>
    <p>h）如果要取消加密备份功能，则可将RMAN的加密配置重置为默认值</p>
    <p>RMAN&gt; CONFIGURE ENCRYPTION FOR DATABASE clear;</p>
    <p>旧的 RMAN 配置参数:</p>
    <p>CONFIGURE ENCRYPTION FOR DATABASE ON;</p>
    <p>RMAN 配置参数已成功重置为默认值</p>
    <p>2）口令加密</p>
    <p>这是在备份前设置好算法和密钥，之后进行正常的备份。加密备份的文件在恢复操作前需要提供正确的密钥，否则无法恢复。</p>
    <p>通过视图v$rman_encryption_algorithms可以查看RMAN支持的加密算法，默认的加密算法是AES128</p>
    <p>SQL&gt; select * from v$rman_encryption_algorithms;</p>
    <p>ALGORITHM_ID ALGORITHM_NAME&nbsp; ALGORITHM_DESCRIPTIO IS_DEFAULT
      RESTORE_ONLY</p>
    <p>------------ --------------- -------------------- ----------
      ------------</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1
      AES128&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AES
      128-bit key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NO</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2
      AES192&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AES
      192-bit key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NO</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3
      AES256&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AES
      256-bit key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NO</p>
    <p>口令加密备份的操作过程如下：</p>
    <p>a）查看RMAN当前加密算法，#default表示该项是RMAN的默认设置</p>
    <p>RMAN&gt; show encryption algorithm;</p>
    <p>db_unique_name 为 MES 的数据库的 RMAN 配置参数为:</p>
    <p>CONFIGURE ENCRYPTION ALGORITHM 'AES128'; # default</p>
    <p>b）若需要更改加密算法，可使用以下命令，如更改为AES256</p>
    <p>RMAN&gt; configure encryption algorithm 'aes256';</p>
    <p>新的 RMAN 配置参数:</p>
    <p>CONFIGURE ENCRYPTION ALGORITHM 'aes256';</p>
    <p>已成功存储新的 RMAN 配置参数</p>
    <p>c）可查看确认加密算法是否已更改</p>
    <p>RMAN&gt; show encryption algorithm;</p>
    <p>db_unique_name 为 MES 的数据库的 RMAN 配置参数为:</p>
    <p>CONFIGURE ENCRYPTION ALGORITHM 'aes256';</p>
    <p>d）如果要恢复为默认的加密算法，可使用关键字clear</p>
    <p>RMAN&gt; configure encryption algorithm clear;</p>
    <p>旧的 RMAN 配置参数:</p>
    <p>CONFIGURE ENCRYPTION ALGORITHM 'aes256';</p>
    <p>RMAN 配置参数已成功重置为默认值</p>
    <p>e）设置密钥并开启加密</p>
    <p>RMAN&gt; set encryption on identified by 'pm1234' only;</p>
    <p>正在执行命令: SET encryption</p>
    <p>f）之后可开始执行正常的备份操作。</p>
    <p>g）恢复操作前，需要提供密钥，否则无法恢复</p>
    <p>RMAN&gt; set decryption identified by 'pm1234';</p>
    <p>正在执行命令: SET decryption</p>
    <p>h）之后便可进行正常的恢复操作。</p>
    <p>5、归档备份</p>
    <p>在Oracle术语中，归档备份指的是希望长时间或永久保存的备份。通常，创建归档备份只是为了满足有关记录保留的规定。归档备份不理会
      RMAN配置的保留策略，也不会由delete obsolete命令自动删除。</p>
    <p>创建归档备份的语法如下：</p>
    <p>backup … keep { forever | until time 'date_expr' } [ restore
      point rpname ];</p>
    <p>其中forever表示永久保存不过期，until
      time则指定过期的日期，二者选一。日期表达式可以是实际的日期或计算式。如下命令将生成数据库的完整归档备份，因为是归档备份，其中也将
      包括归档日志</p>
    <p>RMAN&gt;&nbsp;backup as compressed backupset database keep until
      time 'sysdate&nbsp;+&nbsp;90' restore point quarterly_bak;</p>
    <p>六、并行化备份操作</p>
    <p>每次使用RMAN时，都至少会对目标数据库启动两个会话，被称为默认会话和轮询会话。默认会话是调用实现RMAN的内核PL/SQL的会
      话，轮询会话监视RMAN操作的进展。当RMAN读写磁盘或磁带时，它将需要第三个会话：通道。通过启动多个通道来实现备份工作的并行化，可
      减少备份花费的时间。</p>
    <p>RMAN备份时可达到的并行度受通道数和输入文件数的限制。考虑下列脚本</p>
    <p>run {</p>
    <p>allocate channel t1 type disk;</p>
    <p>allocate channel t2 type disk;</p>
    <p>allocate channel t3 type disk;</p>
    <p>allocate channel t4 type disk;</p>
    <p>backup database files per set 8;</p>
    <p>}</p>
    <p>脚本中启动了四个命名的通道，RMAN计算数据库中的文件数，并将它们分布到备份集中，每个备份集不超过8个文件。如果数据库由100个数
      据文件外加控制文件构成，那将生成13个备份集，前12个备份集每个包含8个文件，第13个备份集包含剩下的5个文件，并行度为4，并行度受
      通道数限制。但如果数据库只有20个数据文件，那将只生成3个备份集，并行度为3，有一个通道闲置，此时的并行度受输入文件数的限制。</p>
    <p>默认情况下，最大并行度是不会超过输入文件数的，因为默认同一时间内，一个通道只能对应一个文件的读取，但采用多段备份功能后，一个文件可
      以分段同时被多个通道并行访问。这一应用主要是针对那些单个较大文件的备份进行的。</p>
    <p>多段关键字的运用如下脚本</p>
    <p>run {</p>
    <p>allocate channel t1 type disk;</p>
    <p>allocate channel t2 type disk;</p>
    <p>allocate channel t3 type disk;</p>
    <p>allocate channel t4 type disk;</p>
    <p>backup as backupset datafile 16 section size 10g;</p>
    <p>}</p>
    <p>该脚本启动4个通道，每个通道读取数据文件16的一个10g大小的段，每个通道将生成包含段的备份的片（单独的物理文件）。假定文件大小为
      200G，则将生成20个备份片文件，一次并行的生成4个。如果没有section
      size关键字，则并行度将为1，只能用一个通道执行整个操作，而其它三个通道将闲置。</p>
    <p>七、配置RMAN备份的默认参数</p>
    <p>RMAN备份的默认参数往往并不适合我们的要求，在备份工作开始前可能需要配置好默认的备份参数，一旦这些参数配置好后，备份命令在未指定
      目标参数情况下将按设定的默认值来进行。</p>
    <p>show命令可以查看RMAN当前配置的默认参数，以下是在未对这些参数设置过的情况下系统的默认取值，使用show
      all命令显示了所有配置参数，每一行配置语句结尾标注的#default表明该参数值是系统的默认取值</p>
    <p>RMAN&gt; show all;</p>
    <p>使用目标数据库控制文件替代恢复目录</p>
    <p>db_unique_name 为 MES 的数据库的 RMAN 配置参数为:</p>
    <p>CONFIGURE RETENTION POLICY TO REDUNDANCY 1; # default</p>
    <p>CONFIGURE BACKUP OPTIMIZATION OFF; # default</p>
    <p>CONFIGURE DEFAULT DEVICE TYPE TO DISK; # default</p>
    <p>CONFIGURE CONTROLFILE AUTOBACKUP OFF; # default</p>
    <p>CONFIGURE CONTROLFILE AUTOBACKUP FORMAT FOR DEVICE TYPE DISK TO
      '%F'; # default</p>
    <p>CONFIGURE DEVICE TYPE DISK PARALLELISM 1 BACKUP TYPE TO
      BACKUPSET; # default</p>
    <p>CONFIGURE DATAFILE BACKUP COPIES FOR DEVICE TYPE DISK TO 1; #
      default</p>
    <p>CONFIGURE ARCHIVELOG BACKUP COPIES FOR DEVICE TYPE DISK TO 1; #
      default</p>
    <p>CONFIGURE MAXSETSIZE TO UNLIMITED; # default</p>
    <p>CONFIGURE ENCRYPTION FOR DATABASE OFF; # default</p>
    <p>CONFIGURE ENCRYPTION ALGORITHM 'AES128'; # default</p>
    <p>CONFIGURE COMPRESSION ALGORITHM 'BASIC' AS OF RELEASE 'DEFAULT'
      OPTIMIZE FOR LOAD TRUE ; # default</p>
    <p>CONFIGURE ARCHIVELOG DELETION POLICY TO NONE; # default</p>
    <p>CONFIGURE SNAPSHOT CONTROLFILE NAME TO
      'C:\ORACLE\PRODUCT\11.2.0\DBHOME_1\DATABASE\SNCFMES.ORA'; #
      default</p>
    <p>要调整这些参数的默认值，可使用configure命令，如以下一些设置：</p>
    <p>更改控制文件的备份配置，设为自动备份，并指定备份的目标路径。这样在数据库结构发生改变或做RMAN备份时会自动备份控制文件，也会备份
      spfile文件，这里%F格式只对自动备份生效，手动备份时指定该参数是无效的</p>
    <p>RMAN&gt; configure&nbsp;controlfile&nbsp;autobackup&nbsp;on;</p>
    <p>RMAN&gt;
configure&nbsp;controlfile&nbsp;autobackup&nbsp;format&nbsp;for&nbsp;device&nbsp;type&nbsp;disk&nbsp;to&nbsp;'d:\rman_bak\mes\control_bak\%F';</p>
    <p>更改数据文件备份集的目标位置和命名规则</p>
    <p>RMAN&gt;
configure&nbsp;channel&nbsp;device&nbsp;type&nbsp;disk&nbsp;format&nbsp;'d:\rman_bak\mes\%d_%u_%c_%T';</p>
    <p>更改备份类型由默认的backupset改为copy，使得RMAN的任何备份都不产生备份集，而产生映像副本</p>
    <p>RMAN&gt; configure device type disk backup type to copy;</p>
    <p>更改默认的备份设备类型由磁盘disk改为磁带sbt</p>
    <p>RMAN&gt; configure default device type to sbt;</p>
    <p>更改磁盘备份的并行数，以下启动2个通道</p>
    <p>RMAN&gt; configure device type disk parallelism 2;</p>
    <p>启用备份优化功能，这允许RMAN如果认为有足够的文件副本，就不备份特定文件。优化与保留策略有关。默认的保留策略为1，意味着RMAN
      将试图至少保存一个副本。备份优化只适用于归档日志和只读或脱机表空间的数据文件。由于联机的可读写的数据文件总是在变化，RMAN将不会认
      为它有相同的副本</p>
    <p>RMAN&gt; configure backup optimization on;</p>
    <p>更改备份的保留策略，以下将保留策略的冗余度设置为3，意味着RMAN将试图保存3个副本</p>
    <p>RMAN&gt; configure retention policy to redundancy 3;</p>
    <p>可以设置两种保留策略，冗余级别指定应保存的文件副本数。另一种策略是设置恢复窗口，以下的备份设置保证可以通过执行时间点恢复回到过去
      90天中的任意一个时间</p>
    <p>RMAN&gt; configure retention policy to recovery window of 90
      days;</p>
    <p>要将配置的设置恢复为系统默认值，可使用clear命令。如下所示，首先用show命令查看相关配置信息，再用clear命令恢复到系统默
      认值</p>
    <p>RMAN&gt; show device type;</p>
    <p>db_unique_name 为 MES 的数据库的 RMAN 配置参数为:</p>
    <p>CONFIGURE DEVICE TYPE DISK PARALLELISM 2 BACKUP TYPE TO
      BACKUPSET;</p>
    <p>RMAN&gt; configure device type disk clear;</p>
    <p>旧的 RMAN 配置参数:</p>
    <p>CONFIGURE DEVICE TYPE DISK PARALLELISM 2 BACKUP TYPE TO
      BACKUPSET;</p>
    <p>RMAN 配置参数已成功重置为默认值</p>
    <p>RMAN&gt; show device type;</p>
    <p>db_unique_name 为 MES 的数据库的 RMAN 配置参数为:</p>
    <p>CONFIGURE DEVICE TYPE DISK PARALLELISM 1 BACKUP TYPE TO
      BACKUPSET; # default</p>
    <p>实际上，在这些配置参数中，大多数的默认设置都不需要调整，RMAN就能很好的完成我们期望的备份效果。但要特别留意的是默认备份的目标位
      置并未体现在这一配置列表中。默认情况下，RMAN磁盘备份的目标位置是闪回恢复区flash_recovery_area，Oracle安
      装时它的默认选定位置是在Oracle基目录%ORACLE_BASE%中，在Oracle安装时建议调整到其它磁盘位置以提高系统性能。</p>
    <p>可以查看初始化参数db_recovery_file_dest和db_recovery_file_dest_size来查看闪回恢复区
      信息，Oracle 10g中这个区域大小默认是2G，11g中则提升为4G</p>
    <p>SQL&gt;&nbsp;show parameter db_recovery_file_dest;</p>
    <p>NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      VALUE</p>
    <p>------------------------------------ -----------
      ------------------------------</p>
    <p>db_recovery_file_dest&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      c:\oracle\flash_recovery_area</p>
    <p>db_recovery_file_dest_size&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





big



      integer&nbsp;2G</p>
    <p>如果闪回恢复区容量不够，可以调整其大小</p>
    <p>SQL&gt; alter system set db_recovery_file_dest_size=4G;</p>
    <p>采用闪回恢复区位置存放备份的好处是RMAN可以自动管理该区域，如果闪回恢复区已满，RMAN将从中自动删除过时的备份。</p>
    <p>在完成以上的配置后，可以用以下一条命令完成数据库的联机备份</p>
    <p>backup as compressed backupset incremental level 1 database plus
      archivelog delete all input;</p>
    <p>八、管理和监视RMAN备份</p>
    <p>一旦生成了一些备份，就需要对这些备份进行管理，如报告已经创建了哪些备份，这些备份包含的内容和状态怎样，哪些还需要备份，哪些备份已经
      无效或多余可以删除，如何删除之前的备份等。</p>
    <p>1、list、validate、restore...validate、restore...preview、report、
      delete和crosscheck命令</p>
    <p>list命令列出已创建的备份。</p>
    <p>列出备份汇总信息</p>
    <p>RMAN&gt; list backup summary;</p>
    <p>列出所有备份集</p>
    <p>RMAN&gt; list backupset;</p>
    <p>以上也可以使用命令</p>
    <p>RMAN&gt; list backup;</p>
    <p>查看单个备份集</p>
    <p>RMAN&gt; list backupset 5;</p>
    <p>列出所有映像副本</p>
    <p>RMAN&gt; list copy;</p>
    <p>列出所有数据库文件备份集（不包含控制文件、服务器初始化参数文件和归档日志文件）</p>
    <p>RMAN&gt; list backup of database;</p>
    <p>列出包含控制文件的备份集</p>
    <p>RMAN&gt; list backup of controlfile;</p>
    <p>列出包含服务器初始化参数文件的备份集</p>
    <p>RMAN&gt; list backup of spfile;</p>
    <p>列出所有归档日志文件备份集</p>
    <p>RMAN&gt; list backup of archivelog all;</p>
    <p>列出包含日志切换系列号为1000～1050的归档日志的备份集</p>
    <p>RMAN&gt; list backup of archivelog from sequence 1000 until
      sequence 1050;</p>
    <p>列出包含数据文件1的备份集</p>
    <p>RMAN&gt; list backup of datafile 1;</p>
    <p>列出包含USERS表空间的备份集</p>
    <p>RMAN&gt; list backup of tablespace users;</p>
    <p>列出所有归档日志文件列表</p>
    <p>RMAN&gt; list archivelog all;</p>
    <p>要改变list输出信息中的日期时间格式，可在启动RMAN前设置操作系统的环境变量nls_date_format，如在Windows
      下执行命令</p>
    <p>C:\&gt; set nls_date_format=yyyy-mm-dd hh24:mi:ss</p>
    <p>validate、restore...validate、restore...preview用于验证备份集的可用性以及验证和查看需要
      的恢复内容是否在备份集中。</p>
    <p>验证备份集的可用性</p>
    <p>RMAN&gt; validate backupset 20;</p>
    <p>验证表空间是否在备份集中</p>
    <p>RMAN&gt; restore tablespace users validate;</p>
    <p>验证数据文件是否在备份集中</p>
    <p>RMAN&gt; restore datafile 'd:\oradata\mes\system01.dbf' validate;</p>
    <p>以上命令也可以使用文件号来表示</p>
    <p>RMAN&gt;&nbsp;restore datafile 1 validate;</p>
    <p>查看恢复整个数据库的备份是否存在</p>
    <p>RMAN&gt; restore database preview;</p>
    <p>查看恢复某个表空间所需的备份是否存在</p>
    <p>RMAN&gt; restore tablespace users preview;</p>
    <p>查看恢复某个数据文件所需的备份是否存在</p>
    <p>RMAN&gt; restore datafile 5 preview;</p>
    <p>report命令按照设定的保留策略，通过询问目标数据库确定哪些需要备份。</p>
    <p>列出构成数据库的数据文件</p>
    <p>RMAN&gt; report schema;</p>
    <p>应用保留策略，列出至少需要一个备份来满足策略的所有数据文件</p>
    <p>RMAN&gt; report need backup;</p>
    <p>列出一周未备份的所有对象，使用这一命令将忽略配置的保留策略</p>
    <p>RMAN&gt; report need backup days 7;</p>
    <p>列出备份数不足2份的数据文件</p>
    <p>RMAN&gt; report need backup redundancy 2;</p>
    <p>按照保留策略的冗余度，列出所有多余的不再需要而可以删除的备份</p>
    <p>RMAN&gt; report obsolete;</p>
    <p>该命令之后可以使用delete命令将多余的备份删除</p>
    <p>RMAN&gt; delete obsolete;</p>
    <p>列出以7天为恢复窗口策略的过期备份</p>
    <p>RMAN&gt; report obsolete recovery window of 7 days;</p>
    <p>该命令之后可以使用delete命令将多余的备份删除</p>
    <p>RMAN&gt; delete obsolete recovery window of 7 days;</p>
    <p>列出以冗余度2为冗余策略的过期备份</p>
    <p>RMAN&gt; report obsolete redundancy 2;</p>
    <p>该命令之后可以使用delete命令将多余的备份删除</p>
    <p>RMAN&gt; delete obsolete redundancy 2;</p>
    <p>delete命令也可以一次性删除所有的备份或有选择性的删除备份。</p>
    <p>删除所有的备份</p>
    <p>RMAN&gt; delete backup;</p>
    <p>删除所有的映像副本</p>
    <p>RMAN&gt; delete copy;</p>
    <p>删除所有的数据库文件备份（不包括控制文件、服务器初始化参数文件和归档日志文件）</p>
    <p>RMAN&gt; delete backup of database;</p>
    <p>删除控制文件备份</p>
    <p>RMAN&gt; delete backup of controlfile;</p>
    <p>删除初始化参数文件备份</p>
    <p>RMAN&gt; delete backup of spfile;</p>
    <p>删除所有归档日志文件备份</p>
    <p>RMAN&gt; delete backup of archivelog all;</p>
    <p>删除指定编号的备份集</p>
    <p>RMAN&gt; delete backupset 36;</p>
    <p>删除指定标记的备份集</p>
    <p>RMAN&gt; delete backupset tag TAG20151006T145256;</p>
    <p>删除所有归档日志文件</p>
    <p>RMAN&gt; delete archivelog all;</p>
    <p>list和report命令读取的是RMAN存储库中的信息，即存储在目标数据库控制文件中的数据。它并不能说明备份文件物理上实际还是否
      真的存在。要确认备份是否确实存在，需要使用交叉检查crosscheck命令。</p>
    <p>交叉检查所有备份是否存在</p>
    <p>RMAN&gt; crosscheck backup;</p>
    <p>交叉检查数据库文件的备份是否存在</p>
    <p>RMAN&gt; crosscheck backup of database;</p>
    <p>交叉检查控制文件的备份是否存在</p>
    <p>RMAN&gt; crosscheck backup of controlfile;</p>
    <p>交叉检查初始化参数文件的备份是否存在</p>
    <p>RMAN&gt; crosscheck backup of spfile;</p>
    <p>交叉检查所有归档日志文件是否存在</p>
    <p>RMAN&gt; crosscheck archivelog all;</p>
    <p>交叉检查所有归档日志文件的备份是否存在</p>
    <p>RMAN&gt; crosscheck backup of archivelog all;</p>
    <p>对于检查结果为不存在的备份，在存储库中将被标记为过期失效的expired，而真实存在的备份则被标记为可用的available。标记
      为expired的备份信息可以通过delete
      expired命令将它从RMAN存储库中删除，之后将不再会被显示在list命令结果中。它与delete
      obsolete命令不同，delete obsolete命令会实际删除文件并更新存储库信息，而delete
      expired命令仅更新存储库信息，不会从磁盘上真正删除文件。</p>
    <p>删除存储库中过期的所有备份信息</p>
    <p>RMAN&gt; delete expired backup;</p>
    <p>有时因为我们手工删除了归档日志，导致RMAN发现归档缺失而无法执行备份。此时可以应用交叉检查命令首先检查归档日志文件的缺失情况</p>
    <p>RMAN&gt; crosscheck archivelog all;</p>
    <p>然后从RMAN存储库中删除过期的归档日志记录</p>
    <p>RMAN&gt;&nbsp;delete expired archivelog all;</p>
    <p>之后便可以执行正常的备份了。</p>
    <p>2、关于RMAN备份的动态性能视图</p>
    <p>如果要更灵活的查询RMAN备份的信息，开发自己的报告，而不是依赖于RMAN的list命令，可以借助以下一些视图</p>
    <p>v$backup_files：</p>
    <p>备份文件信息（包括数据文件、控制文件、SPFILE、归档日志文件），未经备份的归档日志也会记录其中，它们没有备份集编号。</p>
    <p>col backup_type for a20</p>
    <p>col file_type for a20</p>
    <p>col fname for a100</p>
    <p>col tag for a30</p>
    <p>col df_tablespace for a20</p>
    <p>select&nbsp;bs_key,&nbsp;backup_type, file_type, status, fname,
      tag, obsolete, bytes, bs_completion_time, df_tablespace, df_file#,
      rl_sequence# from v$backup_files;</p>
    <p>&nbsp;&nbsp;&nbsp; BS_KEY
      BACKUP_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      FILE_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





STATUS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
FNAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





OBSOLETE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      BYTES BS_COMPLETION_TIME
      DF_TABLESPACE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DF_FILE# RL_SEQUENCE#</p>
    <p>---------- -------------------- --------------------
      ----------------
      ----------------------------------------------------------------------------------------------------






------------------------------



      -------- ---------- ------------------ --------------------
      ---------- ------------</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      ARCHIVED
      LOG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      11453440 2016/12/3
      23:01:40&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      157</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      ARCHIVED
      LOG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      2435072 2016/12/3
      23:01:40&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      158</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      PIECE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





AVAILABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
D:\FLASH_RECOVERY_AREA\MES\BACKUPSET\2016_12_03\O1_MF_ANNNN_TAG20161203T230138_D45QLN48_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG20161203T230138&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      5046272 2016/12/3
23:01:40&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






D:\ORADATA\MES\INDX01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      657506304 2016/12/3 23:03:03
      INDX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      7</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






D:\ORADATA\MES\RMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      772112384 2016/12/3 23:03:03
      RMES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      6</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






D:\ORADATA\MES\RMES02.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      741302272 2016/12/3 23:03:03
      RMES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      9</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






D:\ORADATA\MES\SYSTEM01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      410411008 2016/12/3 23:03:03
      SYSTEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      1</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






D:\ORADATA\MES\HMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
188416



      2016/12/3 23:03:03
      HMES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      8</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






D:\ORADATA\MES\SYSAUX01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      216842240 2016/12/3 23:03:03
      SYSAUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      3</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






D:\ORADATA\MES\CMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      15392768 2016/12/3 23:03:03
      CMES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      5</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






D:\ORADATA\MES\UNDOTBS01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      88473600 2016/12/3 23:03:03
      UNDOTBS1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      2</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






D:\ORADATA\MES\USERS01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
614400



      2016/12/3 23:03:03
      USERS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      4</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






D:\ORADATA\MES\INDX02.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      581894144 2016/12/3 23:03:03
      INDX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      10</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      PIECE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





AVAILABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
D:\FLASH_RECOVERY_AREA\MES\BACKUPSET\2016_12_03\O1_MF_NNND1_TAG20161203T230141_D45QLOYK_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG20161203T230141&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      596959232 2016/12/3
23:03:03&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      ARCHIVED
      LOG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
609280



      2016/12/3
      23:03:09&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      159</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      PIECE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





AVAILABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
D:\FLASH_RECOVERY_AREA\MES\BACKUPSET\2016_12_03\O1_MF_ANNNN_TAG20161203T230308_D45QOFDJ_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG20161203T230308&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
610816



      2016/12/3
23:03:09&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      COPY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





ARCHIVED



      LOG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      AVAILABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      D:\FLASH_RECOVERY_AREA\MES\ARCHIVELOG\2016_12_04\O1_MF_1_160_D46WLOPT_.ARC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      1951232&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      160</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4 BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      SPFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





2



      2016/12/3
23:03:10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4 BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      CONTROLFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      7045120 2016/12/3
      23:03:10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      0</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4 BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      PIECE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





AVAILABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
D:\FLASH_RECOVERY_AREA\MES\AUTOBACKUP\2016_12_03\O1_MF_S_929660590_D45QOGRN_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG20161203T230310&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      7127040 2016/12/3
23:03:10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
    <p>查看映像副本备份</p>
    <p>select backup_type, file_type, status, fname, tag, obsolete,
      bytes, df_tablespace, df_file# from v$backup_files where
      backup_type = 'COPY';</p>
    <p>BACKUP_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      FILE_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





STATUS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
FNAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TAG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






OBS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      BYTES
      DF_TABLESPACE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DF_FILE#</p>
    <p>-------------------- -------------------- ----------------
      ----------------------------------------------------------------------------------------------------






------------------------------



      --- ---------- -------------------- ----------</p>
    <p>COPY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





AVAILABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
E:\FLASH_RECOVERY_AREA\MES\BACKUPSET\MES_06RMUTNJ_1_20161208&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






INC_COPY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





NO&nbsp;&nbsp;



      503316480
      SYSTEM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      1</p>
    <p>COPY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





AVAILABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
E:\FLASH_RECOVERY_AREA\MES\BACKUPSET\MES_07RMUTOD_1_20161208&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






INC_COPY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





NO&nbsp;&nbsp;



      283115520
      SYSAUX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      3</p>
    <p>COPY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





AVAILABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
E:\FLASH_RECOVERY_AREA\MES\BACKUPSET\MES_08RMUTOS_1_20161208&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






INC_COPY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





NO&nbsp;&nbsp;&nbsp;



      26214400
      UNDOTBS1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      2</p>
    <p>COPY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





AVAILABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
E:\FLASH_RECOVERY_AREA\MES\BACKUPSET\MES_09RMUTOV_1_20161208&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






INC_COPY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





NO&nbsp;&nbsp;&nbsp;&nbsp;



      5242880
      USERS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      4</p>
    <p>查询尚未备份的归档日志</p>
    <p>col fname for a100</p>
    <p>select rl_sequence#, fname, status, completion_time, obsolete
      from v$backup_files where backup_type = 'COPY' and file_type =
      'ARCHIVED LOG';</p>
    <p>RL_SEQUENCE#
      FNAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






STATUS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
COMPLETION_TIME



      OBSOLETE</p>
    <p>------------
      ----------------------------------------------------------------------------------------------------






----------------



      --------------- --------</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 160
      D:\FLASH_RECOVERY_AREA\MES\ARCHIVELOG\2016_12_04\O1_MF_1_160_D46WLOPT_.ARC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






AVAILABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      2016/12/4 9:33: NO</p>
    <p>根据备份文件名查询其包含的备份信息</p>
    <p>col backup_type for a15</p>
    <p>col file_type for a15</p>
    <p>col fname for a100</p>
    <p>col bs_incr_type for a15</p>
    <p>col df_tablespace for a15</p>
    <p>select backup_type, file_type, fname, tag, completion_time,
      compressed, obsolete, bs_incr_type, df_file#, df_tablespace from
      v$backup_files where stamp = (select stamp from v$backup_files
      where fname like '%O1_MF_NNND1_TAG20161204T145847_D47HO8HL_%');</p>
    <p>BACKUP_TYPE&nbsp;&nbsp;&nbsp;&nbsp;
      FILE_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      FNAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





COMPLETION_TIME



      COMPRESSED OBSOLETE BS_INCR_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DF_FILE# DF_TABLESPACE</p>
    <p>--------------- ---------------
      ----------------------------------------------------------------------------------------------------






--------------------------------



      --------------- ---------- -------- --------------- ----------
      ---------------</p>
    <p>BACKUP SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      D:\ORADATA\MES\INDX01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
INCR1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





7



      INDX</p>
    <p>BACKUP SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      D:\ORADATA\MES\USERS01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
INCR1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





4



      USERS</p>
    <p>BACKUP SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      D:\ORADATA\MES\RMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
INCR1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





6



      RMES</p>
    <p>BACKUP SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      D:\ORADATA\MES\RMES02.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
INCR1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





9



      RMES</p>
    <p>BACKUP SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      D:\ORADATA\MES\INDX02.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
INCR1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





10



      INDX</p>
    <p>BACKUP SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      D:\ORADATA\MES\HMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
INCR1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





8



      HMES</p>
    <p>BACKUP SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      D:\ORADATA\MES\CMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
INCR1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





5



      CMES</p>
    <p>BACKUP SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      PIECE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      D:\FLASH_RECOVERY_AREA\MES\BACKUPSET\2016_12_04\O1_MF_NNND1_TAG20161204T145847_D47HO8HL_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG20161204T145847&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





2016/12/4



      14:58 YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
INCR1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
    <p>查询按照保留策略属于已经废弃的备份</p>
    <p>col fname for a100</p>
    <p>select fname, tag from v$backup_files where file_type='PIECE' and
      obsolete='YES';</p>
    <p>FNAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      TAG</p>
    <p>----------------------------------------------------------------------------------------------------



      ------------------------------</p>
    <p>D:\FLASH_RECOVERY_AREA\MES\BACKUPSET\2016_12_03\O1_MF_ANNNN_TAG20161203T230138_D45QLN48_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      TAG20161203T230138</p>
    <p>D:\FLASH_RECOVERY_AREA\MES\AUTOBACKUP\2016_12_03\O1_MF_S_929660590_D45QOGRN_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      TAG20161203T230310</p>
    <p>D:\FLASH_RECOVERY_AREA\MES\AUTOBACKUP\2016_12_04\O1_MF_S_929717936_D47HOJO1_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      TAG20161204T145856</p>
    <p>D:\FLASH_RECOVERY_AREA\MES\AUTOBACKUP\2016_12_04\O1_MF_S_929739489_D484Q18P_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      TAG20161204T205809</p>
    <p>D:\FLASH_RECOVERY_AREA\MES\AUTOBACKUP\2016_12_04\O1_MF_S_929743942_D48926C1_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      TAG20161204T221222</p>
    <p>D:\FLASH_RECOVERY_AREA\MES\AUTOBACKUP\2016_12_04\O1_MF_S_929743973_D489355M_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      TAG20161204T221253</p>
    <p>D:\FLASH_RECOVERY_AREA\MES\AUTOBACKUP\2016_12_04\O1_MF_S_929743988_D4893NW7_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      TAG20161204T221308</p>
    <p>v$backup_set：</p>
    <p>每个备份集一行信息，可与视图v$backup_files联合查询。</p>
    <p>col 备份类型 for a10</p>
    <p>col&nbsp;文件名&nbsp;for a100</p>
    <p>col 标记 for a20</p>
    <p>col 文件类型 for a20</p>
    <p>col 备份内容 for a20</p>
    <p>col 增量类型 for a10</p>
    <p>select
      bf.bs_key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      关键字,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      bf.backup_type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      备份类型,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      bf.fname&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      文件名,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      bf.tag&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      标记,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      bf.bytes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      文件大小,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      bf.status&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      状态,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      bf.bs_type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      备份内容,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      bf.bs_incr_type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      增量类型,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bs.controlfile_included
      控制文件,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      bf.compressed&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      压缩备份,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      bf.obsolete&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      多余备份,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      --bs.multi_section&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 多段备份,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      bf.keep&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      归档备份,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      bf.keep_options&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      归档选项,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      bf.keep_until&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      过期时间,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      bs.start_time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      开始时间,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      bs.completion_time&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 完成时间,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      bs.elapsed_seconds&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 花费时间</p>
    <p>&nbsp; from v$backup_files bf, v$backup_set bs</p>
    <p>&nbsp;where bf.bs_key = bs.recid</p>
    <p>&nbsp;&nbsp; and bf.file_type = 'PIECE';</p>
    <p>关键字&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;备份类
      型&nbsp;&nbsp; 文件
      名&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      标
      记&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      文件大小&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;状
      态&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      备份内
      容&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      增量类型&nbsp;&nbsp; 控制文件 压缩备份 多余备份 归档备份
      归档选项&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 过期时间&nbsp;&nbsp;&nbsp;
      开始时间&nbsp;&nbsp;&nbsp; 完成时间&nbsp;&nbsp;&nbsp; 花费时间</p>
    <p>---------- ----------
      ----------------------------------------------------------------------------------------------------






--------------------



      ---------- ---------------- -------------------- ----------
      -------- -------- -------- -------- ------------- -----------
      ----------- ----------- ----------</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 BACKUP SET
      D:\FLASH_RECOVERY_AREA\MES\BACKUPSET\2016_12_03\O1_MF_ANNNN_TAG20161203T230138_D45QLN48_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG20161203T230138&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      5046272 AVAILABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      ARCHIVED LOG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      FULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






2016/12/3



      2 2016/12/3
      2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 BACKUP SET
      D:\FLASH_RECOVERY_AREA\MES\BACKUPSET\2016_12_03\O1_MF_NNND1_TAG20161203T230141_D45QLOYK_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG20161203T230141&nbsp;&nbsp;&nbsp;



      596959232 AVAILABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





INCR1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






2016/12/3



      2 2016/12/3 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 82</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 BACKUP SET
      D:\FLASH_RECOVERY_AREA\MES\BACKUPSET\2016_12_03\O1_MF_ANNNN_TAG20161203T230308_D45QOFDJ_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG20161203T230308&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      610816 AVAILABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      ARCHIVED LOG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      FULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






2016/12/3



      2 2016/12/3
      2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4 BACKUP SET
      D:\FLASH_RECOVERY_AREA\MES\AUTOBACKUP\2016_12_03\O1_MF_S_929660590_D45QOGRN_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG20161203T230310&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      7127040 AVAILABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DATAFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





FULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






2016/12/3



      2 2016/12/3
      2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0</p>
    <p>v$backup_piece：</p>
    <p>每个备份片一行信息，这里面也包含了已删除的备份。</p>
    <p>col handle for a100</p>
    <p>select
      recid,&nbsp;handle,&nbsp;tag,&nbsp;status,&nbsp;start_time,&nbsp;completion_time,&nbsp;elapsed_seconds,&nbsp;deleted,&nbsp;bytes,&nbsp;is_recovery_dest_file,&nbsp;compressed






from



      v$backup_piece;</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp; RECID
      HANDLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





STATUS



      START_TIME&nbsp; COMPLETION_TIME ELAPSED_SECONDS
      DELETED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BYTES IS_RECOVERY_DEST_FILE
      COMPRESSED</p>
    <p>----------
      ----------------------------------------------------------------------------------------------------






--------------------------------



      ------ ----------- --------------- --------------- -------
      ---------- --------------------- ----------</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1
      D:\FLASH_RECOVERY_AREA\MES\BACKUPSET\2016_12_03\O1_MF_ANNNN_TAG20161203T230138_D45QLN48_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG20161203T230138&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      2016/12/3 2 2016/12/3
      23:01&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





0



      NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5046272
      YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      YES</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2
      D:\FLASH_RECOVERY_AREA\MES\BACKUPSET\2016_12_03\O1_MF_NNND1_TAG20161203T230141_D45QLOYK_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG20161203T230141&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      2016/12/3 2 2016/12/3
      23:03&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





82



      NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 596959232
      YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      YES</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3
      D:\FLASH_RECOVERY_AREA\MES\BACKUPSET\2016_12_03\O1_MF_ANNNN_TAG20161203T230308_D45QOFDJ_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG20161203T230308&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      2016/12/3 2 2016/12/3
      23:03&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





0



      NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 610816
      YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      YES</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4
      D:\FLASH_RECOVERY_AREA\MES\AUTOBACKUP\2016_12_03\O1_MF_S_929660590_D45QOGRN_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG20161203T230310&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      2016/12/3 2 2016/12/3
      23:03&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





0



      NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7127040
      YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      NO</p>
    <p>v$backup_piece_details：</p>
    <p>备份片详细信息，可以结合v$backup_piece查询。</p>
    <p>col handle for a100</p>
    <p>col size_bytes_display for&nbsp;a10</p>
    <p>select t1.recid,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t1.handle,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t1.tag,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t1.status,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t1.start_time,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t1.completion_time,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t1.elapsed_seconds,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t1.deleted,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t1.bytes,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t1.is_recovery_dest_file,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t1.compressed,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t2.size_bytes_display</p>
    <p>&nbsp; from v$backup_piece t1 join v$backup_piece_details t2 on
      (t1.recid = t2.recid);</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp; RECID
      HANDLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





STATUS



      START_TIME&nbsp; COMPLETION_TIME ELAPSED_SECONDS
      DELETED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BYTES IS_RECOVERY_DEST_FILE
      COMPRESSED SIZE_BYTES</p>
    <p>----------
      ----------------------------------------------------------------------------------------------------






--------------------------------



      ------ ----------- --------------- --------------- -------
      ---------- --------------------- ---------- ----------</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4
      D:\FLASH_RECOVERY_AREA\MES\AUTOBACKUP\2016_12_03\O1_MF_S_929660590_D45QOGRN_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG20161203T230310&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      2016/12/3 2 2016/12/3
      23:03&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





0



      NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7127040
      YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      6.80M</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1
      D:\FLASH_RECOVERY_AREA\MES\BACKUPSET\2016_12_03\O1_MF_ANNNN_TAG20161203T230138_D45QLN48_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG20161203T230138&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      2016/12/3 2 2016/12/3
      23:01&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





0



      NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5046272
      YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      4.81M</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2
      D:\FLASH_RECOVERY_AREA\MES\BACKUPSET\2016_12_03\O1_MF_NNND1_TAG20161203T230141_D45QLOYK_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG20161203T230141&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      2016/12/3 2 2016/12/3
      23:03&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





82



      NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 596959232
      YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      569.30M</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3
      D:\FLASH_RECOVERY_AREA\MES\BACKUPSET\2016_12_03\O1_MF_ANNNN_TAG20161203T230308_D45QOFDJ_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG20161203T230308&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      2016/12/3 2 2016/12/3
      23:03&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





0



      NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 610816
      YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      596.50K</p>
    <p>v$backup_redolog：</p>
    <p>归档日志备份信息，可与视图v$backup_files联合查询。</p>
    <p>col bs_tag for a20</p>
    <p>select t1.sequence#,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t2.bs_tag,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t1.resetlogs_change#,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t1.resetlogs_time,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t1.first_change#,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t1.first_time,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t1.next_change#,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t1.next_time,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t2.keep,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t2.obsolete,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t2.bs_status,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t2.bs_bytes,</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; t2.bs_compressed</p>
    <p>&nbsp; from v$backup_redolog t1</p>
    <p>&nbsp; join v$backup_files t2&nbsp;on (t1.sequence# =
      t2.rl_sequence#);</p>
    <p>&nbsp;SEQUENCE#
      BS_TAG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





RESETLOGS_CHANGE#



      RESETLOGS_TIME FIRST_CHANGE# FIRST_TIME&nbsp; NEXT_CHANGE#
      NEXT_TIME&nbsp;&nbsp; KEEP OBSOLETE
      BS_STATUS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      BS_BYTES BS_COMPRESSED</p>
    <p>---------- -------------------- ----------------- --------------
      ------------- ----------- ------------ ----------- ---- --------
      ---------------- ---------- -------------</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 157
      TAG20161203T230138&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





602121



      2016/10/31 22:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3949968
      2016/12/3 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3980863 2016/12/3 2
      NO&nbsp;&nbsp; YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      AVAILABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      5046272 YES</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 158
      TAG20161203T230138&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





602121



      2016/10/31 22:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3980863
      2016/12/3 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3982037 2016/12/3 2
      NO&nbsp;&nbsp; YES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      AVAILABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      5046272 YES</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 159
      TAG20161203T230308&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





602121



      2016/10/31 22:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3982037
      2016/12/3 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3982215 2016/12/3 2
      NO&nbsp;&nbsp; NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      AVAILABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





610816



      YES</p>
    <p>v$backup_spfile：</p>
    <p>已备份的spfile及controlfile信息。</p>
    <p>col fname for a100</p>
    <p>select t.backup_type, t.file_type, t.status, t.fname, t.tag,
      t.completion_time, t.obsolete, t.bs_bytes from v$backup_files t
      where t.stamp&nbsp;in&nbsp;(select stamp from v$backup_spfile);</p>
    <p>BACKUP_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      FILE_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





STATUS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
FNAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





COMPLETION_TIME



      OBSOLETE&nbsp;&nbsp; BS_BYTES</p>
    <p>-------------------- -------------------- ----------------
      ----------------------------------------------------------------------------------------------------






------------------------------



      --------------- -------- ----------</p>
    <p>BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      SPFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      7127040</p>
    <p>BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      CONTROLFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      7127040</p>
    <p>BACKUP
      SET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      PIECE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





AVAILABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
D:\FLASH_RECOVERY_AREA\MES\AUTOBACKUP\2016_12_03\O1_MF_S_929660590_D45QOGRN_.BKP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;






TAG20161203T230310&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





2016/12/3



      23:03 NO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      7127040</p>
    <p>v$backup_datafile：</p>
    <p>每个由数据文件备份构成的一行信息。</p>
    <p>col name for a50</p>
    <p>col read_radio for a10</p>
    <p>select t1.file#, t2.name, t1.datafile_blocks, t1.blocks_read,
      to_char(round(t1.blocks_read / t1.datafile_blocks, 2) * 100) ||
      '%' read_radio, t1.completion_time</p>
    <p>&nbsp; from v$backup_datafile t1 join v$datafile t2 on (t1.file#
      = t2.file#) order by file#, completion_time;</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp; FILE#
      NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





DATAFILE_BLOCKS



      BLOCKS_READ READ_RADIO COMPLETION_TIME</p>
    <p>---------- --------------------------------------------------
      --------------- ----------- ---------- -------------------</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1
      D:\ORADATA\MES\SYSTEM01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





65280&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      65280 100%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-03 23:02:39</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1
      D:\ORADATA\MES\SYSTEM01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





65280&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      1895 3%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      14:58:49</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1
      D:\ORADATA\MES\SYSTEM01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





65280&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      1135 2%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      20:58:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2
      D:\ORADATA\MES\UNDOTBS01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





10880&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      10880 100%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-03 23:02:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2
      D:\ORADATA\MES\UNDOTBS01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





10880&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      1983 18%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      14:58:49</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2
      D:\ORADATA\MES\UNDOTBS01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





10880&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      679 6%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      20:58:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3
      D:\ORADATA\MES\SYSAUX01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





38400&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      38400 100%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-03 23:02:16</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3
      D:\ORADATA\MES\SYSAUX01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





38400&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      5815 15%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      14:58:49</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3
      D:\ORADATA\MES\SYSAUX01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





38400&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      3467 9%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      20:58:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4
      D:\ORADATA\MES\USERS01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





640&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      640 100%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-03 23:02:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4
      D:\ORADATA\MES\USERS01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





640&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      1 0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      14:58:48</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4
      D:\ORADATA\MES\USERS01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





640&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      255 40%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      20:58:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5
      D:\ORADATA\MES\CMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





12800&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      12800 100%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-03 23:01:52</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5
      D:\ORADATA\MES\CMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





12800&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      14:58:48</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5
      D:\ORADATA\MES\CMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





12800&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      20:58:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6
      D:\ORADATA\MES\RMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





131072&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      131072 100%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-03
      23:03:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6
      D:\ORADATA\MES\RMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





131072&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
9



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      14:58:48</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6
      D:\ORADATA\MES\RMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





131072&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      13 0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      20:58:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7
      D:\ORADATA\MES\INDX01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





131072&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      131072 100%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-03
      23:03:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7
      D:\ORADATA\MES\INDX01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





131072&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      14:58:48</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 7
      D:\ORADATA\MES\INDX01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





131072&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      20:58:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8
      D:\ORADATA\MES\HMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





64000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      64000 100%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-03 23:02:38</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8
      D:\ORADATA\MES\HMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





64000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      14:58:48</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8
      D:\ORADATA\MES\HMES01.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





64000&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      20:58:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 9
      D:\ORADATA\MES\RMES02.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





131072&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      131072 100%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-03
      23:03:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 9
      D:\ORADATA\MES\RMES02.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





131072&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      14:58:48</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 9
      D:\ORADATA\MES\RMES02.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





131072&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      20:58:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10
      D:\ORADATA\MES\INDX02.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





131072&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      131072 100%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-03
      23:03:03</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10
      D:\ORADATA\MES\INDX02.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





131072&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      14:58:48</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10
      D:\ORADATA\MES\INDX02.DBF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





131072&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1



      0%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2016-12-04
      20:58:03</p>
    <p>v$backup_device：</p>
    <p>用于磁带备份，显示已连接到RMAN的SBT设备的名称。</p>
    <p>select * from v$backup_device;</p>
    <p>DEVICE_TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEVICE_NAME</p>
    <p>----------------- -----------------------------------</p>
    <p>SBT_TAPE</p>
    <p>v$rman_configuration：</p>
    <p>RMAN非默认的备份配置信息。</p>
    <p>col name for a50</p>
    <p>col value for a80</p>
    <p>select * from v$rman_configuration;</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp; CONF#
      NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      VALUE</p>
    <p>---------- --------------------------------------------------
--------------------------------------------------------------------------------</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 CONTROLFILE
      AUTOBACKUP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



      ON</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2
      CHANNEL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;





DEVICE



      TYPE DISK FORMAT&nbsp;&nbsp;
      'd:\flash_recovery_area\mes\backupset\%d_%u_%c_%T'</p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3 CONTROLFILE
      AUTOBACKUP FORMAT FOR DEVICE TYPE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      DISK TO 'd:\flash_recovery_area\mes\autobackup\%F'</p>
    <span class="markedContent" id="page885R_mcid0"><span
        class="markedContent" id="page885R_mcid0"><span style="left:
          254.402px; top: 853.548px; font-size: 17.5px; font-family:
          serif;" role="presentation" dir="ltr"><br>
        </span></span></span> <span class="markedContent"
      id="page882R_mcid0"><span class="markedContent"
        id="page882R_mcid0"><span style="left: 184.3px; top: 1230.55px;
          font-size: 17.5px; font-family: serif; transform:
          scaleX(0.944857);" role="presentation" dir="ltr"></span></span></span><span
      class="markedContent" id="page879R_mcid0"><span
        class="markedContent" id="page879R_mcid0"><span style="left:
          150.007px; top: 1217.54px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr"></span></span></span><span
      class="markedContent" id="page876R_mcid0"><span
        class="markedContent" id="page876R_mcid0"><span style="left:
          150.004px; top: 1243.54px; font-size: 17.5px; font-family:
          serif; transform: scaleX(1);" role="presentation" dir="ltr"></span></span></span><span
      style="left: 150px; top: 386.95px; font-size: 17.5px; font-family:
      serif; transform: scaleX(0.979462);" role="presentation" dir="ltr"><span
        class="markedContent" id="page871R_mcid0"><span style="left:
          150px; top: 386.95px; font-size: 17.5px; font-family: serif;
          transform: scaleX(0.979462);" role="presentation" dir="ltr"><span
            class="markedContent" id="page871R_mcid0"><span
              class="markedContent" id="page871R_mcid0"><span
                style="left: 185px; top: 1221.25px; font-size: 17.5px;
                font-family: serif; transform: scaleX(1.07929);"
                role="presentation" dir="ltr"></span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 473.185px; font-size: 20px; font-family: serif;
          transform: scaleX(1.00333);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 347.35px; font-size: 17.5px;
            font-family: monospace; transform: scaleX(1.0038);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                347.35px; font-size: 17.5px; font-family: monospace;
                transform: scaleX(1.0038);" role="presentation"
                dir="ltr"></span></span></span></span></span></span><span
      class="markedContent" id="page868R_mcid0"><span
        class="markedContent" id="page868R_mcid0"><span style="left:
          150px; top: 631.25px; font-size: 17.5px; font-family: serif;
          transform: scaleX(1);" role="presentation" dir="ltr"><span
            style="left: 150px; top: 130.25px; font-size: 17.5px;
            font-family: serif; transform: scaleX(1.00767);"
            role="presentation" dir="ltr"><span class="markedContent"
              id="page871R_mcid0"><span style="left: 150px; top:
                130.25px; font-size: 17.5px; font-family: serif;
                transform: scaleX(1.00767);" role="presentation"
                dir="ltr"></span></span></span> </span></span></span>
  </body>
</html>
